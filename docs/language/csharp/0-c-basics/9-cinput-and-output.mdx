---
title: C# 输入输出
description: 学习如何在 C# 中进行基本的输入输出操作，包括从控制台读取输入和向控制台输出信息。
---

# C# 输入输出

在编程中，输入和输出（I/O）是与用户交互的基础。C# 提供了简单而强大的工具来处理输入和输出操作，特别是在控制台应用程序中。本文将详细介绍如何在 C# 中进行基本的输入输出操作，并通过实际案例帮助你理解这些概念。

## 介绍

输入输出是程序与用户或外部世界交互的方式。在 C# 中，最常见的输入输出方式是通过控制台。控制台是一个文本界面，用户可以通过键盘输入数据，程序则可以将结果显示在屏幕上。

C# 提供了 `Console` 类来处理控制台的输入输出操作。`Console` 类位于 `System` 命名空间中，因此在使用之前，通常需要引入该命名空间。

## 控制台输出

在 C# 中，使用 `Console.WriteLine` 方法可以将文本输出到控制台，并在末尾添加一个换行符。如果你不希望换行，可以使用 `Console.Write` 方法。

### 示例：输出文本

```csharp
using System;

class Program
{
    static void Main()
    {
        Console.WriteLine("Hello, World!"); // 输出并换行
        Console.Write("This is a line without a newline."); // 输出但不换行
    }
}
```

**输出：**
```
Hello, World!
This is a line without a newline.
```

:::tip
`Console.WriteLine` 和 `Console.Write` 都可以接受格式化字符串，允许你将变量值插入到输出文本中。
:::

### 示例：格式化输出

```csharp
using System;

class Program
{
    static void Main()
    {
        string name = "Alice";
        int age = 25;
        Console.WriteLine("Name: {0}, Age: {1}", name, age);
    }
}
```

**输出：**
```
Name: Alice, Age: 25
```

## 控制台输入

要从控制台读取用户输入，可以使用 `Console.ReadLine` 方法。该方法会读取用户输入的一行文本，并将其作为字符串返回。

### 示例：读取用户输入

```csharp
using System;

class Program
{
    static void Main()
    {
        Console.Write("Enter your name: ");
        string name = Console.ReadLine();
        Console.WriteLine("Hello, " + name + "!");
    }
}
```

**输入：**
```
Enter your name: Bob
```

**输出：**
```
Hello, Bob!
```

:::caution
`Console.ReadLine` 返回的是字符串类型。如果你需要读取其他类型的数据（如整数或浮点数），你需要将字符串转换为相应的类型。
:::

### 示例：读取并转换输入

```csharp
using System;

class Program
{
    static void Main()
    {
        Console.Write("Enter your age: ");
        string input = Console.ReadLine();
        int age = int.Parse(input); // 将字符串转换为整数
        Console.WriteLine("You are {0} years old.", age);
    }
}
```

**输入：**
```
Enter your age: 30
```

**输出：**
```
You are 30 years old.
```

:::warning
如果用户输入的不是有效的整数，`int.Parse` 会抛出异常。为了避免程序崩溃，可以使用 `int.TryParse` 方法，它在转换失败时不会抛出异常，而是返回 `false`。
:::

### 示例：使用 `TryParse` 安全地读取整数

```csharp
using System;

class Program
{
    static void Main()
    {
        Console.Write("Enter your age: ");
        string input = Console.ReadLine();
        if (int.TryParse(input, out int age))
        {
            Console.WriteLine("You are {0} years old.", age);
        }
        else
        {
            Console.WriteLine("Invalid input. Please enter a valid number.");
        }
    }
}
```

**输入：**
```
Enter your age: thirty
```

**输出：**
```
Invalid input. Please enter a valid number.
```

## 实际应用场景

### 案例：简单的计算器

让我们通过一个简单的计算器程序来展示输入输出的实际应用。该程序会要求用户输入两个数字，然后输出它们的和。

```csharp
using System;

class Program
{
    static void Main()
    {
        Console.Write("Enter the first number: ");
        string input1 = Console.ReadLine();
        Console.Write("Enter the second number: ");
        string input2 = Console.ReadLine();

        if (double.TryParse(input1, out double num1) && double.TryParse(input2, out double num2))
        {
            double sum = num1 + num2;
            Console.WriteLine("The sum of {0} and {1} is {2}.", num1, num2, sum);
        }
        else
        {
            Console.WriteLine("Invalid input. Please enter valid numbers.");
        }
    }
}
```

**输入：**
```
Enter the first number: 5.5
Enter the second number: 3.2
```

**输出：**
```
The sum of 5.5 and 3.2 is 8.7.
```

## 总结

在本文中，我们学习了如何在 C# 中进行基本的输入输出操作。我们介绍了如何使用 `Console.WriteLine` 和 `Console.Write` 方法输出文本，以及如何使用 `Console.ReadLine` 方法读取用户输入。我们还讨论了如何安全地将字符串转换为其他数据类型，并通过一个简单的计算器程序展示了这些概念的实际应用。

掌握输入输出操作是编程的基础，希望本文能帮助你更好地理解这些概念，并为你的 C# 编程之旅打下坚实的基础。

## 附加资源与练习

- **练习 1**：编写一个程序，要求用户输入他们的名字和年龄，然后输出一条欢迎消息，例如 "Welcome, [name]! You are [age] years old."。
- **练习 2**：编写一个程序，要求用户输入两个数字，然后输出它们的乘积。
- **练习 3**：修改计算器程序，使其支持减法、乘法和除法操作。

:::note
如果你在练习中遇到困难，可以参考 C# 官方文档或在线教程，这些资源通常会提供更多的示例和解释。
:::