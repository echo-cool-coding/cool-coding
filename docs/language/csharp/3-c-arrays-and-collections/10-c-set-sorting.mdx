---
title: C# 集合排序
description: "学习如何在C#中对集合进行排序，掌握基本排序方法及其实际应用场景。"
---

在C#编程中，集合（Collection）是存储和操作一组对象的重要数据结构。排序是集合操作中的常见需求，它可以帮助我们按照特定规则对集合中的元素进行排列。本文将详细介绍如何在C#中对集合进行排序，并通过代码示例和实际案例帮助你掌握这一技能。

## 什么是集合排序？

集合排序是指按照某种规则（如升序或降序）对集合中的元素进行重新排列的过程。C#提供了多种排序方法，包括使用`List<T>.Sort()`方法、`Array.Sort()`方法以及LINQ的`OrderBy()`方法等。这些方法可以帮助我们轻松地对集合进行排序。

## 基本排序方法

### 1. 使用 `List<T>.Sort()` 方法

`List<T>.Sort()` 方法可以对列表中的元素进行排序。默认情况下，它会按照升序排列元素。

```csharp
List<int> numbers = new List<int> { 5, 2, 8, 1, 9 };
numbers.Sort();

foreach (int number in numbers)
{
    Console.WriteLine(number);
}
```

**输出：**
```
1
2
5
8
9
```

### 2. 使用 `Array.Sort()` 方法

`Array.Sort()` 方法可以对数组中的元素进行排序。与`List<T>.Sort()`类似，默认情况下它也是按照升序排列元素。

```csharp
int[] numbers = { 5, 2, 8, 1, 9 };
Array.Sort(numbers);

foreach (int number in numbers)
{
    Console.WriteLine(number);
}
```

**输出：**
```
1
2
5
8
9
```

### 3. 使用 LINQ 的 `OrderBy()` 方法

LINQ（Language Integrated Query）提供了一种更灵活的方式来对集合进行排序。`OrderBy()` 方法可以按照指定的条件对集合进行排序。

```csharp
List<int> numbers = new List<int> { 5, 2, 8, 1, 9 };
var sortedNumbers = numbers.OrderBy(n => n);

foreach (int number in sortedNumbers)
{
    Console.WriteLine(number);
}
```

**输出：**
```
1
2
5
8
9
```

:::tip
使用 `OrderBy()` 方法时，你可以指定排序的键（key），从而实现更复杂的排序逻辑。
:::

## 自定义排序

有时我们需要按照自定义的规则对集合进行排序。例如，按照字符串的长度进行排序，或者按照对象的某个属性进行排序。C#允许我们通过实现 `IComparer<T>` 接口或使用 `Comparison<T>` 委托来实现自定义排序。

### 1. 使用 `IComparer<T>` 接口

`IComparer<T>` 接口允许我们定义自定义的比较逻辑。以下是一个按照字符串长度进行排序的示例：

```csharp
class StringLengthComparer : IComparer<string>
{
    public int Compare(string x, string y)
    {
        return x.Length.CompareTo(y.Length);
    }
}

List<string> words = new List<string> { "apple", "banana", "cherry", "date" };
words.Sort(new StringLengthComparer());

foreach (string word in words)
{
    Console.WriteLine(word);
}
```

**输出：**
```
date
apple
banana
cherry
```

### 2. 使用 `Comparison<T>` 委托

`Comparison<T>` 委托允许我们使用匿名方法或Lambda表达式来定义排序逻辑。以下是一个按照字符串长度进行排序的示例：

```csharp
List<string> words = new List<string> { "apple", "banana", "cherry", "date" };
words.Sort((x, y) => x.Length.CompareTo(y.Length));

foreach (string word in words)
{
    Console.WriteLine(word);
}
```

**输出：**
```
date
apple
banana
cherry
```

## 实际应用场景

### 案例1：对学生成绩进行排序

假设我们有一个学生类 `Student`，其中包含学生的姓名和成绩。我们需要按照成绩对学生进行排序。

```csharp
class Student
{
    public string Name { get; set; }
    public int Score { get; set; }
}

List<Student> students = new List<Student>
{
    new Student { Name = "Alice", Score = 85 },
    new Student { Name = "Bob", Score = 90 },
    new Student { Name = "Charlie", Score = 78 }
};

students.Sort((s1, s2) => s2.Score.CompareTo(s1.Score));

foreach (var student in students)
{
    Console.WriteLine($"{student.Name}: {student.Score}");
}
```

**输出：**
```
Bob: 90
Alice: 85
Charlie: 78
```

### 案例2：对日期进行排序

假设我们有一个包含日期的列表，我们需要按照日期进行排序。

```csharp
List<DateTime> dates = new List<DateTime>
{
    new DateTime(2023, 10, 1),
    new DateTime(2023, 9, 15),
    new DateTime(2023, 11, 5)
};

dates.Sort();

foreach (var date in dates)
{
    Console.WriteLine(date.ToShortDateString());
}
```

**输出：**
```
9/15/2023
10/1/2023
11/5/2023
```

## 总结

在C#中，集合排序是一个常见且重要的操作。通过使用`List<T>.Sort()`、`Array.Sort()`和LINQ的`OrderBy()`方法，我们可以轻松地对集合进行排序。此外，通过实现`IComparer<T>`接口或使用`Comparison<T>`委托，我们可以实现自定义的排序逻辑。

掌握这些排序方法将帮助你在实际开发中更高效地处理数据。希望本文的内容能够帮助你更好地理解C#中的集合排序。

## 附加资源与练习

- **练习1**：创建一个包含多个对象的列表，并按照对象的某个属性进行排序。
- **练习2**：尝试使用LINQ的`OrderByDescending()`方法对集合进行降序排序。
- **附加资源**：查阅C#官方文档，了解更多关于集合和排序的详细信息。

:::caution
在实际开发中，确保你理解排序算法的性能影响，特别是在处理大量数据时。
:::