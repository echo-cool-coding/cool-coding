---
title: C# 方法参数数组
description: 了解如何在C#中使用方法参数数组，掌握其语法、用法和实际应用场景。
---

## 介绍

在C#中，方法参数数组（`params` 数组）是一种特殊的参数类型，允许你向方法传递可变数量的参数。这在需要处理不确定数量的输入时非常有用。通过使用 `params` 关键字，你可以定义一个方法，使其能够接受任意数量的参数，而不需要显式地创建一个数组。

## 语法

`params` 数组的语法非常简单。你只需要在方法参数前加上 `params` 关键字，并指定数组的类型。例如：

```csharp
public void PrintNumbers(params int[] numbers)
{
    foreach (int number in numbers)
    {
        Console.WriteLine(number);
    }
}
```

在这个例子中，`PrintNumbers` 方法可以接受任意数量的 `int` 类型参数。

## 使用示例

让我们通过一个简单的例子来理解 `params` 数组的使用。

```csharp
using System;

class Program
{
    static void Main()
    {
        PrintNumbers(1, 2, 3, 4, 5);
    }

    public static void PrintNumbers(params int[] numbers)
    {
        foreach (int number in numbers)
        {
            Console.WriteLine(number);
        }
    }
}
```

**输出：**
```
1
2
3
4
5
```

在这个例子中，`PrintNumbers` 方法接受五个整数作为参数，并将它们逐个打印出来。

## 逐步讲解

### 1. 定义方法

首先，你需要定义一个方法，并在参数列表中使用 `params` 关键字。例如：

```csharp
public void PrintNumbers(params int[] numbers)
{
    // 方法体
}
```

### 2. 调用方法

当你调用这个方法时，你可以传递任意数量的参数，而不需要显式地创建一个数组。例如：

```csharp
PrintNumbers(1, 2, 3);
```

### 3. 处理参数

在方法内部，你可以像处理普通数组一样处理 `params` 数组。例如：

```csharp
foreach (int number in numbers)
{
    Console.WriteLine(number);
}
```

## 实际应用场景

`params` 数组在实际开发中有很多应用场景。以下是一些常见的例子：

### 1. 计算多个数字的和

```csharp
public int Sum(params int[] numbers)
{
    int sum = 0;
    foreach (int number in numbers)
    {
        sum += number;
    }
    return sum;
}
```

**调用：**
```csharp
int result = Sum(1, 2, 3, 4, 5);
Console.WriteLine(result); // 输出：15
```

### 2. 格式化字符串

```csharp
public string FormatString(string format, params object[] args)
{
    return string.Format(format, args);
}
```

**调用：**
```csharp
string result = FormatString("Hello, {0}! Today is {1}.", "Alice", "Monday");
Console.WriteLine(result); // 输出：Hello, Alice! Today is Monday.
```

## 总结

`params` 数组是C#中一个非常有用的特性，它允许你向方法传递可变数量的参数。通过使用 `params` 关键字，你可以简化代码，使其更加灵活和易于维护。

## 附加资源

- [C# 官方文档 - params](https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/params)
- [C# 方法参数](https://learn.microsoft.com/en-us/dotnet/csharp/programming-guide/classes-and-structs/methods#method-parameters)

## 练习

1. 编写一个方法 `Average`，使用 `params` 数组计算任意数量数字的平均值。
2. 编写一个方法 `ConcatenateStrings`，使用 `params` 数组将任意数量的字符串连接成一个字符串。