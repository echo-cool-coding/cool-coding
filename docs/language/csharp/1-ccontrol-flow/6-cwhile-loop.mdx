---
title: C# While 循环
description: "了解 C# 中的 while 循环，掌握如何使用它来重复执行代码块，直到满足特定条件。本文包含代码示例、实际案例和练习，适合初学者学习。"
---

# C# While 循环

在编程中，循环是一种重要的控制流结构，它允许我们重复执行一段代码，直到满足特定条件。C# 提供了多种循环结构，其中 `while` 循环是最基础的一种。本文将详细介绍 `while` 循环的语法、用法以及实际应用场景。

## 什么是 While 循环？

`while` 循环是一种条件循环，它会重复执行一段代码块，直到指定的条件不再满足。与 `for` 循环不同，`while` 循环不需要预先知道循环的次数，它只依赖于条件的真假。

### 基本语法

`while` 循环的基本语法如下：

```csharp
while (条件)
{
    // 循环体：当条件为 true 时执行的代码
}
```

- **条件**：这是一个布尔表达式（`true` 或 `false`）。只要条件为 `true`，循环体就会一直执行。
- **循环体**：这是需要重复执行的代码块。

### 示例 1：简单的 While 循环

让我们从一个简单的例子开始。假设我们想要打印数字 1 到 5，可以使用 `while` 循环来实现：

```csharp
int i = 1;
while (i <= 5)
{
    Console.WriteLine(i);
    i++;
}
```

**输出：**

```
1
2
3
4
5
```

在这个例子中，我们首先初始化变量 `i` 为 1。然后，`while` 循环检查 `i <= 5` 是否为 `true`。如果是，则执行循环体中的代码，打印 `i` 的值并将 `i` 增加 1。这个过程会一直重复，直到 `i` 的值大于 5，循环结束。

:::note
**注意**：在 `while` 循环中，确保循环条件最终会变为 `false`，否则循环将无限执行，导致程序卡死。
:::

## While 循环的实际应用

`while` 循环在许多实际场景中非常有用，尤其是在你不知道循环次数的情况下。以下是一些常见的应用场景：

### 1. 用户输入验证

假设你正在编写一个程序，要求用户输入一个有效的数字。如果用户输入的不是数字，程序会提示用户重新输入，直到输入有效为止。

```csharp
int number;
bool isValid = false;

while (!isValid)
{
    Console.Write("请输入一个数字：");
    string input = Console.ReadLine();
    isValid = int.TryParse(input, out number);

    if (!isValid)
    {
        Console.WriteLine("输入无效，请重新输入。");
    }
}

Console.WriteLine($"你输入的数字是：{number}");
```

**输出示例：**

```
请输入一个数字：abc
输入无效，请重新输入。
请输入一个数字：123
你输入的数字是：123
```

在这个例子中，`while` 循环会一直运行，直到用户输入一个有效的数字。

### 2. 游戏循环

在游戏开发中，`while` 循环常用于游戏的主循环。例如，一个简单的游戏可能会在玩家按下退出键之前一直运行。

```csharp
bool isRunning = true;

while (isRunning)
{
    Console.WriteLine("游戏正在运行...");
    Console.Write("输入 'q' 退出游戏：");
    string input = Console.ReadLine();

    if (input == "q")
    {
        isRunning = false;
    }
}

Console.WriteLine("游戏结束。");
```

**输出示例：**

```
游戏正在运行...
输入 'q' 退出游戏：a
游戏正在运行...
输入 'q' 退出游戏：q
游戏结束。
```

在这个例子中，游戏会一直运行，直到玩家输入 `q` 退出。

## While 循环的注意事项

在使用 `while` 循环时，有几个重要的注意事项：

1. **避免无限循环**：确保循环条件最终会变为 `false`，否则循环将无限执行。
2. **初始化变量**：在进入循环之前，确保所有相关变量都已正确初始化。
3. **更新循环变量**：在循环体中，确保更新循环变量，以便条件最终能够变为 `false`。

:::caution
**警告**：如果循环条件始终为 `true`，程序将进入无限循环，导致程序无法正常退出。
:::

## 总结

`while` 循环是 C# 中一种强大的控制流结构，它允许你重复执行代码块，直到满足特定条件。通过本文的学习，你应该已经掌握了 `while` 循环的基本语法、实际应用场景以及注意事项。

### 附加练习

1. 编写一个 `while` 循环，计算从 1 到 100 的所有整数的和。
2. 编写一个程序，要求用户输入一个正整数，然后使用 `while` 循环计算该数的阶乘。

### 进一步学习

- [C# 官方文档 - 控制流](https://learn.microsoft.com/zh-cn/dotnet/csharp/language-reference/statements/iteration-statements)

希望本文对你理解 C# 中的 `while` 循环有所帮助！继续练习，你将很快掌握这一重要的编程概念。