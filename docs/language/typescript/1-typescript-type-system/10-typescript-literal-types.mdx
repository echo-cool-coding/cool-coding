---
title: TypeScript 字面量类型
description: 了解 TypeScript 中的字面量类型，掌握如何使用它们来限制变量的值范围，提升代码的类型安全性。
---

# TypeScript 字面量类型

TypeScript 是一种强类型的 JavaScript 超集，它提供了丰富的类型系统来帮助开发者编写更安全、更易维护的代码。字面量类型是 TypeScript 类型系统中的一种特殊类型，它允许我们将变量的值限制为特定的字面量值。本文将详细介绍字面量类型的概念、用法以及实际应用场景。

## 什么是字面量类型？

字面量类型是 TypeScript 中的一种类型，它表示一个具体的值。与普通的类型（如 `string`、`number` 等）不同，字面量类型直接指定了一个具体的值。例如，`"hello"` 是一个字符串字面量类型，`42` 是一个数字字面量类型。

字面量类型通常与联合类型结合使用，以限制变量的取值范围。例如，我们可以定义一个变量，它的值只能是 `"red"`、`"green"` 或 `"blue"` 中的一个。

## 字面量类型的基本用法

### 字符串字面量类型

字符串字面量类型允许我们将变量的值限制为特定的字符串。例如：

```typescript
type Color = "red" | "green" | "blue";

let color: Color = "red"; // 合法
color = "green"; // 合法
color = "yellow"; // 错误：Type '"yellow"' is not assignable to type 'Color'.
```

在上面的例子中，`Color` 类型被定义为 `"red"`、`"green"` 和 `"blue"` 的联合类型。因此，变量 `color` 只能被赋值为这三个字符串之一。

### 数字字面量类型

数字字面量类型与字符串字面量类型类似，但它限制变量的值为特定的数字。例如：

```typescript
type DiceRoll = 1 | 2 | 3 | 4 | 5 | 6;

let roll: DiceRoll = 1; // 合法
roll = 6; // 合法
roll = 7; // 错误：Type '7' is not assignable to type 'DiceRoll'.
```

在这个例子中，`DiceRoll` 类型被定义为 `1` 到 `6` 的联合类型，因此变量 `roll` 只能被赋值为这些数字之一。

### 布尔字面量类型

布尔字面量类型允许我们将变量的值限制为 `true` 或 `false`。虽然这种用法不太常见，但在某些情况下可能会有用。例如：

```typescript
type IsActive = true;

let active: IsActive = true; // 合法
active = false; // 错误：Type 'false' is not assignable to type 'true'.
```

在这个例子中，`IsActive` 类型被定义为 `true`，因此变量 `active` 只能被赋值为 `true`。

## 字面量类型的实际应用

### 限制函数参数

字面量类型常用于限制函数的参数值。例如，假设我们有一个函数，它接受一个表示方向的参数，该参数只能是 `"left"` 或 `"right"`：

```typescript
function move(direction: "left" | "right") {
    console.log(`Moving ${direction}`);
}

move("left"); // 合法
move("right"); // 合法
move("up"); // 错误：Argument of type '"up"' is not assignable to parameter of type '"left" | "right"'.
```

通过使用字面量类型，我们可以确保函数只能接受特定的参数值，从而避免潜在的错误。

### 定义配置对象

字面量类型还可以用于定义配置对象的属性值。例如，假设我们有一个配置对象，其中的 `theme` 属性只能是 `"light"` 或 `"dark"`：

```typescript
type Theme = "light" | "dark";

interface AppConfig {
    theme: Theme;
    fontSize: number;
}

const config: AppConfig = {
    theme: "light", // 合法
    fontSize: 14,
};

config.theme = "dark"; // 合法
config.theme = "blue"; // 错误：Type '"blue"' is not assignable to type 'Theme'.
```

在这个例子中，`AppConfig` 接口的 `theme` 属性被定义为 `Theme` 类型，因此它只能被赋值为 `"light"` 或 `"dark"`。

## 总结

字面量类型是 TypeScript 类型系统中的一种强大工具，它允许我们将变量的值限制为特定的字面量值。通过结合联合类型，我们可以创建更加精确的类型定义，从而提高代码的类型安全性和可维护性。

在实际开发中，字面量类型常用于限制函数参数、定义配置对象等场景。通过合理使用字面量类型，我们可以避免许多潜在的错误，并编写出更加健壮的代码。

## 附加资源与练习

- **练习 1**：定义一个类型 `Weekday`，它表示一周中的某一天（`"Monday"`、`"Tuesday"` 等），并编写一个函数 `getNextDay`，它接受一个 `Weekday` 类型的参数并返回下一天的 `Weekday`。
- **练习 2**：创建一个配置对象 `UserSettings`，其中包含 `theme`（只能是 `"light"` 或 `"dark"`）和 `language`（只能是 `"en"`、`"es"` 或 `"fr"`）两个属性。

通过完成这些练习，你将更好地理解字面量类型的用法，并能够在实际项目中灵活运用它们。