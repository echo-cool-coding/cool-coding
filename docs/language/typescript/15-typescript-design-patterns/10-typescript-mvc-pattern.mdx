---
title: TypeScript MVC 模式
description: 了解如何在 TypeScript 中实现 MVC（Model-View-Controller）设计模式，并通过实际案例展示其应用场景。
---

# TypeScript MVC 模式

MVC（Model-View-Controller）是一种经典的软件设计模式，广泛用于构建用户界面和应用程序架构。它将应用程序分为三个核心组件：**Model（模型）**、**View（视图）** 和 **Controller（控制器）**。这种分离使得代码更易于维护、扩展和测试。

在本文中，我们将通过 TypeScript 实现 MVC 模式，并逐步讲解其核心概念和应用场景。

---

## 什么是 MVC 模式？

MVC 模式的核心思想是将应用程序的逻辑分为三个部分：

1. **Model（模型）**：负责管理应用程序的核心数据和业务逻辑。它不直接与用户交互，而是通过 Controller 更新数据。
2. **View（视图）**：负责展示数据给用户。它从 Model 中获取数据，并将其渲染为用户界面。
3. **Controller（控制器）**：作为 Model 和 View 之间的桥梁，处理用户输入并更新 Model 或 View。

通过这种分离，MVC 模式使得代码更模块化，便于团队协作和代码维护。

---

## TypeScript 中的 MVC 实现

下面我们通过一个简单的任务管理应用程序来演示如何在 TypeScript 中实现 MVC 模式。

### 1. 定义 Model

Model 是应用程序的核心数据层。我们定义一个 `Task` 类来表示任务，并创建一个 `TaskModel` 类来管理任务列表。

```typescript
class Task {
    constructor(public id: number, public title: string, public completed: boolean = false) {}
}

class TaskModel {
    private tasks: Task[] = [];

    addTask(title: string): void {
        const newTask = new Task(this.tasks.length + 1, title);
        this.tasks.push(newTask);
    }

    getTasks(): Task[] {
        return this.tasks;
    }

    toggleTaskCompletion(id: number): void {
        const task = this.tasks.find(task => task.id === id);
        if (task) {
            task.completed = !task.completed;
        }
    }
}
```

### 2. 定义 View

View 负责将数据渲染为用户界面。我们创建一个简单的 `TaskView` 类来显示任务列表。

```typescript
class TaskView {
    render(tasks: Task[]): void {
        console.log("Tasks:");
        tasks.forEach(task => {
            console.log(`[${task.completed ? "X" : " "}] ${task.title}`);
        });
    }
}
```

### 3. 定义 Controller

Controller 负责处理用户输入并更新 Model 和 View。我们创建一个 `TaskController` 类来协调 Model 和 View。

```typescript
class TaskController {
    private model: TaskModel;
    private view: TaskView;

    constructor(model: TaskModel, view: TaskView) {
        this.model = model;
        this.view = view;
    }

    addTask(title: string): void {
        this.model.addTask(title);
        this.updateView();
    }

    toggleTaskCompletion(id: number): void {
        this.model.toggleTaskCompletion(id);
        this.updateView();
    }

    private updateView(): void {
        const tasks = this.model.getTasks();
        this.view.render(tasks);
    }
}
```

### 4. 使用 MVC 模式

现在我们可以将 Model、View 和 Controller 组合在一起，创建一个完整的应用程序。

```typescript
const model = new TaskModel();
const view = new TaskView();
const controller = new TaskController(model, view);

controller.addTask("Learn TypeScript");
controller.addTask("Implement MVC Pattern");
controller.toggleTaskCompletion(1);
```

**输出：**

```
Tasks:
[X] Learn TypeScript
[ ] Implement MVC Pattern
```

---

## 实际应用场景

MVC 模式非常适合构建复杂的用户界面应用程序，例如：

- **任务管理工具**：如上面的示例所示。
- **电子商务网站**：Model 管理产品数据，View 展示产品列表，Controller 处理用户操作（如添加到购物车）。
- **博客平台**：Model 管理文章数据，View 展示文章内容，Controller 处理用户评论或点赞。

---

## 总结

MVC 模式通过将应用程序分为 Model、View 和 Controller 三个部分，使得代码更易于维护和扩展。在 TypeScript 中，我们可以通过类来实现 MVC 模式，并利用类型系统增强代码的可靠性。

:::tip
**小提示**：在实际项目中，可以将 MVC 模式与框架（如 Angular）结合使用，以简化开发流程。
:::

---

## 附加资源与练习

- **练习**：尝试扩展上面的任务管理应用程序，添加删除任务的功能。
- **资源**：
  - [TypeScript 官方文档](https://www.typescriptlang.org/docs/)
  - [MVC 模式详解](https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller)

通过本文的学习，你应该已经掌握了如何在 TypeScript 中实现 MVC 模式。接下来，尝试将其应用到你的项目中吧！