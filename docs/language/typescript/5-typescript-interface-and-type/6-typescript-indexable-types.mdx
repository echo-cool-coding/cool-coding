---
title: TypeScript 可索引类型
description: 了解 TypeScript 中的可索引类型，掌握如何定义和使用可索引接口，以及在实际开发中的应用场景。
---

# TypeScript 可索引类型

在 TypeScript 中，可索引类型（Indexable Types）是一种允许我们通过索引访问对象属性的类型。它通常用于描述那些可以通过某种键（如字符串或数字）来访问其值的对象。可索引类型在定义数组、字典等数据结构时非常有用。

## 什么是可索引类型？

可索引类型允许我们定义一个接口，该接口可以通过索引来访问其属性。索引可以是字符串或数字类型。通过这种方式，我们可以定义类似于数组或字典的结构。

### 基本语法

可索引类型的基本语法如下：

```typescript
interface SomeInterface {
  [index: string]: SomeType;
}
```

其中，`index` 是索引签名的名称，`string` 是索引的类型（也可以是 `number`），`SomeType` 是索引对应的值的类型。

### 示例：字符串索引

让我们来看一个简单的例子，定义一个字符串索引的接口：

```typescript
interface StringArray {
  [index: string]: string;
}

const myArray: StringArray = {
  first: "Hello",
  second: "World",
};

console.log(myArray["first"]); // 输出: Hello
console.log(myArray["second"]); // 输出: World
```

在这个例子中，`StringArray` 接口定义了一个字符串索引类型，允许我们通过字符串键来访问字符串值。

### 示例：数字索引

我们也可以使用数字作为索引类型。这在定义数组时非常有用：

```typescript
interface NumberArray {
  [index: number]: string;
}

const myArray: NumberArray = ["Hello", "World"];

console.log(myArray[0]); // 输出: Hello
console.log(myArray[1]); // 输出: World
```

在这个例子中，`NumberArray` 接口定义了一个数字索引类型，允许我们通过数字索引来访问字符串值。

## 可索引类型的实际应用

### 1. 字典对象

可索引类型常用于定义字典对象，其中键是字符串，值可以是任意类型。例如：

```typescript
interface Dictionary {
  [key: string]: number;
}

const scores: Dictionary = {
  Alice: 100,
  Bob: 90,
  Charlie: 85,
};

console.log(scores["Alice"]); // 输出: 100
console.log(scores["Bob"]); // 输出: 90
```

在这个例子中，`Dictionary` 接口定义了一个字典对象，其中键是字符串，值是数字。

### 2. 动态属性

可索引类型还可以用于定义具有动态属性的对象。例如，假设我们有一个对象，其属性名是动态生成的：

```typescript
interface DynamicProperties {
  [key: string]: string | number;
}

const user: DynamicProperties = {
  name: "Alice",
  age: 25,
  email: "alice@example.com",
};

console.log(user["name"]); // 输出: Alice
console.log(user["age"]); // 输出: 25
```

在这个例子中，`DynamicProperties` 接口允许我们定义具有动态属性的对象，属性值可以是字符串或数字。

## 注意事项

:::caution
在使用可索引类型时，需要注意以下几点：
1. 索引签名必须是字符串或数字类型。
2. 如果同时定义了字符串和数字索引，数字索引的返回值类型必须是字符串索引返回值类型的子类型。
3. 可索引类型不能与其他属性冲突。例如，如果接口中已经定义了一个属性 `name`，那么索引签名中的返回值类型必须与 `name` 的类型兼容。
:::

## 总结

可索引类型是 TypeScript 中一种强大的工具，允许我们定义可以通过索引访问的对象。它在定义数组、字典等数据结构时非常有用。通过字符串或数字索引，我们可以灵活地处理动态属性或复杂的数据结构。

## 附加资源与练习

1. **练习**：尝试定义一个接口，该接口允许通过数字索引访问对象，并且对象的值可以是字符串或数字。
2. **阅读**：TypeScript 官方文档中的 [Index Signatures](https://www.typescriptlang.org/docs/handbook/2/objects.html#index-signatures) 部分，了解更多关于可索引类型的细节。
3. **挑战**：创建一个字典对象，其中键是字符串，值是一个包含多个属性的对象。尝试通过索引访问这些属性。

通过以上内容，你应该已经掌握了 TypeScript 中的可索引类型的基本概念和应用。继续练习和探索，你将能够更熟练地使用这一特性来构建复杂的 TypeScript 应用程序。