---
title: TypeScript 常量
description: 了解TypeScript中的常量声明及其使用场景，掌握如何通过常量提升代码的可读性和安全性。
---

# TypeScript 常量

在TypeScript中，常量是一种不可变的变量，一旦声明并赋值后，其值就不能再被修改。常量在编程中非常有用，尤其是在需要确保某些值不会被意外更改的场景中。本文将详细介绍TypeScript中的常量声明及其使用场景。

## 常量的声明

在TypeScript中，常量通过 `const` 关键字声明。与 `let` 和 `var` 不同，`const` 声明的变量是不可变的，这意味着一旦赋值后，就不能再重新赋值。

```typescript
const PI = 3.14159;
```

在上面的例子中，`PI` 被声明为一个常量，并赋值为 `3.14159`。如果你尝试重新赋值，TypeScript会报错：

```typescript
PI = 3.14; // Error: Cannot assign to 'PI' because it is a constant or a read-only property.
```

## 常量的作用域

与 `let` 类似，`const` 声明的常量具有块级作用域。这意味着常量只在声明它的块（例如函数、循环或条件语句）内有效。

```typescript
if (true) {
    const message = "Hello, World!";
    console.log(message); // 输出: Hello, World!
}
console.log(message); // Error: Cannot find name 'message'.
```

在上面的例子中，`message` 常量只在 `if` 语句块内有效，因此在块外访问它会报错。

## 常量的实际应用

常量在实际开发中有许多应用场景，以下是一些常见的例子：

### 1. 数学常数

在数学计算中，常常需要使用一些固定的常数，例如圆周率 `π` 或自然对数的底数 `e`。这些值在程序运行过程中不会改变，因此非常适合用常量来表示。

```typescript
const PI = 3.14159;
const E = 2.71828;

function calculateCircleArea(radius: number): number {
    return PI * radius * radius;
}
```

### 2. 配置项

在应用程序中，通常会有一些配置项，例如API的URL或默认的超时时间。这些配置项在程序运行过程中通常不会改变，因此可以用常量来表示。

```typescript
const API_URL = "https://api.example.com";
const DEFAULT_TIMEOUT = 5000;

function fetchData() {
    return fetch(API_URL, { timeout: DEFAULT_TIMEOUT });
}
```

### 3. 枚举值

在某些情况下，常量可以用来表示一组固定的枚举值。例如，表示一周中的几天：

```typescript
const DAYS_OF_WEEK = {
    MONDAY: "Monday",
    TUESDAY: "Tuesday",
    WEDNESDAY: "Wednesday",
    THURSDAY: "Thursday",
    FRIDAY: "Friday",
    SATURDAY: "Saturday",
    SUNDAY: "Sunday",
};

function getDayName(day: keyof typeof DAYS_OF_WEEK): string {
    return DAYS_OF_WEEK[day];
}
```

## 常量与对象

需要注意的是，虽然 `const` 声明的常量本身不可变，但如果常量是一个对象或数组，那么对象或数组内部的属性或元素是可以被修改的。

```typescript
const person = {
    name: "Alice",
    age: 25,
};

person.age = 26; // 这是允许的
console.log(person.age); // 输出: 26

person = { name: "Bob", age: 30 }; // Error: Cannot assign to 'person' because it is a constant or a read-only property.
```

在上面的例子中，`person` 常量本身不能被重新赋值，但其内部的属性 `age` 可以被修改。

## 总结

常量是TypeScript中一种非常有用的工具，它可以帮助我们确保某些值在程序运行过程中不会被意外更改。通过使用 `const` 关键字，我们可以声明不可变的变量，从而提高代码的可读性和安全性。

在实际开发中，常量常用于表示数学常数、配置项和枚举值等场景。需要注意的是，虽然常量本身不可变，但如果常量是一个对象或数组，其内部的属性或元素仍然可以被修改。

## 附加资源

- [TypeScript官方文档](https://www.typescriptlang.org/docs/)
- [TypeScript Handbook](https://www.typescriptlang.org/docs/handbook/intro.html)

## 练习

1. 声明一个常量 `MAX_USERS`，表示系统中允许的最大用户数，并尝试重新赋值，观察TypeScript的报错信息。
2. 创建一个常量 `COLORS`，表示一组颜色值，并尝试修改其中的一个颜色值，观察结果。
3. 编写一个函数 `calculateCircleCircumference`，使用常量 `PI` 计算圆的周长。

通过以上练习，你将更好地理解TypeScript中常量的使用及其重要性。