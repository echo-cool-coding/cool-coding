---
title: TypeScript 方法重写
description: 了解如何在TypeScript中使用方法重写，掌握面向对象编程中的继承和多态特性。
---

# TypeScript 方法重写

在面向对象编程（OOP）中，方法重写（Method Overriding）是一个重要的概念。它允许子类重新定义父类中已经存在的方法，以满足子类的特定需求。TypeScript作为JavaScript的超集，支持完整的面向对象编程特性，包括方法重写。

## 什么是方法重写？

方法重写是指子类重新实现父类中已经定义的方法。通过重写，子类可以提供与父类方法不同的行为，同时保持方法名称和签名一致。这是实现多态性（Polymorphism）的关键机制之一。

:::note
方法重写与方法重载（Method Overloading）不同。方法重载是指在同一个类中定义多个同名方法，但参数列表不同。而方法重写是子类对父类方法的重新实现。
:::

## 方法重写的基本语法

在TypeScript中，方法重写的语法非常简单。子类只需定义一个与父类方法同名的方法即可。以下是一个简单的示例：

```typescript
class Animal {
    makeSound(): void {
        console.log("Animal makes a sound");
    }
}

class Dog extends Animal {
    makeSound(): void {
        console.log("Dog barks");
    }
}

const myDog = new Dog();
myDog.makeSound(); // 输出: Dog barks
```

在这个例子中，`Dog`类重写了`Animal`类中的`makeSound`方法。当我们调用`myDog.makeSound()`时，执行的是`Dog`类中的`makeSound`方法，而不是`Animal`类中的方法。

## 方法重写的实际应用

方法重写在现实世界的编程中有很多应用场景。例如，假设我们正在开发一个图形绘制应用程序，其中有一个基类`Shape`和多个子类，如`Circle`、`Rectangle`等。每个形状都有自己的绘制方法，但它们的绘制方式不同。

```typescript
class Shape {
    draw(): void {
        console.log("Drawing a shape");
    }
}

class Circle extends Shape {
    draw(): void {
        console.log("Drawing a circle");
    }
}

class Rectangle extends Shape {
    draw(): void {
        console.log("Drawing a rectangle");
    }
}

const shapes: Shape[] = [new Circle(), new Rectangle()];
shapes.forEach(shape => shape.draw());
```

在这个例子中，`Circle`和`Rectangle`类都重写了`Shape`类中的`draw`方法。当我们遍历`shapes`数组并调用每个形状的`draw`方法时，会根据实际对象的类型调用相应的`draw`方法。这就是多态性的体现。

## 使用`super`关键字调用父类方法

在某些情况下，你可能希望在子类中调用父类的重写方法。TypeScript提供了`super`关键字来实现这一点。以下是一个示例：

```typescript
class Animal {
    makeSound(): void {
        console.log("Animal makes a sound");
    }
}

class Dog extends Animal {
    makeSound(): void {
        super.makeSound(); // 调用父类的makeSound方法
        console.log("Dog barks");
    }
}

const myDog = new Dog();
myDog.makeSound();
// 输出:
// Animal makes a sound
// Dog barks
```

在这个例子中，`Dog`类的`makeSound`方法首先调用了父类`Animal`的`makeSound`方法，然后添加了自己的行为。

## 方法重写的注意事项

1. **方法签名必须一致**：子类重写的方法必须与父类方法的签名（名称、参数列表和返回类型）一致。否则，TypeScript会报错。

2. **访问修饰符的限制**：子类不能降低父类方法的访问级别。例如，如果父类的方法是`public`，子类不能将其重写为`private`或`protected`。

3. **静态方法不能重写**：静态方法属于类本身，而不是类的实例，因此不能被子类重写。

## 总结

方法重写是TypeScript面向对象编程中的一个重要特性，它允许子类重新定义父类的方法，以实现多态性。通过方法重写，我们可以编写更加灵活和可扩展的代码。

在实际开发中，方法重写常用于实现不同子类的特定行为，同时保持代码的一致性和可维护性。掌握方法重写的概念和用法，将有助于你更好地理解和应用TypeScript的面向对象编程特性。

## 附加资源与练习

- **练习**：尝试创建一个基类`Vehicle`和多个子类，如`Car`、`Bicycle`等。为每个子类重写`drive`方法，并测试它们的行为。
- **进一步阅读**：查阅TypeScript官方文档，了解更多关于继承和多态性的高级用法。

:::tip
如果你对TypeScript的面向对象编程还有其他疑问，可以尝试阅读相关的书籍或在线教程，深入理解类、继承、多态等概念。
:::