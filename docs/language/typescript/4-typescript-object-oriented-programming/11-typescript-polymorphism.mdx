---
title: TypeScript 多态
description: 了解 TypeScript 中的多态概念，掌握如何通过多态实现灵活且可扩展的代码设计。
---

## 介绍

多态（Polymorphism）是面向对象编程（OOP）中的一个重要概念，它允许我们使用统一的接口来处理不同的数据类型或对象。在 TypeScript 中，多态通过继承和接口实现，使得代码更加灵活和可扩展。

简单来说，多态意味着“一个接口，多种实现”。通过多态，我们可以编写出能够处理多种类型对象的通用代码，而不需要关心具体的类型。

## 多态的基本概念

在 TypeScript 中，多态通常通过以下两种方式实现：

1. **继承**：子类可以继承父类的方法和属性，并且可以重写父类的方法，从而实现不同的行为。
2. **接口**：接口定义了一组方法签名，不同的类可以实现相同的接口，从而提供不同的实现。

### 通过继承实现多态

让我们通过一个简单的例子来理解通过继承实现的多态。

```typescript
class Animal {
  name: string;

  constructor(name: string) {
    this.name = name;
  }

  makeSound(): void {
    console.log("Some generic animal sound");
  }
}

class Dog extends Animal {
  makeSound(): void {
    console.log("Woof! Woof!");
  }
}

class Cat extends Animal {
  makeSound(): void {
    console.log("Meow!");
  }
}

const myDog = new Dog("Buddy");
const myCat = new Cat("Whiskers");

myDog.makeSound(); // 输出: Woof! Woof!
myCat.makeSound(); // 输出: Meow!
```

在这个例子中，`Animal` 是一个基类，`Dog` 和 `Cat` 是它的子类。每个子类都重写了 `makeSound` 方法，提供了不同的实现。当我们调用 `makeSound` 方法时，实际执行的是子类的实现，这就是多态的体现。

### 通过接口实现多态

接口也可以用来实现多态。让我们看一个例子：

```typescript
interface Shape {
  area(): number;
}

class Circle implements Shape {
  radius: number;

  constructor(radius: number) {
    this.radius = radius;
  }

  area(): number {
    return Math.PI * this.radius * this.radius;
  }
}

class Rectangle implements Shape {
  width: number;
  height: number;

  constructor(width: number, height: number) {
    this.width = width;
    this.height = height;
  }

  area(): number {
    return this.width * this.height;
  }
}

const shapes: Shape[] = [
  new Circle(5),
  new Rectangle(4, 6)
];

shapes.forEach(shape => {
  console.log(`Area: ${shape.area()}`);
});
```

在这个例子中，`Shape` 接口定义了一个 `area` 方法，`Circle` 和 `Rectangle` 类都实现了这个接口。我们可以将 `Circle` 和 `Rectangle` 的实例存储在同一个数组中，并通过统一的接口调用 `area` 方法，而不需要关心具体的类型。

## 实际应用场景

多态在实际开发中有广泛的应用场景。例如，在一个图形编辑器中，我们可能需要处理多种不同的图形（如圆形、矩形、三角形等）。通过多态，我们可以定义一个统一的接口来处理这些图形，而不需要为每种图形编写单独的处理逻辑。

```typescript
interface Graphic {
  draw(): void;
}

class Circle implements Graphic {
  draw(): void {
    console.log("Drawing a circle");
  }
}

class Rectangle implements Graphic {
  draw(): void {
    console.log("Drawing a rectangle");
  }
}

class Triangle implements Graphic {
  draw(): void {
    console.log("Drawing a triangle");
  }
}

const graphics: Graphic[] = [
  new Circle(),
  new Rectangle(),
  new Triangle()
];

graphics.forEach(graphic => {
  graphic.draw();
});
```

在这个例子中，`Graphic` 接口定义了一个 `draw` 方法，不同的图形类实现了这个接口。我们可以通过统一的接口调用 `draw` 方法，而不需要关心具体的图形类型。

## 总结

多态是 TypeScript 中面向对象编程的一个重要特性，它允许我们通过统一的接口处理不同的数据类型或对象。通过继承和接口，我们可以实现多态，从而编写出更加灵活和可扩展的代码。

在实际开发中，多态可以帮助我们减少重复代码，提高代码的可维护性和可扩展性。通过多态，我们可以编写出能够处理多种类型对象的通用代码，而不需要关心具体的类型。

## 附加资源与练习

- **练习**：尝试创建一个 `Vehicle` 基类，并创建多个子类（如 `Car`、`Bike`、`Truck`），每个子类都重写 `drive` 方法，提供不同的实现。
- **进一步学习**：了解 TypeScript 中的抽象类和抽象方法，以及它们如何与多态结合使用。

:::tip
多态是面向对象编程的核心概念之一，掌握它可以帮助你编写出更加灵活和可扩展的代码。继续深入学习 TypeScript 的其他面向对象特性，如封装和继承，以全面提升你的编程技能。
:::