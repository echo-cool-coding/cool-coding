---
title: TypeScript 抽象类
description: 了解TypeScript中的抽象类，掌握如何定义抽象类、抽象方法以及它们在面向对象编程中的实际应用。
---

# TypeScript 抽象类

在面向对象编程（OOP）中，抽象类是一种不能被实例化的类，通常用作其他类的基类。抽象类可以包含抽象方法（没有实现的方法）和具体方法（有实现的方法）。TypeScript通过`abstract`关键字支持抽象类，这使得我们能够定义一种“模板”类，强制子类实现特定的方法。

## 什么是抽象类？

抽象类是一种特殊的类，它不能被直接实例化。它的主要目的是为其他类提供一个基础结构，强制子类实现某些方法。抽象类可以包含抽象方法和具体方法：

- **抽象方法**：只有方法签名，没有实现。子类必须实现这些方法。
- **具体方法**：有具体实现的方法，子类可以直接使用或重写。

抽象类通常用于定义一些通用的行为，同时要求子类提供特定的实现细节。

## 定义抽象类

在TypeScript中，使用`abstract`关键字定义抽象类。以下是一个简单的抽象类示例：

```typescript
abstract class Animal {
    name: string;

    constructor(name: string) {
        this.name = name;
    }

    // 抽象方法，子类必须实现
    abstract makeSound(): void;

    // 具体方法，子类可以直接使用
    move(distance: number): void {
        console.log(`${this.name} moved ${distance} meters.`);
    }
}
```

在这个例子中，`Animal`是一个抽象类，它包含一个抽象方法`makeSound`和一个具体方法`move`。任何继承`Animal`的子类都必须实现`makeSound`方法。

## 继承抽象类

抽象类需要通过子类来实例化。子类必须实现抽象类中的所有抽象方法。以下是一个继承`Animal`抽象类的示例：

```typescript
class Dog extends Animal {
    constructor(name: string) {
        super(name);
    }

    // 实现抽象方法
    makeSound(): void {
        console.log(`${this.name} barks.`);
    }
}

const dog = new Dog("Buddy");
dog.makeSound(); // 输出: Buddy barks.
dog.move(10);    // 输出: Buddy moved 10 meters.
```

在这个例子中，`Dog`类继承了`Animal`抽象类，并实现了`makeSound`方法。`Dog`类可以直接使用`Animal`类中的`move`方法。

## 抽象类的实际应用场景

抽象类在以下场景中非常有用：

1. **定义通用行为**：当多个类共享一些通用行为时，可以将这些行为放在抽象类中，避免代码重复。
2. **强制子类实现特定方法**：抽象类可以强制子类实现某些方法，确保子类遵循特定的接口或规范。
3. **提供部分实现**：抽象类可以提供部分实现，子类可以选择性地重写这些方法。

### 示例：图形计算

假设我们正在开发一个图形计算库，需要计算不同形状的面积。我们可以使用抽象类来定义一个通用的`Shape`类，强制子类实现`calculateArea`方法：

```typescript
abstract class Shape {
    abstract calculateArea(): number;

    displayArea(): void {
        console.log(`The area is ${this.calculateArea()}.`);
    }
}

class Circle extends Shape {
    radius: number;

    constructor(radius: number) {
        super();
        this.radius = radius;
    }

    calculateArea(): number {
        return Math.PI * this.radius * this.radius;
    }
}

class Rectangle extends Shape {
    width: number;
    height: number;

    constructor(width: number, height: number) {
        super();
        this.width = width;
        this.height = height;
    }

    calculateArea(): number {
        return this.width * this.height;
    }
}

const circle = new Circle(5);
circle.displayArea(); // 输出: The area is 78.53981633974483.

const rectangle = new Rectangle(4, 6);
rectangle.displayArea(); // 输出: The area is 24.
```

在这个例子中，`Shape`抽象类定义了一个通用的`displayArea`方法，并强制子类实现`calculateArea`方法。`Circle`和`Rectangle`类分别实现了`calculateArea`方法，并可以使用`displayArea`方法显示面积。

## 总结

抽象类是TypeScript中面向对象编程的重要概念之一。它们提供了一种定义通用行为和强制子类实现特定方法的方式。通过抽象类，我们可以避免代码重复，并确保子类遵循特定的接口或规范。

:::tip
**提示**：抽象类与接口类似，但它们可以包含具体方法的实现。如果你只需要定义方法的签名而不需要提供实现，可以考虑使用接口。
:::

## 附加资源与练习

- **练习**：尝试创建一个抽象类`Vehicle`，包含抽象方法`start`和具体方法`stop`。然后创建子类`Car`和`Motorcycle`，分别实现`start`方法。
- **进一步学习**：阅读TypeScript官方文档中关于[抽象类](https://www.typescriptlang.org/docs/handbook/classes.html#abstract-classes)的部分，了解更多高级用法。

通过掌握抽象类，你将能够更好地组织和管理复杂的代码结构，提升代码的可维护性和可扩展性。