---
title: TypeScript 类属性
description: 了解TypeScript中的类属性，掌握如何定义和使用类属性，以及它们在面向对象编程中的重要性。
---

# TypeScript 类属性

在TypeScript中，类是面向对象编程（OOP）的核心概念之一。类属性是类的重要组成部分，它们定义了类的状态和行为。本文将详细介绍TypeScript中的类属性，包括如何定义、使用以及它们在实际开发中的应用。

## 什么是类属性？

类属性是类中定义的变量，用于存储对象的状态。每个类的实例都可以拥有自己的属性值。类属性可以是公共的（public）、私有的（private）或受保护的（protected），这决定了它们在不同上下文中的可访问性。

### 定义类属性

在TypeScript中，类属性通常在类的顶层定义，并且可以指定类型。以下是一个简单的类属性定义示例：

```typescript
class Person {
  name: string;
  age: number;

  constructor(name: string, age: number) {
    this.name = name;
    this.age = age;
  }
}
```

在这个例子中，`name` 和 `age` 是 `Person` 类的属性。`name` 是一个字符串类型的属性，而 `age` 是一个数字类型的属性。

### 访问类属性

类属性可以通过类的实例访问。以下是如何访问 `Person` 类属性的示例：

```typescript
const person = new Person("Alice", 30);
console.log(person.name); // 输出: Alice
console.log(person.age);  // 输出: 30
```

### 修改类属性

类属性的值可以通过类的实例进行修改。以下是如何修改 `Person` 类属性的示例：

```typescript
person.age = 31;
console.log(person.age); // 输出: 31
```

## 类属性的访问修饰符

TypeScript 提供了三种访问修饰符来控制类属性的可见性：

- **public**：默认的访问修饰符，属性可以在任何地方访问。
- **private**：属性只能在类内部访问。
- **protected**：属性可以在类内部及其子类中访问。

### 示例：使用访问修饰符

```typescript
class Employee {
  public name: string;
  private salary: number;
  protected department: string;

  constructor(name: string, salary: number, department: string) {
    this.name = name;
    this.salary = salary;
    this.department = department;
  }

  getSalary(): number {
    return this.salary; // 可以在类内部访问私有属性
  }
}

const emp = new Employee("Bob", 50000, "Engineering");
console.log(emp.name); // 输出: Bob
// console.log(emp.salary); // 错误: 无法在类外部访问私有属性
// console.log(emp.department); // 错误: 无法在类外部访问受保护的属性
```

:::note
私有属性和受保护属性只能在类内部或子类中访问，这有助于封装和保护数据。
:::

## 类属性的初始化

在TypeScript中，类属性可以在定义时初始化，也可以在构造函数中初始化。以下是一个在定义时初始化的示例：

```typescript
class Car {
  brand: string = "Toyota";
  year: number = 2020;
}

const myCar = new Car();
console.log(myCar.brand); // 输出: Toyota
console.log(myCar.year);  // 输出: 2020
```

:::tip
在定义时初始化属性可以简化代码，特别是当属性的初始值是固定的情况下。
:::

## 实际应用场景

类属性在实际开发中有广泛的应用。以下是一个实际应用场景的示例：

### 示例：用户管理系统

假设我们正在开发一个用户管理系统，我们需要定义一个 `User` 类来存储用户的信息：

```typescript
class User {
  public username: string;
  private password: string;
  protected email: string;

  constructor(username: string, password: string, email: string) {
    this.username = username;
    this.password = password;
    this.email = email;
  }

  changePassword(newPassword: string): void {
    this.password = newPassword;
  }

  getEmail(): string {
    return this.email;
  }
}

const user = new User("john_doe", "password123", "john@example.com");
console.log(user.username); // 输出: john_doe
user.changePassword("newPassword123");
console.log(user.getEmail()); // 输出: john@example.com
```

在这个示例中，`User` 类有三个属性：`username`、`password` 和 `email`。`password` 是私有的，只能在类内部访问，而 `email` 是受保护的，可以在类及其子类中访问。

## 总结

类属性是TypeScript中面向对象编程的基础。通过定义和使用类属性，我们可以创建具有状态和行为的对象。访问修饰符（`public`、`private`、`protected`）帮助我们控制属性的可见性，从而实现更好的封装和数据保护。

## 附加资源与练习

- **练习**：尝试定义一个 `Animal` 类，包含 `name`、`age` 和 `species` 属性，并创建一个实例来访问和修改这些属性。
- **资源**：阅读TypeScript官方文档中关于[类](https://www.typescriptlang.org/docs/handbook/classes.html)的部分，深入了解类的高级特性。

通过掌握类属性，你将能够更好地理解和应用TypeScript中的面向对象编程概念。继续练习和探索，你将能够构建更复杂和强大的应用程序。