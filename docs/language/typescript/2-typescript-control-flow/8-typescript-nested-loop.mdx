---
title: TypeScript 嵌套循环
description: 学习如何在 TypeScript 中使用嵌套循环，掌握其语法、应用场景以及实际案例。
---

# TypeScript 嵌套循环

在编程中，循环是一种重复执行代码块的结构。当我们需要在一个循环内部再嵌套另一个循环时，就形成了**嵌套循环**。嵌套循环在处理多维数据（如二维数组）或需要多重迭代的场景中非常有用。本文将详细介绍 TypeScript 中的嵌套循环，并通过示例帮助你理解其工作原理。

## 什么是嵌套循环？

嵌套循环是指在一个循环内部再放置另一个循环。外层循环每执行一次，内层循环都会完整地执行一遍。嵌套循环的层数可以根据需求增加，但通常不建议嵌套过多，因为这会导致代码复杂度增加，降低可读性。

### 基本语法

在 TypeScript 中，嵌套循环的语法与其他编程语言类似。以下是一个简单的嵌套 `for` 循环示例：

```typescript
for (let i = 0; i < 3; i++) {
  for (let j = 0; j < 2; j++) {
    console.log(`i = ${i}, j = ${j}`);
  }
}
```

**输出：**
```
i = 0, j = 0
i = 0, j = 1
i = 1, j = 0
i = 1, j = 1
i = 2, j = 0
i = 2, j = 1
```

在这个例子中，外层循环 `i` 从 0 到 2 执行，每次 `i` 的值变化时，内层循环 `j` 都会从 0 到 1 完整执行一次。

## 嵌套循环的应用场景

嵌套循环常用于以下场景：

1. **遍历多维数组**：例如，遍历二维数组中的每个元素。
2. **生成组合**：例如，生成两个集合的所有可能组合。
3. **模拟矩阵操作**：例如，矩阵乘法或转置。

### 实际案例：遍历二维数组

假设我们有一个二维数组，表示一个 3x3 的矩阵。我们可以使用嵌套循环来遍历并打印每个元素：

```typescript
const matrix: number[][] = [
  [1, 2, 3],
  [4, 5, 6],
  [7, 8, 9],
];

for (let i = 0; i < matrix.length; i++) {
  for (let j = 0; j < matrix[i].length; j++) {
    console.log(`matrix[${i}][${j}] = ${matrix[i][j]}`);
  }
}
```

**输出：**
```
matrix[0][0] = 1
matrix[0][1] = 2
matrix[0][2] = 3
matrix[1][0] = 4
matrix[1][1] = 5
matrix[1][2] = 6
matrix[2][0] = 7
matrix[2][1] = 8
matrix[2][2] = 9
```

在这个例子中，外层循环遍历每一行，内层循环遍历每一列，从而访问到矩阵中的每个元素。

### 实际案例：生成组合

假设我们有两个数组，分别表示颜色和形状。我们可以使用嵌套循环生成所有可能的颜色和形状组合：

```typescript
const colors: string[] = ["Red", "Green", "Blue"];
const shapes: string[] = ["Circle", "Square", "Triangle"];

for (let i = 0; i < colors.length; i++) {
  for (let j = 0; j < shapes.length; j++) {
    console.log(`${colors[i]} ${shapes[j]}`);
  }
}
```

**输出：**
```
Red Circle
Red Square
Red Triangle
Green Circle
Green Square
Green Triangle
Blue Circle
Blue Square
Blue Triangle
```

这个例子展示了如何通过嵌套循环生成两个集合的所有可能组合。

## 嵌套循环的性能考虑

虽然嵌套循环非常强大，但在某些情况下可能会导致性能问题，尤其是在处理大规模数据时。以下是一些优化建议：

1. **减少循环层数**：如果可能，尽量减少嵌套循环的层数。
2. **提前终止循环**：在某些情况下，可以使用 `break` 或 `continue` 语句提前终止循环。
3. **使用更高效的算法**：在某些场景下，可以考虑使用更高效的算法替代嵌套循环。

:::caution
嵌套循环的时间复杂度通常是 O(n^2) 或更高，因此在处理大规模数据时需要谨慎使用。
:::

## 总结

嵌套循环是 TypeScript 中处理多维数据或多重迭代的重要工具。通过本文的学习，你应该已经掌握了嵌套循环的基本语法、应用场景以及性能优化的基本方法。希望你能在实际编程中灵活运用这一概念。

### 附加资源与练习

1. **练习**：尝试编写一个嵌套循环，生成一个 5x5 的乘法表并打印出来。
2. **扩展阅读**：了解更多关于 TypeScript 循环控制的知识，例如 `while` 循环和 `do...while` 循环。
3. **挑战**：尝试优化一个嵌套循环的代码，使其在时间复杂度上更高效。

Happy coding! 🚀