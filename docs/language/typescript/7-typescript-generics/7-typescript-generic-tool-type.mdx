---
title: TypeScript 泛型工具类型
description: 了解TypeScript中的泛型工具类型，掌握如何利用它们简化代码并提高类型安全性。
---

# TypeScript 泛型工具类型

TypeScript 的泛型工具类型是一组内置的工具类型，它们可以帮助我们更高效地处理类型。这些工具类型基于泛型，允许我们在不重复代码的情况下操作和转换类型。对于初学者来说，掌握这些工具类型可以显著提高代码的可读性和可维护性。

## 什么是泛型工具类型？

泛型工具类型是 TypeScript 提供的一组实用类型，它们基于泛型，允许我们对类型进行各种操作。例如，我们可以使用这些工具类型来创建新的类型、修改现有类型或从现有类型中提取部分信息。

TypeScript 提供了多种内置的泛型工具类型，包括 `Partial`、`Required`、`Readonly`、`Record`、`Pick`、`Omit` 等。接下来，我们将逐一介绍这些工具类型，并通过示例展示它们的用法。

## 常见的泛型工具类型

### 1. `Partial<T>`

`Partial<T>` 是 TypeScript 中最常用的工具类型之一。它可以将类型 `T` 的所有属性设置为可选的。

```typescript
interface User {
  name: string;
  age: number;
  email: string;
}

type PartialUser = Partial<User>;

// PartialUser 等同于：
// {
//   name?: string;
//   age?: number;
//   email?: string;
// }
```

在这个例子中，`PartialUser` 类型的所有属性都变成了可选的。这在处理部分更新的场景中非常有用。

### 2. `Required<T>`

与 `Partial<T>` 相反，`Required<T>` 将类型 `T` 的所有属性设置为必需的。

```typescript
interface User {
  name?: string;
  age?: number;
  email?: string;
}

type RequiredUser = Required<User>;

// RequiredUser 等同于：
// {
//   name: string;
//   age: number;
//   email: string;
// }
```

### 3. `Readonly<T>`

`Readonly<T>` 将类型 `T` 的所有属性设置为只读的，这意味着这些属性不能被重新赋值。

```typescript
interface User {
  name: string;
  age: number;
}

type ReadonlyUser = Readonly<User>;

// ReadonlyUser 等同于：
// {
//   readonly name: string;
//   readonly age: number;
// }
```

### 4. `Record<K, T>`

`Record<K, T>` 用于创建一个对象类型，其中键的类型为 `K`，值的类型为 `T`。

```typescript
type UserRoles = Record<string, boolean>;

// UserRoles 等同于：
// {
//   [key: string]: boolean;
// }
```

### 5. `Pick<T, K>`

`Pick<T, K>` 从类型 `T` 中选择一组属性 `K` 来创建一个新的类型。

```typescript
interface User {
  name: string;
  age: number;
  email: string;
}

type UserNameAndEmail = Pick<User, 'name' | 'email'>;

// UserNameAndEmail 等同于：
// {
//   name: string;
//   email: string;
// }
```

### 6. `Omit<T, K>`

`Omit<T, K>` 与 `Pick<T, K>` 相反，它从类型 `T` 中排除一组属性 `K` 来创建一个新的类型。

```typescript
interface User {
  name: string;
  age: number;
  email: string;
}

type UserWithoutEmail = Omit<User, 'email'>;

// UserWithoutEmail 等同于：
// {
//   name: string;
//   age: number;
// }
```

## 实际应用场景

### 场景 1：表单验证

假设我们有一个表单，用户可以选择性地填写某些字段。我们可以使用 `Partial<T>` 来表示表单数据的类型。

```typescript
interface FormData {
  username: string;
  password: string;
  email: string;
}

function validateForm(formData: Partial<FormData>) {
  if (formData.username) {
    // 验证用户名
  }
  if (formData.password) {
    // 验证密码
  }
  if (formData.email) {
    // 验证邮箱
  }
}
```

### 场景 2：权限管理

在权限管理中，我们可以使用 `Record<K, T>` 来表示用户的角色和权限。

```typescript
type UserRoles = Record<string, boolean>;

const userRoles: UserRoles = {
  admin: true,
  editor: false,
  viewer: true,
};
```

## 总结

TypeScript 的泛型工具类型为我们提供了一种强大的方式来操作和转换类型。通过使用这些工具类型，我们可以减少重复代码，提高代码的可读性和可维护性。本文介绍了几种常见的泛型工具类型，并通过实际场景展示了它们的应用。

:::tip 提示
如果你想进一步学习 TypeScript 的泛型工具类型，可以查阅 [TypeScript 官方文档](https://www.typescriptlang.org/docs/handbook/utility-types.html)。
:::

## 练习

1. 使用 `Partial<T>` 创建一个部分更新的用户类型。
2. 使用 `Pick<T, K>` 从一个复杂的接口中选择几个属性创建一个新的类型。
3. 使用 `Record<K, T>` 创建一个表示用户权限的对象类型。

通过练习这些工具类型，你将更好地理解它们的用法和优势。