---
title: JavaScript Node.js安装
description: 本文介绍如何在不同操作系统上安装Node.js，包括Windows、macOS和Linux平台的详细步骤和注意事项。
---

# JavaScript Node.js安装

## 什么是Node.js？

Node.js是一个基于Chrome V8引擎的JavaScript运行环境，它让开发者可以使用JavaScript来编写服务器端的应用程序。Node.js采用事件驱动、非阻塞I/O模型，使其轻量且高效，非常适合构建数据密集型的实时应用。

:::tip 为什么学习Node.js？
- 使用同一种语言（JavaScript）进行前后端开发
- 丰富的包管理生态系统（npm）
- 高性能的非阻塞I/O和事件驱动模型
- 适合构建快速、可扩展的网络应用
:::

## 安装前的准备工作

在安装Node.js之前，我们需要了解一些基本概念：

1. **Node.js版本**：Node.js有两个版本线路：
   - **LTS版本**（Long-Term Support）：稳定版，推荐用于生产环境
   - **Current版本**：最新版，包含最新特性，但可能不够稳定

2. **Node.js安装方式**：
   - 直接从官网下载安装包
   - 使用版本管理工具（如nvm, n等）
   - 使用包管理器（如Homebrew, apt等）

对于初学者，我们推荐使用官方安装包或包管理器进行安装。

## Windows系统安装Node.js

### 方法一：使用安装包

1. 访问Node.js官网：[https://nodejs.org/](https://nodejs.org/)
2. 下载LTS版本（推荐初学者选择）
3. 运行下载的`.msi`安装文件
4. 按照安装向导的提示完成安装：
   - 接受许可协议
   - 选择安装位置
   - 选择组件（保持默认选项即可）
   - 点击"安装"按钮

### 方法二：使用Chocolatey包管理器

如果您已经安装了Chocolatey包管理器，可以使用以下命令安装Node.js：

```bash
choco install nodejs-lts
```

## macOS系统安装Node.js

### 方法一：使用安装包

1. 访问Node.js官网：[https://nodejs.org/](https://nodejs.org/)
2. 下载macOS版本的`.pkg`安装包
3. 双击安装包并按照安装向导完成安装

### 方法二：使用Homebrew包管理器

```bash
# 安装Homebrew（如果尚未安装）
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"

# 使用Homebrew安装Node.js
brew install node
```

## Linux系统安装Node.js

### Ubuntu/Debian系统

```bash
# 更新包信息
sudo apt update

# 安装Node.js
sudo apt install nodejs npm
```

### CentOS/RHEL/Fedora系统

```bash
# 安装Node.js
sudo dnf install nodejs
```

### 通过NodeSource安装最新版本

如果您想安装最新版本的Node.js，可以使用NodeSource提供的脚本：

```bash
# 使用curl
curl -fsSL https://deb.nodesource.com/setup_lts.x | sudo -E bash -
sudo apt-get install -y nodejs

# 或者使用wget
wget -qO- https://deb.nodesource.com/setup_lts.x | sudo -E bash -
sudo apt-get install -y nodejs
```

## 使用NVM管理多个Node.js版本

Node Version Manager (NVM) 是一个用于管理多个Node.js版本的工具，非常适合需要在不同项目中使用不同Node.js版本的开发者。

### 安装NVM

#### Windows系统

在Windows上，您可以使用[nvm-windows](https://github.com/coreybutler/nvm-windows)：

1. 下载并安装nvm-windows的最新版本
2. 完成安装后，打开命令提示符或PowerShell

#### macOS/Linux系统

```bash
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.3/install.sh | bash
# 或者使用wget
wget -qO- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.3/install.sh | bash
```

安装完成后，重新打开终端或执行以下命令：

```bash
export NVM_DIR="$HOME/.nvm"
[ -s "$NVM_DIR/nvm.sh" ] && \. "$NVM_DIR/nvm.sh"
```

### 使用NVM安装和管理Node.js

```bash
# 列出可用的Node.js版本
nvm ls-remote

# 安装特定版本的Node.js
nvm install 16.14.0

# 使用特定版本的Node.js
nvm use 16.14.0

# 设置默认版本
nvm alias default 16.14.0

# 列出已安装的版本
nvm ls
```

## 验证安装

安装完成后，我们需要验证Node.js是否正确安装：

```bash
# 检查Node.js版本
node -v

# 检查npm版本
npm -v
```

如果命令返回版本号，则说明安装成功。

### 创建一个简单的Node.js程序

创建一个名为`hello.js`的文件，并输入以下代码：

```javascript
console.log("Hello, Node.js!");
```

然后在命令行中运行：

```bash
node hello.js
```

输出结果应该是：

```
Hello, Node.js!
```

## 设置npm配置

npm (Node Package Manager) 是Node.js的包管理器，可以通过以下命令设置一些基本配置：

```bash
# 查看当前配置
npm config list

# 设置镜像源（提高下载速度）
npm config set registry https://registry.npmmirror.com
```

:::note npm vs npx
- **npm**: 用于安装和管理包
- **npx**: 用于执行包，无需先安装，特别适合一次性使用的命令行工具
:::

## 实际案例：创建一个简单的Web服务器

使用Node.js创建一个简单的Web服务器是非常容易的。下面是一个示例：

1. 创建一个名为`server.js`的文件：

```javascript
const http = require('http');

const hostname = '127.0.0.1';
const port = 3000;

const server = http.createServer((req, res) => {
  res.statusCode = 200;
  res.setHeader('Content-Type', 'text/plain');
  res.end('Hello World! Welcome to Node.js\n');
});

server.listen(port, hostname, () => {
  console.log(`服务器运行在 http://${hostname}:${port}/`);
});
```

2. 运行服务器：

```bash
node server.js
```

3. 打开浏览器，访问`http://127.0.0.1:3000/`，你应该能看到"Hello World! Welcome to Node.js"的消息。

## 安装常用的全局包

下面是一些常用的全局npm包，可以帮助您进行开发：

```bash
# nodemon - 自动重启Node.js应用程序
npm install -g nodemon

# pm2 - Node.js应用程序的生产流程管理器
npm install -g pm2

# http-server - 简单的零配置命令行HTTP服务器
npm install -g http-server
```

## 可能遇到的问题及解决方案

### 1. 权限问题

在Linux或macOS上，如果遇到权限问题，请尝试以下解决方案：

```bash
# 使用sudo安装全局包
sudo npm install -g [package-name]

# 或者更改npm默认目录的权限
sudo chown -R $(whoami) $(npm config get prefix)/{lib/node_modules,bin,share}
```

### 2. 网络问题

如果在安装包时遇到网络问题，可以尝试设置npm镜像：

```bash
npm config set registry https://registry.npmmirror.com
```

### 3. 版本兼容性问题

如果项目需要特定版本的Node.js，可以使用NVM来管理多个版本。

## 总结

在本教程中，我们学习了：

1. Node.js的基本概念
2. 如何在Windows、macOS和Linux系统上安装Node.js
3. 使用NVM管理多个Node.js版本
4. 验证Node.js安装和创建简单程序
5. 设置npm配置和安装常用全局包
6. 创建一个简单的Web服务器

通过完成这些步骤，你已经成功安装了Node.js，并且准备好开始你的Node.js开发之旅！

## 练习

1. 安装Node.js并验证安装是否成功
2. 使用NVM安装另一个版本的Node.js并切换到该版本
3. 创建一个简单的Node.js程序并运行它
4. 使用http模块创建一个返回HTML内容的Web服务器
5. 安装一个全局npm包并尝试使用它

## 扩展资源

- [Node.js官方文档](https://nodejs.org/docs/latest/api/)
- [npm文档](https://docs.npmjs.com/)
- [NVM GitHub仓库](https://github.com/nvm-sh/nvm)
- [Node.js最佳实践](https://github.com/goldbergyoni/nodebestpractices)

接下来，你可以继续学习Node.js的模块系统、文件系统操作、异步编程等更高级的主题。祝你学习愉快！