---
title: JavaScript 对话框
description: 学习JavaScript中常用的对话框类型，包括alert、confirm和prompt，以及它们的用法和实际应用场景。
---

# JavaScript 对话框

在网页交互中，有时候我们需要向用户显示一些信息、获取用户的确认或者收集用户的输入。JavaScript提供了三种内置的对话框方法来实现这些功能：`alert()`、`confirm()` 和 `prompt()`。这些方法是BOM (浏览器对象模型) 提供的，属于`window`对象，但通常可以直接使用而无需显式引用`window`对象。

## 1. alert() 对话框

`alert()`方法显示一个带有指定消息和一个"确定"按钮的警告框。它是最基本的一种对话框，用于向用户提供信息。

### 基本语法

```javascript
alert(message);
```

其中，`message`是要在对话框中显示的文本。

### 示例

```javascript
alert("欢迎来到JavaScript学习网站!");
```

执行上面的代码后，浏览器会显示一个对话框，上面有文字"欢迎来到JavaScript学习网站!"和一个"确定"按钮：

:::note 输出效果
一个带有"欢迎来到JavaScript学习网站!"文本和"确定"按钮的警告框。
:::

### alert() 对话框的特点

1. 它会阻塞JavaScript代码的执行，直到用户点击"确定"按钮。
2. 无法自定义样式，外观由浏览器决定。
3. 只能显示文本，不支持HTML格式。

## 2. confirm() 对话框

`confirm()`方法显示一个带有指定消息和两个按钮（"确定"和"取消"）的确认框。它常用于需要用户确认某个操作的场景。

### 基本语法

```javascript
let result = confirm(message);
```

- `message`: 要在对话框中显示的文本
- `result`: 布尔值，如果用户点击"确定"则为`true`，点击"取消"则为`false`

### 示例

```javascript
let response = confirm("您确定要删除这条记录吗?");
if (response) {
    console.log("用户点击了确定");
    // 执行删除操作
} else {
    console.log("用户点击了取消");
    // 取消操作
}
```

执行上面的代码后，浏览器会显示一个对话框，有文字"您确定要删除这条记录吗?"和"确定"与"取消"两个按钮：

:::note 输出效果
一个带有"您确定要删除这条记录吗?"文本、"确定"和"取消"按钮的确认框。
:::

### confirm() 对话框的特点

1. 返回布尔值，可以据此执行不同的逻辑。
2. 同样会阻塞JavaScript代码的执行，直到用户作出选择。
3. 也不支持样式自定义。

## 3. prompt() 对话框

`prompt()`方法显示一个对话框，提示用户输入一些文本。它包含一个文本输入字段、一个可选的默认值以及"确定"和"取消"按钮。

### 基本语法

```javascript
let result = prompt(message, default);
```

- `message`: 要显示给用户的文本
- `default`: (可选) 文本输入字段的默认值
- `result`: 用户输入的文本，如果用户取消了输入，则为`null`

### 示例

```javascript
let name = prompt("请输入您的名字:", "游客");
if (name) {
    console.log(`欢迎您，${name}!`);
} else {
    console.log("您没有输入名字");
}
```

执行上面的代码后，浏览器会显示一个对话框，有文字"请输入您的名字:"、一个输入框（默认值为"游客"）以及"确定"和"取消"按钮：

:::note 输出效果
一个带有"请输入您的名字:"文本、默认值为"游客"的输入框、"确定"和"取消"按钮的提示框。
:::

### prompt() 对话框的特点

1. 可以收集用户的文本输入。
2. 可以设置默认值。
3. 如果用户点击"取消"按钮或按下Esc键，返回`null`。
4. 用户输入的结果总是字符串类型，如果需要数值，需要进行类型转换。

## 4. 实际应用场景

### 案例1：简单的登录验证

```javascript
let username = prompt("请输入用户名:");
if (username) {
    let password = prompt("请输入密码:");
    if (password) {
        alert(`${username}，登录成功!`);
    } else {
        alert("登录失败：未输入密码");
    }
} else {
    alert("登录失败：未输入用户名");
}
```

### 案例2：简单的选择题

```javascript
let score = 0;
let answer = prompt("JavaScript中创建对话框的方法有哪些? (提示：用逗号分隔)");
if (answer) {
    let correctAnswers = ["alert", "confirm", "prompt"];
    let userAnswers = answer.toLowerCase().split(",").map(item => item.trim());
    let correct = true;
    
    // 检查用户回答是否包含所有正确答案
    for (let item of correctAnswers) {
        if (!userAnswers.includes(item)) {
            correct = false;
            break;
        }
    }
    
    if (correct && userAnswers.length === correctAnswers.length) {
        alert("恭喜，回答正确!");
        score++;
    } else {
        alert("回答错误，正确答案是：alert, confirm, prompt");
    }
}
```

### 案例3：简单的计算器

```javascript
let num1 = prompt("请输入第一个数字:");
let num2 = prompt("请输入第二个数字:");
let operation = prompt("请输入运算符 (+, -, *, /):");

if (num1 && num2 && operation) {
    num1 = parseFloat(num1);
    num2 = parseFloat(num2);
    let result;
    
    switch (operation) {
        case "+":
            result = num1 + num2;
            break;
        case "-":
            result = num1 - num2;
            break;
        case "*":
            result = num1 * num2;
            break;
        case "/":
            if (num2 === 0) {
                alert("错误：除数不能为零!");
            } else {
                result = num1 / num2;
            }
            break;
        default:
            alert("无效的运算符!");
            break;
    }
    
    if (result !== undefined) {
        alert(`计算结果: ${num1} ${operation} ${num2} = ${result}`);
    }
} else {
    alert("计算失败：输入不完整");
}
```

## 5. 对话框的局限性

:::caution 注意
虽然这些对话框非常易于使用，但它们有几个重要的局限性：

1. 它们会阻塞JavaScript代码的执行，影响用户体验。
2. 无法自定义样式和外观。
3. 在某些现代浏览器中，可能会被默认阻止或限制。
4. 不适合复杂的用户交互。
:::

对于更复杂的交互，建议使用自定义的HTML对话框或模态框，如使用Bootstrap、Material-UI等UI库提供的组件。

## 6. 总结

JavaScript对话框提供了简单而直接的方式与用户进行交互：

1. `alert()` - 显示信息
2. `confirm()` - 请求确认
3. `prompt()` - 收集输入

这些方法对于快速开发和简单的用户交互非常有用，特别是在学习阶段或开发原型时。然而，在专业的Web应用程序中，通常会使用更现代和自定义的UI组件来取代这些基本对话框。

## 练习

1. 创建一个简单的猜数字游戏，使用`prompt()`获取用户输入的数字，然后告诉用户是猜大了还是猜小了。
2. 创建一个使用`confirm()`的小测验，根据用户的回答进行不同的跳转。
3. 创建一个多步骤的表单，使用一系列`prompt()`收集用户信息，最后用`alert()`显示所有收集到的信息。

## 额外资源

- [MDN Web Docs - Window.alert()](https://developer.mozilla.org/zh-CN/docs/Web/API/Window/alert)
- [MDN Web Docs - Window.confirm()](https://developer.mozilla.org/zh-CN/docs/Web/API/Window/confirm)
- [MDN Web Docs - Window.prompt()](https://developer.mozilla.org/zh-CN/docs/Web/API/Window/prompt)

掌握这些基本对话框是开始JavaScript交互式编程的重要一步，它们为理解更复杂的用户界面交互奠定了基础。