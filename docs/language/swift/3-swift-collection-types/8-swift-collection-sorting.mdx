---
title: Swift 集合排序
description: 学习如何在Swift中对集合类型进行排序，包括数组、字典和集合的排序方法，以及实际应用场景。
---

# Swift 集合排序

在Swift中，集合类型（如数组、字典和集合）是存储和管理数据的重要工具。排序是处理集合数据时常见的操作之一。本文将详细介绍如何在Swift中对集合进行排序，并通过实际案例帮助你理解这些概念。

## 介绍

排序是将集合中的元素按照特定规则重新排列的过程。Swift提供了多种排序方法，可以轻松地对数组、字典和集合进行排序。无论是按升序、降序，还是自定义排序规则，Swift都能满足你的需求。

## 数组排序

数组是Swift中最常用的集合类型之一。Swift提供了两种主要的排序方法：`sort()` 和 `sorted()`。

### 使用 `sort()` 方法

`sort()` 方法会直接修改原数组，将其排序。

```swift
var numbers = [3, 1, 4, 1, 5, 9, 2, 6, 5]
numbers.sort()
print(numbers) // 输出: [1, 1, 2, 3, 4, 5, 5, 6, 9]
```

### 使用 `sorted()` 方法

`sorted()` 方法不会修改原数组，而是返回一个新的排序后的数组。

```swift
let numbers = [3, 1, 4, 1, 5, 9, 2, 6, 5]
let sortedNumbers = numbers.sorted()
print(sortedNumbers) // 输出: [1, 1, 2, 3, 4, 5, 5, 6, 9]
```

### 自定义排序规则

你可以通过传递一个闭包来自定义排序规则。例如，按降序排序：

```swift
let numbers = [3, 1, 4, 1, 5, 9, 2, 6, 5]
let sortedNumbers = numbers.sorted { $0 > $1 }
print(sortedNumbers) // 输出: [9, 6, 5, 5, 4, 3, 2, 1, 1]
```

## 字典排序

字典是无序的集合类型，但你可以通过对其键或值进行排序来获取有序的结果。

### 按键排序

```swift
let dictionary = ["a": 3, "b": 1, "c": 4]
let sortedKeys = dictionary.keys.sorted()
print(sortedKeys) // 输出: ["a", "b", "c"]
```

### 按值排序

```swift
let dictionary = ["a": 3, "b": 1, "c": 4]
let sortedValues = dictionary.values.sorted()
print(sortedValues) // 输出: [1, 3, 4]
```

### 获取排序后的键值对

```swift
let dictionary = ["a": 3, "b": 1, "c": 4]
let sortedDictionary = dictionary.sorted { $0.value < $1.value }
print(sortedDictionary) // 输出: [("b", 1), ("a", 3), ("c", 4)]
```

## 集合排序

集合（Set）也是无序的集合类型，但你可以通过将其转换为数组来进行排序。

```swift
let set: Set = [3, 1, 4, 1, 5, 9, 2, 6, 5]
let sortedArray = Array(set).sorted()
print(sortedArray) // 输出: [1, 2, 3, 4, 5, 6, 9]
```

## 实际应用场景

### 案例1：学生成绩排序

假设你有一个学生成绩的数组，你需要按成绩从高到低排序。

```swift
struct Student {
    var name: String
    var score: Int
}

var students = [
    Student(name: "Alice", score: 85),
    Student(name: "Bob", score: 92),
    Student(name: "Charlie", score: 78)
]

students.sort { $0.score > $1.score }
print(students)
// 输出: [Student(name: "Bob", score: 92), Student(name: "Alice", score: 85), Student(name: "Charlie", score: 78)]
```

### 案例2：按字母顺序排序字符串数组

```swift
let names = ["Charlie", "Alice", "Bob"]
let sortedNames = names.sorted()
print(sortedNames) // 输出: ["Alice", "Bob", "Charlie"]
```

## 总结

在Swift中，排序是处理集合数据的重要操作。通过使用 `sort()` 和 `sorted()` 方法，你可以轻松地对数组、字典和集合进行排序。自定义排序规则允许你根据特定需求对数据进行排序。掌握这些技巧将帮助你在实际开发中更高效地处理数据。

## 附加资源与练习

- **练习1**：创建一个包含多个 `Person` 结构体的数组，每个 `Person` 有 `name` 和 `age` 属性。按年龄从小到大排序。
- **练习2**：创建一个字典，键为城市名称，值为人口数量。按人口数量从多到少排序并输出前三个城市。

:::tip
如果你想深入了解Swift的排序算法和性能优化，可以参考Swift官方文档中的相关章节。
:::