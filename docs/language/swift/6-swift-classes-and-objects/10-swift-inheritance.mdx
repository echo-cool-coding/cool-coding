---
title: Swift 继承
description: 了解Swift中的继承概念，掌握如何通过继承创建子类并复用父类的属性和方法。
---

# Swift 继承

继承是面向对象编程（OOP）中的一个核心概念，它允许一个类（子类）从另一个类（父类）继承属性和方法。通过继承，子类可以复用父类的代码，同时还可以扩展或修改父类的行为。在Swift中，继承是构建复杂类层次结构的基础。

## 什么是继承？

继承是一种机制，允许一个类从另一个类中继承属性和方法。被继承的类称为**父类**（或超类），继承的类称为**子类**。子类可以访问父类的属性和方法，并且可以添加新的属性和方法，或者重写父类的方法。

### 继承的基本语法

在Swift中，使用 `class` 关键字定义类，并通过 `:` 符号指定父类。以下是一个简单的继承示例：

```swift
class Animal {
    var name: String

    init(name: String) {
        self.name = name
    }

    func makeSound() {
        print("Some generic animal sound")
    }
}

class Dog: Animal {
    func bark() {
        print("Woof!")
    }
}

let myDog = Dog(name: "Buddy")
myDog.makeSound() // 输出: Some generic animal sound
myDog.bark()      // 输出: Woof!
```

在这个例子中，`Dog` 类继承了 `Animal` 类。`Dog` 类可以访问 `Animal` 类的 `name` 属性和 `makeSound()` 方法，同时它还定义了自己的 `bark()` 方法。

## 重写父类的方法

子类可以重写父类的方法，以提供自己的实现。在Swift中，使用 `override` 关键字来重写方法。以下是一个重写方法的示例：

```swift
class Cat: Animal {
    override func makeSound() {
        print("Meow!")
    }
}

let myCat = Cat(name: "Whiskers")
myCat.makeSound() // 输出: Meow!
```

在这个例子中，`Cat` 类重写了 `Animal` 类的 `makeSound()` 方法，使其输出 `"Meow!"` 而不是 `"Some generic animal sound"`。

:::note
重写方法时，必须使用 `override` 关键字，否则编译器会报错。
:::

## 防止重写

如果你不希望某个方法或属性被重写，可以使用 `final` 关键字。标记为 `final` 的方法或属性将无法被子类重写。

```swift
class Bird: Animal {
    final func fly() {
        print("Flying high!")
    }
}

class Sparrow: Bird {
    // 以下代码会导致编译错误，因为 `fly()` 方法被标记为 `final`
    // override func fly() {
    //     print("Sparrow is flying!")
    // }
}
```

## 实际应用场景

继承在实际开发中有广泛的应用。例如，在构建一个图形用户界面（GUI）框架时，你可能会有一个 `View` 类作为所有视图的父类，然后通过继承创建 `Button`、`Label` 等子类。每个子类可以复用 `View` 类的通用功能，同时添加自己的特定行为。

```swift
class View {
    var frame: CGRect

    init(frame: CGRect) {
        self.frame = frame
    }

    func draw() {
        print("Drawing a view")
    }
}

class Button: View {
    var title: String

    init(frame: CGRect, title: String) {
        self.title = title
        super.init(frame: frame)
    }

    override func draw() {
        super.draw()
        print("Drawing a button with title: \(title)")
    }
}

let myButton = Button(frame: CGRect(x: 0, y: 0, width: 100, height: 50), title: Click Me)
myButton.draw()
// 输出:
// Drawing a view
// Drawing a button with title: Click Me
```

在这个例子中，`Button` 类继承了 `View` 类，并重写了 `draw()` 方法以添加按钮的特定绘制逻辑。

## 总结

继承是Swift中一个强大的工具，它允许你通过复用和扩展父类的代码来构建复杂的类层次结构。通过继承，你可以减少代码重复，提高代码的可维护性和可扩展性。

- **继承**：子类可以继承父类的属性和方法。
- **重写**：子类可以重写父类的方法以提供自己的实现。
- **防止重写**：使用 `final` 关键字可以防止方法或属性被重写。

## 附加资源与练习

- **练习**：尝试创建一个 `Vehicle` 父类，并从中继承出 `Car` 和 `Bicycle` 子类。为每个子类添加特定的属性和方法。
- **进一步学习**：阅读Swift官方文档中关于继承的更多内容，了解如何通过继承构建更复杂的类层次结构。

:::tip
继承虽然强大，但过度使用继承可能导致代码难以维护。在设计类层次结构时，考虑使用组合（composition）来替代继承，以保持代码的灵活性。
:::