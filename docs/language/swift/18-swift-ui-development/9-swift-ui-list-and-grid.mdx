---
title: Swift UI列表与网格
description: 学习如何在 SwiftUI 中创建和管理列表与网格布局，掌握基本概念和实际应用。
---

# Swift UI列表与网格

SwiftUI 是一个强大的框架，用于构建用户界面。它提供了简单而直观的方式来创建列表和网格布局。本文将带你了解如何在 SwiftUI 中创建和管理列表与网格，并通过实际案例展示它们的应用场景。

## 介绍

在 SwiftUI 中，列表（List）和网格（Grid）是两种常见的布局方式。列表通常用于显示垂直排列的项目，而网格则用于显示二维排列的项目。无论是简单的任务列表还是复杂的图片库，列表和网格都能帮助你轻松实现。

## 列表（List）

### 基本列表

在 SwiftUI 中，创建一个简单的列表非常容易。以下是一个基本列表的示例：

```swift
import SwiftUI

struct ContentView: View {
    var body: some View {
        List {
            Text("Item 1")
            Text("Item 2")
            Text("Item 3")
        }
    }
}
```

在这个示例中，我们创建了一个包含三个文本项的列表。`List` 视图会自动为每个项创建一个单元格。

### 动态列表

通常，我们会使用动态数据来填充列表。以下是一个使用数组动态生成列表的示例：

```swift
import SwiftUI

struct ContentView: View {
    let items = ["Item 1", "Item 2", "Item 3"]
    
    var body: some View {
        List(items, id: \.self) { item in
            Text(item)
        }
    }
}
```

在这个示例中，我们使用 `items` 数组来动态生成列表项。`id: \.self` 表示使用数组元素本身作为唯一标识符。

### 分组列表

SwiftUI 还支持分组列表，这在需要将列表项分组显示时非常有用。以下是一个分组列表的示例：

```swift
import SwiftUI

struct ContentView: View {
    var body: some View {
        List {
            Section(header: Text("Group 1")) {
                Text("Item 1")
                Text("Item 2")
            }
            Section(header: Text("Group 2")) {
                Text("Item 3")
                Text("Item 4")
            }
        }
        .listStyle(GroupedListStyle())
    }
}
```

在这个示例中，我们使用 `Section` 将列表项分组，并通过 `listStyle(GroupedListStyle())` 应用分组样式。

## 网格（Grid）

### 基本网格

在 SwiftUI 中，网格布局可以通过 `LazyVGrid` 和 `LazyHGrid` 来实现。以下是一个基本网格的示例：

```swift
import SwiftUI

struct ContentView: View {
    let columns = [
        GridItem(.flexible()),
        GridItem(.flexible()),
        GridItem(.flexible())
    ]
    
    var body: some View {
        ScrollView {
            LazyVGrid(columns: columns, spacing: 20) {
                ForEach(0..<9) { index in
                    Text("Item \(index + 1)")
                        .frame(width: 100, height: 100)
                        .background(Color.blue)
                        .foregroundColor(.white)
                        .cornerRadius(10)
                }
            }
            .padding()
        }
    }
}
```

在这个示例中，我们使用 `LazyVGrid` 创建一个垂直网格，并通过 `columns` 定义网格的列数。`spacing` 参数用于设置网格项之间的间距。

### 自适应网格

SwiftUI 还支持自适应网格布局，这在需要根据屏幕大小动态调整网格项大小时非常有用。以下是一个自适应网格的示例：

```swift
import SwiftUI

struct ContentView: View {
    let columns = [
        GridItem(.adaptive(minimum: 100))
    ]
    
    var body: some View {
        ScrollView {
            LazyVGrid(columns: columns, spacing: 20) {
                ForEach(0..<9) { index in
                    Text("Item \(index + 1)")
                        .frame(height: 100)
                        .background(Color.blue)
                        .foregroundColor(.white)
                        .cornerRadius(10)
                }
            }
            .padding()
        }
    }
}
```

在这个示例中，我们使用 `GridItem(.adaptive(minimum: 100))` 来创建一个自适应网格，网格项的最小宽度为 100。

## 实际案例

### 任务列表

假设你正在开发一个任务管理应用，你可以使用列表来显示任务项。以下是一个简单的任务列表示例：

```swift
import SwiftUI

struct Task: Identifiable {
    let id = UUID()
    let name: String
    let isCompleted: Bool
}

struct ContentView: View {
    let tasks = [
        Task(name: "Buy groceries", isCompleted: false),
        Task(name: "Finish homework", isCompleted: true),
        Task(name: "Call mom", isCompleted: false)
    ]
    
    var body: some View {
        List(tasks) { task in
            HStack {
                Text(task.name)
                Spacer()
                if task.isCompleted {
                    Image(systemName: "checkmark")
                }
            }
        }
    }
}
```

在这个示例中，我们使用 `Task` 结构体来表示任务，并通过 `List` 显示任务列表。已完成的任务会显示一个勾选标记。

### 图片库

假设你正在开发一个图片库应用，你可以使用网格来显示图片。以下是一个简单的图片库示例：

```swift
import SwiftUI

struct ContentView: View {
    let images = ["image1", "image2", "image3", "image4", "image5", "image6"]
    
    var body: some View {
        ScrollView {
            LazyVGrid(columns: [GridItem(.adaptive(minimum: 100))], spacing: 20) {
                ForEach(images, id: \.self) { image in
                    Image(image)
                        .resizable()
                        .scaledToFit()
                        .cornerRadius(10)
                }
            }
            .padding()
        }
    }
}
```

在这个示例中，我们使用 `LazyVGrid` 创建一个图片库，并通过 `Image` 视图显示图片。

## 总结

在本文中，我们学习了如何在 SwiftUI 中创建和管理列表与网格布局。我们通过基本示例和实际案例展示了它们的应用场景。列表和网格是 SwiftUI 中非常强大的工具，掌握它们将帮助你构建更加复杂和灵活的用户界面。

## 附加资源与练习

- **练习 1**：创建一个包含 10 个项目的列表，并为每个项目添加一个图标。
- **练习 2**：创建一个自适应网格，显示 12 张图片，并确保图片在不同屏幕尺寸下都能良好显示。
- **附加资源**：阅读 [SwiftUI 官方文档](https://developer.apple.com/documentation/swiftui/) 以了解更多关于列表和网格的高级用法。

:::tip
尝试将列表和网格结合使用，例如在一个列表中嵌套网格，以创建更复杂的布局。
:::