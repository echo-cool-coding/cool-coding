---
title: Swift 通配符模式
description: 了解 Swift 中的通配符模式，掌握如何使用通配符 `_` 来匹配任意值或忽略不需要的值。
---

# Swift 通配符模式

在 Swift 中，模式匹配是一种强大的工具，可以帮助你更简洁地处理数据。通配符模式（Wildcard Pattern）是模式匹配中的一种特殊模式，它使用下划线 `_` 来表示“匹配任意值”或“忽略不需要的值”。本文将详细介绍通配符模式的概念、用法以及实际应用场景。

## 什么是通配符模式？

通配符模式使用 `_` 来表示一个占位符，它可以匹配任何值，但不会绑定到具体的变量。这意味着你可以使用通配符模式来忽略某些不需要的值，或者在某些情况下匹配任意值。

### 基本语法

在 Swift 中，通配符模式通常用于以下几种场景：

1. **忽略不需要的值**：当你只关心某些特定的值，而其他值可以忽略时，可以使用通配符模式。
2. **匹配任意值**：在某些情况下，你可能需要匹配任意值，而不关心具体的值是什么。

## 通配符模式的基本用法

### 1. 忽略不需要的值

假设你有一个元组，但你只关心其中的一部分值，可以使用通配符模式来忽略不需要的值。

```swift
let person = ("Alice", 30, "New York")

// 只关心名字和年龄，忽略城市
let (name, age, _) = person

print("Name: \(name), Age: \(age)")
```

**输出：**
```
Name: Alice, Age: 30
```

在这个例子中，我们使用 `_` 来忽略元组中的第三个值（城市），只提取了名字和年龄。

### 2. 匹配任意值

通配符模式也可以用于匹配任意值。例如，在 `switch` 语句中，你可以使用 `_` 来匹配所有其他情况。

```swift
let value = 42

switch value {
case 0:
    print("Value is zero")
case 1..<10:
    print("Value is between 1 and 9")
case _:
    print("Value is something else")
}
```

**输出：**
```
Value is something else
```

在这个例子中，`_` 用于匹配所有不符合前面 `case` 的值。

## 实际应用场景

### 1. 处理可选值

在处理可选值时，通配符模式可以帮助你忽略某些不需要的情况。

```swift
let optionalValue: Int? = 5

if case .some(_) = optionalValue {
    print("The optional value is not nil")
} else {
    print("The optional value is nil")
}
```

**输出：**
```
The optional value is not nil
```

在这个例子中，我们使用 `_` 来忽略可选值中的具体内容，只关心它是否为 `nil`。

### 2. 忽略函数返回值

有时，函数的返回值可能不是你关心的内容，你可以使用通配符模式来忽略它。

```swift
func doSomething() -> Int {
    // 做一些事情
    return 42
}

_ = doSomething()  // 忽略返回值
```

在这个例子中，我们使用 `_` 来忽略 `doSomething()` 函数的返回值。

## 总结

通配符模式是 Swift 中一种非常有用的模式匹配工具，它可以帮助你忽略不需要的值或匹配任意值。通过使用 `_`，你可以使代码更加简洁和易读。

### 附加资源

- [Swift 官方文档 - 模式](https://docs.swift.org/swift-book/ReferenceManual/Patterns.html)
- [Swift 编程语言指南](https://docs.swift.org/swift-book/LanguageGuide/TheBasics.html)

### 练习

1. 编写一个函数，返回一个包含多个值的元组，并使用通配符模式来忽略其中不需要的值。
2. 在 `switch` 语句中使用通配符模式来处理所有不符合前面 `case` 的情况。

通过练习，你将更好地掌握通配符模式的使用方法。