---
title: Swift Switch语句
description: 了解 Swift 中的 Switch 语句，掌握如何使用它来简化复杂的条件判断，并通过实际案例加深理解。
---

# Swift Switch语句

在 Swift 编程中，`switch` 语句是一种强大的控制流工具，用于根据变量的值执行不同的代码块。与 `if-else` 语句相比，`switch` 语句在处理多个条件时更加简洁和易读。本文将详细介绍 `switch` 语句的语法、用法以及实际应用场景。

## 1. 什么是 Switch 语句？

`switch` 语句允许你根据一个变量的值来执行不同的代码块。它特别适合处理多个可能的情况，避免了冗长的 `if-else` 链。Swift 中的 `switch` 语句比其他语言（如 C 或 Objective-C）更加强大和灵活。

### 基本语法

```swift
switch 变量 {
case 值1:
    // 当变量等于值1时执行的代码
case 值2:
    // 当变量等于值2时执行的代码
default:
    // 当变量不匹配任何 case 时执行的代码
}
```

- `变量`：这是你要检查的值。
- `case`：每个 `case` 后面跟着一个可能的值。如果变量的值与某个 `case` 匹配，则执行该 `case` 下的代码。
- `default`：如果没有任何 `case` 匹配，则执行 `default` 下的代码。`default` 是可选的，但在大多数情况下建议使用。

:::note
Swift 的 `switch` 语句必须是**穷尽的**，即必须覆盖所有可能的情况。如果 `case` 没有覆盖所有可能的值，则必须使用 `default` 分支。
:::

## 2. 基本用法

让我们通过一个简单的例子来理解 `switch` 语句的基本用法。

```swift
let day = "Monday"

switch day {
case "Monday":
    print("今天是星期一")
case "Tuesday":
    print("今天是星期二")
case "Wednesday":
    print("今天是星期三")
default:
    print("今天是其他日子")
}
```

**输出：**
```
今天是星期一
```

在这个例子中，`day` 的值是 `"Monday"`，因此程序会执行第一个 `case` 下的代码，并输出 `"今天是星期一"`。

## 3. 匹配多个值

Swift 的 `switch` 语句允许你在一个 `case` 中匹配多个值，使用逗号分隔。

```swift
let fruit = "apple"

switch fruit {
case "apple", "pear":
    print("这是苹果或梨")
case "banana", "orange":
    print("这是香蕉或橙子")
default:
    print("这是其他水果")
}
```

**输出：**
```
这是苹果或梨
```

在这个例子中，`fruit` 的值是 `"apple"`，因此程序会执行第一个 `case` 下的代码，并输出 `"这是苹果或梨"`。

## 4. 区间匹配

Swift 的 `switch` 语句还支持区间匹配。你可以使用 `...` 或 `..<` 来匹配一个范围内的值。

```swift
let score = 85

switch score {
case 0..<60:
    print("不及格")
case 60..<80:
    print("及格")
case 80..<90:
    print("良好")
case 90...100:
    print("优秀")
default:
    print("无效分数")
}
```

**输出：**
```
良好
```

在这个例子中，`score` 的值是 `85`，因此程序会执行第三个 `case` 下的代码，并输出 `"良好"`。

## 5. 元组匹配

`switch` 语句还可以用于匹配元组。你可以同时检查多个值，并根据它们的组合来执行不同的代码块。

```swift
let point = (1, 1)

switch point {
case (0, 0):
    print("原点")
case (_, 0):
    print("在 x 轴上")
case (0, _):
    print("在 y 轴上")
case (-2...2, -2...2):
    print("在 2x2 的正方形内")
default:
    print("在其他位置")
}
```

**输出：**
```
在 2x2 的正方形内
```

在这个例子中，`point` 的值是 `(1, 1)`，因此程序会执行第四个 `case` 下的代码，并输出 `"在 2x2 的正方形内"`。

## 6. 值绑定

Swift 的 `switch` 语句还支持值绑定。你可以在 `case` 中绑定匹配的值，并在代码块中使用它。

```swift
let anotherPoint = (2, 0)

switch anotherPoint {
case (let x, 0):
    print("在 x 轴上，x 的值是 \(x)")
case (0, let y):
    print("在 y 轴上，y 的值是 \(y)")
case let (x, y):
    print("在其他位置，x 的值是 \(x)，y 的值是 \(y)")
}
```

**输出：**
```
在 x 轴上，x 的值是 2
```

在这个例子中，`anotherPoint` 的值是 `(2, 0)`，因此程序会执行第一个 `case` 下的代码，并输出 `"在 x 轴上，x 的值是 2"`。

## 7. Where 子句

你可以在 `case` 中使用 `where` 子句来添加额外的条件。

```swift
let yetAnotherPoint = (1, -1)

switch yetAnotherPoint {
case let (x, y) where x == y:
    print("在 x == y 的线上")
case let (x, y) where x == -y:
    print("在 x == -y 的线上")
case let (x, y):
    print("在其他位置，x 的值是 \(x)，y 的值是 \(y)")
}
```

**输出：**
```
在 x == -y 的线上
```

在这个例子中，`yetAnotherPoint` 的值是 `(1, -1)`，因此程序会执行第二个 `case` 下的代码，并输出 `"在 x == -y 的线上"`。

## 8. 实际应用场景

### 场景 1：处理用户输入

假设你正在开发一个命令行工具，用户可以通过输入命令来执行不同的操作。你可以使用 `switch` 语句来处理用户的输入。

```swift
let userInput = "start"

switch userInput {
case "start":
    print("启动程序")
case "stop":
    print("停止程序")
case "restart":
    print("重启程序")
default:
    print("未知命令")
}
```

**输出：**
```
启动程序
```

### 场景 2：处理 HTTP 状态码

在处理网络请求时，你可能需要根据 HTTP 状态码来执行不同的操作。`switch` 语句非常适合这种场景。

```swift
let statusCode = 404

switch statusCode {
case 200:
    print("请求成功")
case 400:
    print("错误请求")
case 404:
    print("未找到资源")
case 500:
    print("服务器错误")
default:
    print("未知状态码")
}
```

**输出：**
```
未找到资源
```

## 9. 总结

`switch` 语句是 Swift 中一个非常强大的工具，可以帮助你简化复杂的条件判断。通过本文的学习，你应该已经掌握了 `switch` 语句的基本用法、区间匹配、元组匹配、值绑定以及 `where` 子句的使用。希望你能在实际编程中灵活运用这些知识。

## 10. 附加资源与练习

- **练习 1**：编写一个 `switch` 语句，根据月份输出对应的季节。
- **练习 2**：使用 `switch` 语句处理一个包含多个选项的枚举类型。
- **练习 3**：尝试在一个 `switch` 语句中同时使用值绑定和 `where` 子句。

:::tip
如果你对 `switch` 语句还有疑问，可以参考 Swift 官方文档中的 [Control Flow](https://docs.swift.org/swift-book/LanguageGuide/ControlFlow.html) 部分，了解更多细节。
:::