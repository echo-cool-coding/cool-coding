---
title: Swift Repeat-While
description: 了解 Swift 中的 Repeat-While 循环，掌握其语法、工作原理以及实际应用场景。
---

# Swift Repeat-While

在 Swift 编程语言中，`Repeat-While` 循环是一种控制流结构，用于重复执行一段代码，直到某个条件不再满足。与 `While` 循环不同，`Repeat-While` 循环会先执行一次循环体，然后再检查条件。这种特性使得 `Repeat-While` 循环非常适合用于至少需要执行一次的场景。

## 语法

`Repeat-While` 循环的基本语法如下：

```swift
repeat {
    // 需要重复执行的代码
} while 条件
```

- `repeat` 关键字表示循环的开始。
- 大括号 `{}` 内是循环体，即需要重复执行的代码。
- `while` 关键字后跟一个布尔表达式，用于判断是否继续循环。

## 工作原理

`Repeat-While` 循环的执行流程如下：

1. 首先执行循环体中的代码。
2. 执行完循环体后，检查 `while` 后的条件。
3. 如果条件为 `true`，则继续执行循环体；如果条件为 `false`，则退出循环。

:::note
与 `While` 循环不同，`Repeat-While` 循环至少会执行一次循环体，即使条件一开始就不满足。
:::

## 代码示例

以下是一个简单的 `Repeat-While` 循环示例：

```swift
var counter = 0

repeat {
    print("Counter: \(counter)")
    counter += 1
} while counter < 5
```

**输出：**

```
Counter: 0
Counter: 1
Counter: 2
Counter: 3
Counter: 4
```

在这个示例中，`counter` 初始值为 `0`。循环体首先执行一次，打印当前的 `counter` 值，然后将 `counter` 加 `1`。接着检查 `counter < 5` 的条件，如果为 `true`，则继续循环，直到 `counter` 达到 `5` 时退出循环。

## 实际应用场景

`Repeat-While` 循环非常适合用于需要至少执行一次的场景。例如，在用户输入验证中，你可能希望至少提示用户输入一次，然后再根据输入结果决定是否继续提示。

以下是一个用户输入验证的示例：

```swift
var userInput: String

repeat {
    print("请输入 'yes' 或 'no':")
    userInput = readLine() ?? ""
} while userInput != "yes" && userInput != "no"

print("你输入的是: \(userInput)")
```

**输出：**

```
请输入 'yes' 或 'no':
maybe
请输入 'yes' 或 'no':
yes
你输入的是: yes
```

在这个示例中，程序会不断提示用户输入，直到用户输入 `"yes"` 或 `"no"` 为止。

## 总结

`Repeat-While` 循环是 Swift 中一种强大的控制流结构，特别适用于需要至少执行一次的场景。通过理解其语法和工作原理，你可以在实际编程中灵活运用它来处理各种重复任务。

:::tip
如果你需要在循环中至少执行一次代码，`Repeat-While` 循环是一个非常好的选择。
:::

## 附加资源与练习

为了巩固你对 `Repeat-While` 循环的理解，可以尝试以下练习：

1. 编写一个 `Repeat-While` 循环，计算从 `1` 到 `10` 的累加和。
2. 使用 `Repeat-While` 循环实现一个简单的猜数字游戏，程序随机生成一个数字，用户不断猜测，直到猜中为止。

通过这些练习，你将更加熟悉 `Repeat-While` 循环的使用场景和技巧。

:::caution
在使用 `Repeat-While` 循环时，务必确保循环条件最终会变为 `false`，否则会导致无限循环。
:::