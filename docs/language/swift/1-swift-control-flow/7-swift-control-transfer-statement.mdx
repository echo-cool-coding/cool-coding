---
title: Swift 控制转移语句
description: 了解Swift中的控制转移语句，包括`continue`、`break`、`fallthrough`、`return`和`throw`，掌握如何通过这些语句改变代码的执行流程。
---

# Swift 控制转移语句

在Swift编程中，控制转移语句用于改变代码的执行顺序。它们允许你在特定条件下跳过某些代码、提前退出循环或函数、或者在多个条件之间切换。理解这些语句对于编写高效且逻辑清晰的代码至关重要。

## 1. `continue` 语句

`continue`语句用于跳过当前循环的剩余部分，直接进入下一次循环迭代。它通常用于在满足某些条件时跳过当前迭代。

### 示例

```swift
for i in 1...10 {
    if i % 2 == 0 {
        continue
    }
    print(i)
}
```

**输出：**
```
1
3
5
7
9
```

在这个例子中，`continue`语句跳过了所有偶数，只打印了奇数。

## 2. `break` 语句

`break`语句用于立即终止循环或`switch`语句的执行。它通常用于在满足某些条件时提前退出循环。

### 示例

```swift
for i in 1...10 {
    if i == 5 {
        break
    }
    print(i)
}
```

**输出：**
```
1
2
3
4
```

在这个例子中，当`i`等于5时，`break`语句终止了循环，因此只打印了1到4。

## 3. `fallthrough` 语句

`fallthrough`语句用于在`switch`语句中强制执行下一个`case`，即使当前`case`的条件已经满足。它通常用于在多个`case`之间共享代码。

### 示例

```swift
let number = 2
switch number {
case 1:
    print("One")
case 2:
    print("Two")
    fallthrough
case 3:
    print("Three")
default:
    print("Other")
}
```

**输出：**
```
Two
Three
```

在这个例子中，`fallthrough`语句使得`case 2`执行后继续执行`case 3`。

## 4. `return` 语句

`return`语句用于从函数中返回一个值，并立即终止函数的执行。它也可以用于提前退出函数。

### 示例

```swift
func greet(name: String) -> String {
    if name.isEmpty {
        return "Hello, stranger!"
    }
    return "Hello, \(name)!"
}

print(greet(name: "Alice"))
print(greet(name: ""))
```

**输出：**
```
Hello, Alice!
Hello, stranger!
```

在这个例子中，`return`语句根据`name`是否为空返回不同的问候语。

## 5. `throw` 语句

`throw`语句用于抛出错误，通常与`do-catch`语句一起使用，用于处理可能发生的错误情况。

### 示例

```swift
enum PasswordError: Error {
    case tooShort
}

func validatePassword(_ password: String) throws {
    if password.count < 6 {
        throw PasswordError.tooShort
    }
}

do {
    try validatePassword("1234")
} catch PasswordError.tooShort {
    print("Password is too short!")
}
```

**输出：**
```
Password is too short!
```

在这个例子中，`throw`语句抛出了一个错误，`do-catch`语句捕获并处理了这个错误。

## 实际应用场景

### 场景1：跳过无效数据

在处理数据时，`continue`语句可以用于跳过无效数据，只处理有效数据。

```swift
let scores = [90, 85, -1, 78, 95]
for score in scores {
    if score < 0 {
        continue
    }
    print("Valid score: \(score)")
}
```

**输出：**
```
Valid score: 90
Valid score: 85
Valid score: 78
Valid score: 95
```

### 场景2：提前退出循环

在搜索算法中，`break`语句可以用于在找到目标后提前退出循环。

```swift
let numbers = [1, 3, 5, 7, 9]
var target = 5
for number in numbers {
    if number == target {
        print("Found \(target)!")
        break
    }
}
```

**输出：**
```
Found 5!
```

## 总结

Swift中的控制转移语句提供了强大的工具来管理代码的执行流程。通过`continue`、`break`、`fallthrough`、`return`和`throw`语句，你可以编写出更加灵活和高效的代码。掌握这些语句的使用方法，将有助于你在实际编程中更好地控制程序的执行路径。

## 附加资源与练习

- **练习1**：编写一个函数，使用`continue`语句跳过数组中的所有负数，并返回正数的总和。
- **练习2**：使用`switch`语句和`fallthrough`语句，模拟一个简单的状态机，打印出状态转换的过程。
- **练习3**：编写一个函数，使用`throw`语句处理可能的错误情况，并在`do-catch`语句中捕获并处理这些错误。

通过完成这些练习，你将更深入地理解Swift中的控制转移语句，并能够在实际项目中灵活运用它们。