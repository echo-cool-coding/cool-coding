---
title: Swift 标签语句
description: 了解 Swift 中的标签语句，掌握如何在循环和条件语句中使用标签来控制程序流程。
---

在 Swift 编程中，**标签语句**是一种强大的工具，它允许你为循环或条件语句添加标签，以便在嵌套的代码块中更精确地控制程序的执行流程。通过使用标签，你可以直接跳出特定的循环或条件语句，而不必依赖复杂的逻辑。

## 什么是标签语句？

标签语句是 Swift 中的一种语法结构，它允许你为 `for`、`while`、`repeat-while` 循环或 `if`、`switch` 条件语句添加一个标签。这个标签可以用于在嵌套的代码块中明确指定要控制的目标语句。

标签的语法非常简单：在语句前加上一个标签名，后跟一个冒号 `:`。例如：

```swift
labelName: for item in collection {
    // 循环体
}
```

## 如何使用标签语句？

标签语句最常见的用途是在嵌套循环中。假设你有一个嵌套的 `for` 循环，你希望在内层循环满足某个条件时，直接跳出外层循环。这时，标签语句就派上用场了。

### 示例 1：跳出外层循环

```swift
outerLoop: for i in 1...3 {
    innerLoop: for j in 1...3 {
        if j == 2 {
            break outerLoop
        }
        print("i: \(i), j: \(j)")
    }
}
```

**输出：**
```
i: 1, j: 1
```

在这个例子中，当 `j` 等于 2 时，`break outerLoop` 语句会直接跳出外层循环，而不是仅仅跳出内层循环。

### 示例 2：跳过特定迭代

```swift
outerLoop: for i in 1...3 {
    innerLoop: for j in 1...3 {
        if j == 2 {
            continue outerLoop
        }
        print("i: \(i), j: \(j)")
    }
}
```

**输出：**
```
i: 1, j: 1
i: 2, j: 1
i: 3, j: 1
```

在这个例子中，当 `j` 等于 2 时，`continue outerLoop` 语句会跳过当前外层循环的剩余部分，直接进入下一次外层循环的迭代。

## 实际应用场景

标签语句在以下场景中非常有用：

1. **嵌套循环中的复杂控制**：当你在处理多层嵌套的循环时，标签语句可以帮助你更精确地控制循环的流程。
2. **跳出特定条件语句**：在复杂的条件语句中，标签语句可以帮助你直接跳出特定的 `if` 或 `switch` 语句。

### 示例 3：游戏中的角色移动

假设你正在开发一个游戏，角色在一个网格中移动。当角色遇到障碍物时，你需要停止整个移动过程。

```swift
moveLoop: for step in 1...10 {
    if isObstacle(at: step) {
        print("遇到障碍物，停止移动")
        break moveLoop
    }
    print("移动到第 \(step) 步")
}
```

在这个例子中，`moveLoop` 标签用于控制角色的移动循环。当检测到障碍物时，`break moveLoop` 会立即停止整个移动过程。

## 总结

Swift 中的标签语句是一种强大的工具，它允许你在复杂的嵌套代码块中精确控制程序的执行流程。通过为循环或条件语句添加标签，你可以轻松地跳出特定的代码块，而不必依赖复杂的逻辑。

:::tip 提示
在实际开发中，尽量避免过度使用标签语句，因为它们可能会使代码变得难以阅读和维护。只有在必要时才使用标签语句。
:::

## 附加资源

- [Swift 官方文档 - 控制流](https://docs.swift.org/swift-book/LanguageGuide/ControlFlow.html)
- 练习：尝试在一个嵌套循环中使用标签语句，模拟一个简单的搜索算法，当找到目标时立即停止搜索。

通过掌握标签语句，你将能够更灵活地控制 Swift 程序的流程，编写出更高效、更易读的代码。