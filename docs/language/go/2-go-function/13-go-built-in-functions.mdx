---
title: Go 内置函数
description: 了解Go语言中的内置函数及其使用方法。本文详细介绍了Go内置函数的定义、常见函数及其实际应用场景，适合初学者学习。
---

# Go 内置函数

Go语言提供了一系列内置函数（built-in functions），这些函数无需导入任何包即可直接使用。它们为开发者提供了许多常用的功能，例如操作切片、处理错误、管理内存等。本文将详细介绍Go内置函数的使用方法，并通过代码示例帮助初学者更好地理解这些函数。

## 什么是内置函数？

内置函数是Go语言标准库中预定义的函数，无需导入任何包即可直接调用。这些函数通常用于执行一些常见的操作，例如获取切片的长度、向切片追加元素、处理错误等。由于它们是语言的一部分，因此性能通常比用户自定义函数更高。

## 常见的Go内置函数

以下是Go语言中一些常用的内置函数及其功能：

1. **len()**：返回数组、切片、字符串、映射或通道的长度。
2. **cap()**：返回切片的容量。
3. **make()**：用于创建切片、映射或通道。
4. **new()**：用于分配内存并返回指向该内存的指针。
5. **append()**：向切片追加元素。
6. **copy()**：复制切片中的元素。
7. **delete()**：从映射中删除键值对。
8. **panic()** 和 **recover()**：用于处理运行时错误。

接下来，我们将通过代码示例逐步讲解这些内置函数的使用方法。

### 1. len() 函数

`len()` 函数用于获取数组、切片、字符串、映射或通道的长度。以下是一个简单的示例：

```go
package main

import "fmt"

func main() {
    arr := [3]int{1, 2, 3}
    slice := []int{1, 2, 3, 4}
    str := "Hello, Go!"

    fmt.Println(len(arr))   // 输出: 3
    fmt.Println(len(slice)) // 输出: 4
    fmt.Println(len(str))   // 输出: 11
}
```

### 2. cap() 函数

`cap()` 函数用于获取切片的容量。容量是指切片底层数组的长度。以下是一个示例：

```go
package main

import "fmt"

func main() {
    slice := make([]int, 3, 5)
    fmt.Println(cap(slice)) // 输出: 5
}
```

### 3. make() 函数

`make()` 函数用于创建切片、映射或通道。以下是一个创建切片的示例：

```go
package main

import "fmt"

func main() {
    slice := make([]int, 3, 5)
    fmt.Println(slice) // 输出: [0 0 0]
}
```

### 4. new() 函数

`new()` 函数用于分配内存并返回指向该内存的指针。以下是一个示例：

```go
package main

import "fmt"

func main() {
    ptr := new(int)
    *ptr = 42
    fmt.Println(*ptr) // 输出: 42
}
```

### 5. append() 函数

`append()` 函数用于向切片追加元素。以下是一个示例：

```go
package main

import "fmt"

func main() {
    slice := []int{1, 2, 3}
    slice = append(slice, 4, 5)
    fmt.Println(slice) // 输出: [1 2 3 4 5]
}
```

### 6. copy() 函数

`copy()` 函数用于复制切片中的元素。以下是一个示例：

```go
package main

import "fmt"

func main() {
    src := []int{1, 2, 3}
    dst := make([]int, len(src))
    copy(dst, src)
    fmt.Println(dst) // 输出: [1 2 3]
}
```

### 7. delete() 函数

`delete()` 函数用于从映射中删除键值对。以下是一个示例：

```go
package main

import "fmt"

func main() {
    m := map[string]int{"a": 1, "b": 2}
    delete(m, "a")
    fmt.Println(m) // 输出: map[b:2]
}
```

### 8. panic() 和 recover() 函数

`panic()` 和 `recover()` 函数用于处理运行时错误。以下是一个示例：

```go
package main

import "fmt"

func main() {
    defer func() {
        if r := recover(); r != nil {
            fmt.Println("Recovered from panic:", r)
        }
    }()
    panic("Something went wrong!")
}
```

## 实际应用场景

### 动态扩展切片

在实际开发中，我们经常需要动态扩展切片。使用 `append()` 函数可以轻松实现这一点：

```go
package main

import "fmt"

func main() {
    slice := []int{1, 2, 3}
    for i := 4; i <= 10; i++ {
        slice = append(slice, i)
    }
    fmt.Println(slice) // 输出: [1 2 3 4 5 6 7 8 9 10]
}
```

### 错误处理

在处理可能引发错误的操作时，可以使用 `panic()` 和 `recover()` 来捕获并处理错误：

```go
package main

import "fmt"

func main() {
    defer func() {
        if r := recover(); r != nil {
            fmt.Println("Recovered from panic:", r)
        }
    }()
    panic("An error occurred!")
}
```

## 总结

Go语言的内置函数为开发者提供了许多常用的功能，无需导入额外的包即可使用。本文介绍了常见的Go内置函数及其使用方法，并通过代码示例展示了它们的实际应用场景。掌握这些内置函数将有助于你更高效地编写Go代码。

## 附加资源

- [Go语言官方文档](https://golang.org/doc/)
- [Go语言内置函数参考](https://golang.org/pkg/builtin/)

## 练习

1. 使用 `len()` 和 `cap()` 函数分别获取一个切片的长度和容量。
2. 使用 `append()` 函数向一个切片追加多个元素。
3. 使用 `panic()` 和 `recover()` 函数编写一个简单的错误处理程序。

通过完成这些练习，你将更好地理解Go内置函数的使用方法。