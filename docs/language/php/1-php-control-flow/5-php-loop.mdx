---
title: PHP 循环
description: 了解 PHP 中的循环结构，包括 `for`、`while`、`do-while` 和 `foreach` 循环，掌握如何通过循环简化重复性任务。
---

在编程中，循环是一种重要的控制流结构，用于重复执行一段代码，直到满足特定条件。PHP 提供了多种循环结构，包括 `for`、`while`、`do-while` 和 `foreach`。本文将详细介绍这些循环的使用方法，并通过实际案例帮助你理解它们的应用场景。

## 1. `for` 循环

`for` 循环是最常用的循环结构之一，适用于已知循环次数的情况。它的语法如下：

```php
for (初始化; 条件; 递增/递减) {
    // 循环体
}
```

### 示例：打印 1 到 5 的数字

```php
for ($i = 1; $i <= 5; $i++) {
    echo $i . " ";
}
```

**输出：**
```
1 2 3 4 5
```

### 解释：
- **初始化**：`$i = 1`，设置循环变量的初始值。
- **条件**：`$i <= 5`，每次循环前检查条件是否为真。
- **递增/递减**：`$i++`，每次循环后更新循环变量。

:::tip
`for` 循环非常适合处理需要固定次数的任务，例如遍历数组或生成序列。
:::

---

## 2. `while` 循环

`while` 循环在条件为真时重复执行代码块。它的语法如下：

```php
while (条件) {
    // 循环体
}
```

### 示例：打印 1 到 5 的数字

```php
$i = 1;
while ($i <= 5) {
    echo $i . " ";
    $i++;
}
```

**输出：**
```
1 2 3 4 5
```

### 解释：
- **条件**：`$i <= 5`，每次循环前检查条件是否为真。
- **循环体**：执行代码并更新循环变量。

:::caution
如果条件始终为真，`while` 循环将进入无限循环。务必确保条件最终会变为假。
:::

---

## 3. `do-while` 循环

`do-while` 循环与 `while` 循环类似，但它的循环体至少会执行一次，即使条件一开始就为假。它的语法如下：

```php
do {
    // 循环体
} while (条件);
```

### 示例：打印 1 到 5 的数字

```php
$i = 1;
do {
    echo $i . " ";
    $i++;
} while ($i <= 5);
```

**输出：**
```
1 2 3 4 5
```

### 解释：
- **循环体**：先执行一次代码，然后检查条件。
- **条件**：`$i <= 5`，决定是否继续循环。

:::note
`do-while` 循环适用于需要至少执行一次的任务，例如用户输入验证。
:::

---

## 4. `foreach` 循环

`foreach` 循环专门用于遍历数组或对象。它的语法如下：

```php
foreach ($array as $value) {
    // 循环体
}
```

或者获取键和值：

```php
foreach ($array as $key => $value) {
    // 循环体
}
```

### 示例：遍历数组并打印值

```php
$colors = ["red", "green", "blue"];
foreach ($colors as $color) {
    echo $color . " ";
}
```

**输出：**
```
red green blue
```

### 解释：
- **数组**：`$colors` 是要遍历的数组。
- **值**：`$color` 是当前数组元素的值。

:::tip
`foreach` 是处理数组的首选循环结构，因为它简洁且易于理解。
:::

---

## 实际案例：计算数组元素的总和

假设我们有一个包含数字的数组，需要计算所有元素的总和。可以使用 `foreach` 循环来实现：

```php
$numbers = [10, 20, 30, 40, 50];
$sum = 0;

foreach ($numbers as $number) {
    $sum += $number;
}

echo "总和是：" . $sum;
```

**输出：**
```
总和是：150
```

---

## 总结

PHP 提供了多种循环结构，每种循环都有其特定的用途：
- **`for` 循环**：适合已知循环次数的任务。
- **`while` 循环**：适合条件未知但需要重复执行的任务。
- **`do-while` 循环**：适合至少需要执行一次的任务。
- **`foreach` 循环**：适合遍历数组或对象。

通过合理选择循环结构，可以简化代码并提高效率。

---

## 附加资源与练习

### 练习：
1. 使用 `for` 循环打印 1 到 100 的所有偶数。
2. 使用 `while` 循环计算 1 到 10 的阶乘。
3. 使用 `foreach` 循环遍历一个关联数组并打印键和值。

### 资源：
- [PHP 官方文档 - 控制结构](https://www.php.net/manual/zh/control-structures.php)
- [W3Schools PHP 教程](https://www.w3schools.com/php/)

通过练习和阅读官方文档，你将更深入地掌握 PHP 循环的使用技巧。