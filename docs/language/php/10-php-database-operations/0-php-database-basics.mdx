---
title: PHP 数据库基础
description: 学习PHP中数据库操作的基础知识，包括连接数据库、执行查询和处理结果。适合初学者掌握PHP与数据库交互的核心概念。
---

# PHP 数据库基础

在现代Web开发中，数据库是存储和管理数据的核心组件。PHP作为一种广泛使用的服务器端脚本语言，提供了强大的功能来与数据库进行交互。本文将介绍PHP中数据库操作的基础知识，帮助你理解如何连接数据库、执行查询以及处理结果。

## 1. 什么是数据库操作？

数据库操作是指通过编程语言与数据库进行交互的过程。在PHP中，这通常包括以下步骤：

1. **连接数据库**：建立与数据库的连接。
2. **执行查询**：向数据库发送SQL语句以获取或修改数据。
3. **处理结果**：获取查询结果并对其进行处理。
4. **关闭连接**：在操作完成后关闭数据库连接。

## 2. 连接数据库

在PHP中，连接数据库通常使用`mysqli`或`PDO`扩展。以下是使用`mysqli`扩展连接MySQL数据库的示例：

```php
<?php
$servername = "localhost";
$username = "root";
$password = "";
$dbname = "myDB";

// 创建连接
$conn = new mysqli($servername, $username, $password, $dbname);

// 检查连接
if ($conn->connect_error) {
    die("连接失败: " . $conn->connect_error);
}
echo "连接成功";
?>
```

:::note
确保将`$servername`、`$username`、`$password`和`$dbname`替换为实际的数据库连接信息。
:::

## 3. 执行查询

连接数据库后，可以执行SQL查询。以下是一个简单的查询示例，从`users`表中获取所有用户：

```php
<?php
$sql = "SELECT id, name, email FROM users";
$result = $conn->query($sql);

if ($result->num_rows > 0) {
    // 输出每行数据
    while($row = $result->fetch_assoc()) {
        echo "id: " . $row["id"]. " - Name: " . $row["name"]. " - Email: " . $row["email"]. "<br />";
    }
} else {
    echo "0 结果";
}
?>
```

:::tip
`fetch_assoc()`方法将结果集中的每一行作为关联数组返回，方便访问列数据。
:::

## 4. 处理结果

在上面的示例中，我们使用`fetch_assoc()`方法逐行获取查询结果。你也可以使用其他方法，如`fetch_array()`或`fetch_object()`，根据需求选择合适的方式处理结果。

## 5. 实际案例

假设你正在开发一个博客系统，需要从数据库中获取所有文章并显示在页面上。以下是一个简单的实现：

```php
<?php
$sql = "SELECT title, content, author FROM posts";
$result = $conn->query($sql);

if ($result->num_rows > 0) {
    while($row = $result->fetch_assoc()) {
        echo "<h2>" . $row["title"]. "</h2>";
        echo "<p>" . $row["content"]. "</p>";
        echo "<p>作者: " . $row["author"]. "</p><hr />";
    }
} else {
    echo "没有文章";
}
?>
```

## 6. 关闭连接

在完成所有数据库操作后，记得关闭连接以释放资源：

```php
<?php
$conn->close();
?>
```

## 7. 总结

通过本文，你学习了PHP中数据库操作的基础知识，包括如何连接数据库、执行查询和处理结果。这些技能是开发动态Web应用程序的基础。

:::caution
在实际开发中，务必注意SQL注入等安全问题。建议使用预处理语句或ORM工具来增强安全性。
:::

## 8. 附加资源与练习

- **练习**：尝试创建一个简单的用户注册系统，将用户输入的数据存储到数据库中。
- **资源**：
  - [PHP官方文档](https://www.php.net/manual/en/book.mysqli.php)
  - [MySQL官方文档](https://dev.mysql.com/doc/)

继续深入学习PHP数据库操作，你将能够构建更复杂和功能强大的Web应用程序。祝你学习愉快！