---
title: PHP 字符串截取
description: 学习如何在PHP中截取字符串，掌握常用的字符串截取函数及其实际应用场景。
---

# PHP 字符串截取

在PHP中，字符串截取是一个非常常见的操作。无论是处理用户输入、解析数据，还是生成动态内容，字符串截取都扮演着重要的角色。本文将详细介绍PHP中常用的字符串截取方法，并通过实际案例帮助你更好地理解和应用这些技术。

## 什么是字符串截取？

字符串截取是指从一个较长的字符串中提取出部分内容。例如，你可能需要从一个完整的句子中提取出前10个字符，或者从一个URL中提取出域名部分。PHP提供了多种函数来实现字符串截取，其中最常用的是 `substr()` 函数。

## 使用 `substr()` 函数截取字符串

`substr()` 函数是PHP中最常用的字符串截取函数。它的基本语法如下：

```php
substr(string $string, int $start, ?int $length = null): string
```

- `$string`：要截取的原始字符串。
- `$start`：开始截取的位置。如果为正数，则从字符串的开头开始计数；如果为负数，则从字符串的末尾开始计数。
- `$length`（可选）：要截取的长度。如果未指定，则截取从 `$start` 到字符串末尾的所有字符。

### 示例1：基本用法

```php
$string = "Hello, World!";
$substring = substr($string, 0, 5);
echo $substring; // 输出: Hello
```

在这个例子中，我们从字符串 `"Hello, World!"` 的开头截取了前5个字符，结果是 `"Hello"`。

### 示例2：使用负数作为起始位置

```php
$string = "Hello, World!";
$substring = substr($string, -6);
echo $substring; // 输出: World!
```

在这个例子中，我们从字符串的倒数第6个字符开始截取，结果是 `"World!"`。

## 使用 `mb_substr()` 处理多字节字符

在处理包含多字节字符（如中文、日文等）的字符串时，`substr()` 函数可能会导致乱码或错误的结果。为了解决这个问题，PHP提供了 `mb_substr()` 函数，它专门用于处理多字节字符。

### 示例3：使用 `mb_substr()` 截取中文字符串

```php
$string = "你好，世界！";
$substring = mb_substr($string, 0, 2);
echo $substring; // 输出: 你好
```

在这个例子中，我们使用 `mb_substr()` 函数从包含中文字符的字符串中截取了前2个字符，结果是 `"你好"`。

## 实际应用场景

### 场景1：截取文章摘要

假设你有一个博客系统，需要在首页显示每篇文章的摘要。你可以使用字符串截取功能来生成摘要。

```php
$content = "这是一篇关于PHP字符串截取的文章，我们将学习如何使用substr()和mb_substr()函数。";
$summary = mb_substr($content, 0, 20) . "...";
echo $summary; // 输出: 这是一篇关于PHP字符串截取的文章...
```

### 场景2：处理用户输入

在处理用户输入时，你可能需要限制用户输入的字符长度。例如，限制用户名不能超过10个字符。

```php
$username = "这是一个很长的用户名";
if (mb_strlen($username) > 10) {
    $username = mb_substr($username, 0, 10) . "...";
}
echo $username; // 输出: 这是一个很长的...
```

## 总结

字符串截取是PHP编程中的一个基本但非常重要的操作。通过 `substr()` 和 `mb_substr()` 函数，你可以轻松地从字符串中提取出所需的部分。在处理多字节字符时，务必使用 `mb_substr()` 函数以避免乱码问题。

## 附加资源与练习

- **练习1**：编写一个PHP脚本，从用户输入的URL中提取出域名部分。
- **练习2**：使用 `mb_substr()` 函数，从一个包含中文字符的字符串中截取前5个字符，并输出结果。

通过不断练习，你将更加熟练地掌握PHP字符串截取的技巧，并能够在实际项目中灵活运用。