---
title: PHP 字符串格式化
description: 学习如何在PHP中格式化字符串，掌握常用的字符串格式化技巧和实际应用场景。
---

## 介绍

在PHP中，字符串格式化是一种常见的操作，它允许你将变量、表达式或其他数据插入到字符串中，或者按照特定的格式输出字符串。字符串格式化不仅可以使代码更简洁，还能提高代码的可读性和维护性。本文将介绍PHP中常用的字符串格式化方法，并通过实际案例帮助你理解这些概念。

## 1. 使用双引号字符串

在PHP中，双引号字符串允许你直接在字符串中嵌入变量。PHP会自动解析这些变量并将其值插入到字符串中。

```php
$name = "Alice";
echo "Hello, $name!"; // 输出: Hello, Alice!
```

:::note
双引号字符串中的变量会被解析，而单引号字符串中的变量则不会被解析。
:::

## 2. 使用 `sprintf` 函数

`sprintf` 是一个强大的字符串格式化函数，它允许你按照指定的格式将变量插入到字符串中。`sprintf` 的语法如下：

```php
sprintf(format, arg1, arg2, ...)
```

其中，`format` 是包含格式说明符的字符串，`arg1`, `arg2`, ... 是要插入的变量。

```php
$name = "Bob";
$age = 25;
echo sprintf("My name is %s and I am %d years old.", $name, $age);
// 输出: My name is Bob and I am 25 years old.
```

:::tip
`sprintf` 的格式说明符包括 `%s`（字符串）、`%d`（整数）、`%f`（浮点数）等。
:::

## 3. 使用 `printf` 函数

`printf` 函数与 `sprintf` 类似，但它会直接输出格式化后的字符串，而不是返回它。

```php
$price = 19.99;
printf("The price is $%.2f", $price);
// 输出: The price is $19.99
```

:::caution
`printf` 会直接输出结果，因此如果你需要将格式化后的字符串存储到变量中，应该使用 `sprintf`。
:::

## 4. 使用 `str_pad` 函数

`str_pad` 函数用于将字符串填充到指定的长度。这在需要对字符串进行对齐或格式化时非常有用。

```php
$text = "Hello";
echo str_pad($text, 10, "-", STR_PAD_BOTH); // 输出: --Hello---
```

:::note
`str_pad` 的第三个参数是填充字符，第四个参数是填充方式（`STR_PAD_LEFT`, `STR_PAD_RIGHT`, `STR_PAD_BOTH`）。
:::

## 5. 使用 `number_format` 函数

`number_format` 函数用于格式化数字，通常用于货币或大数字的显示。

```php
$number = 1234567.89;
echo number_format($number, 2, '.', ','); // 输出: 1,234,567.89
```

:::tip
`number_format` 的第二个参数是小数位数，第三个参数是小数点的字符，第四个参数是千位分隔符。
:::

## 6. 实际案例

假设你正在开发一个电子商务网站，需要显示商品的价格和库存信息。你可以使用字符串格式化来确保信息的显示格式一致。

```php
$product = "Laptop";
$price = 999.99;
$stock = 50;

echo sprintf("Product: %s\nPrice: $%.2f\nStock: %d units", $product, $price, $stock);
// 输出:
// Product: Laptop
// Price: $999.99
// Stock: 50 units
```

## 总结

PHP提供了多种字符串格式化方法，包括双引号字符串、`sprintf`、`printf`、`str_pad` 和 `number_format` 等。这些方法可以帮助你更灵活地处理字符串，并使代码更具可读性。通过实际案例，你可以更好地理解这些概念并在实际项目中应用它们。

## 附加资源与练习

- **练习1**: 使用 `sprintf` 格式化一个包含姓名、年龄和工资的字符串，并输出。
- **练习2**: 使用 `number_format` 格式化一个包含小数的大数字，并添加千位分隔符。
- **进一步阅读**: [PHP官方文档 - 字符串函数](https://www.php.net/manual/en/ref.strings.php)

通过不断练习和探索，你将能够熟练掌握PHP中的字符串格式化技巧，并在实际开发中灵活运用。