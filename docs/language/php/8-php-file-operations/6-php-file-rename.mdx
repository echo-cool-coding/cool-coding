---
title: PHP 文件重命名
description: 学习如何在PHP中重命名文件，掌握文件操作的基本技能。本文适合初学者，包含代码示例和实际应用场景。
---

# PHP 文件重命名

在PHP中，文件操作是一个常见的任务，而文件重命名是其中一项基本操作。通过重命名文件，你可以更改文件的名称，甚至可以将文件移动到不同的目录。本文将详细介绍如何在PHP中重命名文件，并提供实际案例帮助你理解这一概念。

## 什么是文件重命名？

文件重命名是指更改文件的名称或路径。在PHP中，你可以使用内置的 `rename()` 函数来实现这一操作。`rename()` 函数不仅可以更改文件的名称，还可以将文件从一个目录移动到另一个目录。

## `rename()` 函数的基本用法

`rename()` 函数的语法如下：

```php
bool rename ( string $oldname , string $newname [, resource $context ] )
```

- `$oldname`：当前文件的路径和名称。
- `$newname`：新文件的路径和名称。
- `$context`：可选参数，用于指定上下文资源。

如果重命名成功，`rename()` 函数将返回 `true`，否则返回 `false`。

### 示例：重命名文件

假设你有一个名为 `oldfile.txt` 的文件，你想将其重命名为 `newfile.txt`。以下是实现这一操作的代码：

```php
<?php
$oldname = 'oldfile.txt';
$newname = 'newfile.txt';

if (rename($oldname, $newname)) {
    echo "文件重命名成功！";
} else {
    echo "文件重命名失败。";
}
?>
```

**输入：**
- `oldfile.txt` 文件存在。

**输出：**
- 如果重命名成功，输出 `文件重命名成功！`。
- 如果重命名失败，输出 `文件重命名失败。`。

## 实际应用场景

### 场景1：批量重命名文件

假设你有一个目录，里面包含多个以 `temp_` 开头的文件，你想将它们重命名为 `backup_` 开头。以下是实现这一操作的代码：

```php
<?php
$directory = 'path/to/directory/';
$files = glob($directory . 'temp_*');

foreach ($files as $file) {
    $newfile = str_replace('temp_', 'backup_', $file);
    rename($file, $newfile);
}
?>
```

**解释：**
- `glob()` 函数用于获取所有以 `temp_` 开头的文件。
- `str_replace()` 函数用于将 `temp_` 替换为 `backup_`。
- `rename()` 函数用于重命名文件。

### 场景2：移动文件到另一个目录

假设你有一个文件 `report.txt`，你想将其移动到 `archives` 目录并重命名为 `report_2023.txt`。以下是实现这一操作的代码：

```php
<?php
$oldname = 'report.txt';
$newname = 'archives/report_2023.txt';

if (rename($oldname, $newname)) {
    echo "文件移动并重命名成功！";
} else {
    echo "文件移动并重命名失败。";
}
?>
```

**解释：**
- `rename()` 函数不仅可以重命名文件，还可以将文件移动到指定目录。

## 注意事项

:::caution
- 如果目标文件已经存在，`rename()` 函数将覆盖该文件。
- 如果目标目录不存在，`rename()` 函数将失败。
:::

## 总结

通过本文，你学习了如何在PHP中使用 `rename()` 函数重命名文件。我们还探讨了实际应用场景，如批量重命名文件和移动文件到另一个目录。掌握这些技能将帮助你在日常开发中更高效地处理文件操作。

## 附加资源

- [PHP官方文档 - rename()](https://www.php.net/manual/en/function.rename.php)
- 练习：尝试编写一个PHP脚本，将某个目录下的所有 `.txt` 文件重命名为 `.bak` 文件。

希望本文对你有所帮助，祝你在PHP文件操作的学习中取得进步！