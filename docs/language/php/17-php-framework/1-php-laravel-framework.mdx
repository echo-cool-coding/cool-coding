---
title: PHP Laravel 框架
description: "了解 Laravel 框架的基础知识，掌握其核心功能，并通过实际案例学习如何使用 Laravel 构建现代 PHP 应用程序。"
---

# PHP Laravel 框架

Laravel 是一个流行的 PHP 框架，旨在简化现代 Web 应用程序的开发。它提供了丰富的功能集，包括路由、数据库迁移、Eloquent ORM、Blade 模板引擎等，使开发者能够快速构建高质量的应用程序。Laravel 以其优雅的语法和强大的工具集而闻名，是 PHP 开发者的首选框架之一。

## 什么是 Laravel？

Laravel 是一个开源的 PHP 框架，由 Taylor Otwell 创建。它遵循 MVC（模型-视图-控制器）架构模式，帮助开发者将应用程序的逻辑、数据和用户界面分离。Laravel 提供了许多内置功能，如身份验证、队列、缓存等，使开发者能够专注于业务逻辑，而不是重复编写基础代码。

## 安装 Laravel

在开始使用 Laravel 之前，您需要安装它。Laravel 使用 Composer 进行依赖管理，因此您需要先安装 Composer。

```bash
composer create-project --prefer-dist laravel/laravel blog
```

上述命令将创建一个名为 `blog` 的新 Laravel 项目。安装完成后，您可以通过以下命令启动开发服务器：

```bash
php artisan serve
```

访问 `http://localhost:8000`，您将看到 Laravel 的欢迎页面。

## 路由

路由是 Laravel 的核心功能之一，它定义了应用程序的 URL 和对应的处理逻辑。以下是一个简单的路由示例：

```php
Route::get('/hello', function () {
    return 'Hello, World!';
});
```

当您访问 `http://localhost:8000/hello` 时，页面将显示 "Hello, World!"。

## 控制器

控制器用于处理应用程序的逻辑。您可以通过 Artisan 命令创建一个控制器：

```bash
php artisan make:controller HelloController
```

在 `HelloController` 中，您可以定义一个方法来处理请求：

```php
namespace App\Http\Controllers;

use Illuminate\Http\Request;

class HelloController extends Controller
{
    public function index()
    {
        return 'Hello from Controller!';
    }
}
```

然后，您可以在路由中使用该控制器：

```php
Route::get('/hello', [HelloController::class, 'index']);
```

## 数据库迁移

Laravel 的迁移功能允许您通过代码定义数据库结构。以下是一个创建 `users` 表的迁移示例：

```bash
php artisan make:migration create_users_table
```

在生成的迁移文件中，您可以定义表的结构：

```php
public function up()
{
    Schema::create('users', function (Blueprint $table) {
        $table->id();
        $table->string('name');
        $table->string('email')->unique();
        $table->timestamps();
    });
}
```

运行迁移命令以创建表：

```bash
php artisan migrate
```

## Eloquent ORM

Eloquent 是 Laravel 的 ORM（对象关系映射），它允许您通过模型与数据库交互。以下是一个 `User` 模型的示例：

```php
namespace App\Models;

use Illuminate\Database\Eloquent\Model;

class User extends Model
{
    protected $fillable = ['name', 'email'];
}
```

您可以使用 Eloquent 进行数据库操作，例如创建新用户：

```php
$user = User::create([
    'name' => 'John Doe',
    'email' => 'john@example.com',
]);
```

## Blade 模板引擎

Blade 是 Laravel 的模板引擎，它允许您在视图中使用简洁的语法。以下是一个简单的 Blade 模板示例：

```html
<!DOCTYPE html>
<html>
<head>
    <title>Welcome</title>
</head>
<body>
    <h1>Hello, {{ $name }}</h1>
</body>
</html>
```

在控制器中，您可以将数据传递给视图：

```php
return view('welcome', ['name' => 'John Doe']);
```

## 实际案例：构建一个简单的博客

让我们通过一个简单的博客应用程序来展示 Laravel 的实际应用。我们将创建一个博客系统，用户可以查看文章列表和单个文章。

1. **创建文章模型和迁移**：

```bash
php artisan make:model Post -m
```

在迁移文件中定义 `posts` 表的结构：

```php
public function up()
{
    Schema::create('posts', function (Blueprint $table) {
        $table->id();
        $table->string('title');
        $table->text('content');
        $table->timestamps();
    });
}
```

运行迁移：

```bash
php artisan migrate
```

2. **创建文章控制器**：

```bash
php artisan make:controller PostController
```

在 `PostController` 中定义方法来显示文章列表和单个文章：

```php
namespace App\Http\Controllers;

use App\Models\Post;
use Illuminate\Http\Request;

class PostController extends Controller
{
    public function index()
    {
        $posts = Post::all();
        return view('posts.index', ['posts' => $posts]);
    }

    public function show($id)
    {
        $post = Post::findOrFail($id);
        return view('posts.show', ['post' => $post]);
    }
}
```

3. **创建视图**：

在 `resources/views/posts` 目录下创建 `index.blade.php` 和 `show.blade.php` 文件。

`index.blade.php`：

```html
<!DOCTYPE html>
<html>
<head>
    <title>Posts</title>
</head>
<body>
    <h1>Posts</h1>
    <ul>
        @foreach ($posts as $post)
            <li><a href="/posts/{{ $post->id }}">{{ $post->title }}</a></li>
        @endforeach
    </ul>
</body>
</html>
```

`show.blade.php`：

```html
<!DOCTYPE html>
<html>
<head>
    <title>{{ $post->title }}</title>
</head>
<body>
    <h1>{{ $post->title }}</h1>
    <p>{{ $post->content }}</p>
</body>
</html>
```

4. **定义路由**：

```php
Route::get('/posts', [PostController::class, 'index']);
Route::get('/posts/{id}', [PostController::class, 'show']);
```

现在，您可以访问 `/posts` 查看文章列表，并点击文章标题查看单个文章。

## 总结

Laravel 是一个功能强大且易于使用的 PHP 框架，适合构建各种规模的 Web 应用程序。通过本文，您已经了解了 Laravel 的基础知识，包括路由、控制器、数据库迁移、Eloquent ORM 和 Blade 模板引擎。我们还通过一个简单的博客案例展示了 Laravel 的实际应用。

## 附加资源

- [Laravel 官方文档](https://laravel.com/docs)
- [Laravel 中文文档](https://learnku.com/docs/laravel)
- [Laravel 视频教程](https://laracasts.com)

## 练习

1. 创建一个新的 Laravel 项目，并尝试添加一个新的路由和控制器。
2. 使用 Eloquent 创建一个新的模型，并通过迁移生成对应的数据库表。
3. 使用 Blade 模板引擎创建一个简单的用户界面，显示从数据库中获取的数据。

通过练习，您将更深入地理解 Laravel 的工作原理，并能够独立构建更复杂的应用程序。