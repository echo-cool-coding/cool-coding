---
title: PHP 命令行选项
description: 了解PHP命令行选项的基础知识，掌握如何通过命令行运行PHP脚本并利用选项优化开发流程。
---

## 介绍

PHP不仅可以通过Web服务器运行，还可以通过命令行界面（CLI）执行。PHP命令行选项允许开发者在运行PHP脚本时传递参数，从而控制脚本的行为。这些选项可以帮助你调试代码、查看PHP配置、执行特定任务等。

本文将详细介绍PHP命令行选项的使用方法，并通过实际案例帮助你理解其应用场景。

## 基本语法

在命令行中运行PHP脚本的基本语法如下：

```bash
php [选项] [文件名]
```

其中，`[选项]` 是传递给PHP的可选参数，`[文件名]` 是要执行的PHP脚本文件。

## 常用PHP命令行选项

以下是一些常用的PHP命令行选项：

### 1. `-f` 或 `--file`

指定要执行的PHP脚本文件。

```bash
php -f script.php
```

### 2. `-r` 或 `--run`

直接在命令行中执行PHP代码，而不需要脚本文件。

```bash
php -r 'echo "Hello, World!\n";'
```

**输出：**

```
Hello, World!
```

### 3. `-a` 或 `--interactive`

进入交互模式，允许你逐行输入PHP代码并立即执行。

```bash
php -a
```

**示例：**

```
Interactive mode enabled

php > echo "Hello, World!\n";
Hello, World!
php > 
```

### 4. `-c` 或 `--php-ini`

指定自定义的 `php.ini` 配置文件。

```bash
php -c /path/to/custom/php.ini script.php
```

### 5. `-n` 或 `--no-php-ini`

不加载任何 `php.ini` 配置文件。

```bash
php -n script.php
```

### 6. `-m` 或 `--modules`

列出已加载的PHP模块。

```bash
php -m
```

**输出：**

```
[PHP Modules]
Core
date
libxml
...
```

### 7. `-i` 或 `--info`

显示PHP配置信息。

```bash
php -i
```

### 8. `-v` 或 `--version`

显示PHP版本信息。

```bash
php -v
```

**输出：**

```
PHP 8.1.0 (cli) (built: Nov 24 2021 08:13:00) ( NTS )
Copyright (c) The PHP Group
Zend Engine v4.1.0, Copyright (c) Zend Technologies
```

### 9. `-h` 或 `--help`

显示PHP命令行选项的帮助信息。

```bash
php -h
```

## 实际案例

### 案例1：调试PHP脚本

假设你有一个PHP脚本 `debug.php`，你希望在运行脚本时显示所有错误信息。你可以使用 `-d` 选项来设置PHP配置项。

```bash
php -d display_errors=On -d error_reporting=E_ALL debug.php
```

### 案例2：执行单行代码

你可以在命令行中直接执行PHP代码，而不需要创建脚本文件。

```bash
php -r 'echo "Current time: " . date("Y-m-d H:i:s") . "\n";'
```

**输出：**

```
Current time: 2023-10-05 14:30:00
```

### 案例3：查看PHP配置

你可以使用 `-i` 选项查看PHP的配置信息，这对于调试和优化PHP环境非常有用。

```bash
php -i | grep "memory_limit"
```

**输出：**

```
memory_limit => 128M => 128M
```

## 总结

PHP命令行选项为开发者提供了强大的工具，可以在命令行中灵活地运行和调试PHP脚本。通过掌握这些选项，你可以更高效地开发和测试PHP应用程序。

## 附加资源

- [PHP官方文档 - 命令行选项](https://www.php.net/manual/en/features.commandline.options.php)
- [PHP命令行界面（CLI）](https://www.php.net/manual/en/features.commandline.php)

## 练习

1. 使用 `-r` 选项在命令行中打印出当前日期和时间。
2. 使用 `-m` 选项列出你当前PHP环境中加载的所有模块。
3. 尝试使用 `-d` 选项设置 `error_reporting` 为 `E_ALL`，并运行一个包含错误的PHP脚本，观察错误信息是否显示。

通过完成这些练习，你将更好地理解PHP命令行选项的使用方法。