---
title: PHP 可变参数
description: 了解PHP中的可变参数（Variadic Functions），掌握如何使用它们处理不定数量的函数参数。
---

# PHP 可变参数

在PHP中，可变参数（Variadic Functions）是一种允许函数接受不定数量参数的特性。这种特性在处理不确定数量的输入时非常有用，例如计算一组数字的总和或合并多个字符串。

## 什么是可变参数？

可变参数允许你在定义函数时，使用 `...` 语法来指定函数可以接受任意数量的参数。这些参数会被自动收集到一个数组中，方便你在函数内部进行处理。

### 基本语法

在PHP中，可变参数的语法如下：

```php
function functionName(...$args) {
    // 函数体
}
```

其中，`...$args` 表示函数可以接受任意数量的参数，这些参数会被收集到 `$args` 数组中。

## 代码示例

让我们通过一个简单的例子来理解可变参数的使用：

```php
function sum(...$numbers) {
    $total = 0;
    foreach ($numbers as $number) {
        $total += $number;
    }
    return $total;
}

echo sum(1, 2, 3, 4); // 输出: 10
echo sum(5, 10, 15);  // 输出: 30
```

在这个例子中，`sum` 函数可以接受任意数量的参数，并将它们相加后返回总和。

## 逐步讲解

### 1. 定义可变参数函数

首先，我们需要在函数定义中使用 `...` 语法来声明可变参数。例如：

```php
function myFunction(...$args) {
    // 函数体
}
```

### 2. 处理可变参数

在函数内部，`$args` 是一个包含所有传入参数的数组。你可以像操作普通数组一样操作它。

```php
function printValues(...$values) {
    foreach ($values as $value) {
        echo $value . "<br />";
    }
}

printValues('Apple', 'Banana', 'Cherry');
```

### 3. 结合类型提示

你还可以为可变参数指定类型提示，以确保传入的参数符合预期类型。

```php
function addIntegers(int ...$numbers): int {
    return array_sum($numbers);
}

echo addIntegers(1, 2, 3); // 输出: 6
```

:::note
注意：如果传入的参数类型不符合类型提示，PHP会抛出类型错误。
:::

## 实际应用场景

### 1. 计算平均值

假设你需要编写一个函数来计算一组数字的平均值，但你不确定会有多少个数字传入。这时，可变参数就派上用场了。

```php
function average(...$numbers) {
    if (count($numbers) === 0) {
        return 0;
    }
    return array_sum($numbers) / count($numbers);
}

echo average(10, 20, 30); // 输出: 20
```

### 2. 合并字符串

另一个常见的应用场景是合并多个字符串。你可以使用可变参数来简化这个过程。

```php
function concatenateStrings(...$strings) {
    return implode(' ', $strings);
}

echo concatenateStrings('Hello', 'World', '!'); // 输出: Hello World !
```

## 总结

PHP中的可变参数是一个非常强大的特性，它允许你编写更加灵活和通用的函数。通过使用 `...` 语法，你可以轻松处理不定数量的参数，并在函数内部以数组的形式进行操作。

:::tip
提示：可变参数不仅可以用于数值计算，还可以用于处理字符串、数组等多种数据类型。
:::

## 附加资源与练习

### 练习

1. 编写一个函数 `multiply`，接受任意数量的参数并返回它们的乘积。
2. 创建一个函数 `joinWords`，接受任意数量的字符串参数，并将它们用逗号分隔后返回。

### 进一步阅读

- [PHP官方文档 - 可变参数](https://www.php.net/manual/en/functions.arguments.php#functions.variable-arg-list)
- [PHP类型提示](https://www.php.net/manual/en/language.types.declarations.php)

通过掌握可变参数，你将能够编写更加灵活和强大的PHP函数。继续练习并尝试在实际项目中应用这一特性吧！