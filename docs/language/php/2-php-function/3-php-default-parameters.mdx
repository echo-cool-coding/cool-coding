---
title: PHP 默认参数
description: 了解PHP函数中的默认参数，掌握如何为函数参数设置默认值，以便在调用函数时省略某些参数。
---

## 介绍

在PHP中，函数是代码重用的重要工具。默认参数允许我们为函数的某些参数设置默认值。这意味着，如果在调用函数时没有传递这些参数，函数将使用预先定义的默认值。这为函数提供了更大的灵活性，并减少了代码的冗余。

## 默认参数的基本语法

在PHP中，定义默认参数的语法非常简单。只需在函数定义时为参数赋值即可。例如：

```php
function greet($name = "Guest") {
    echo "Hello, $name!";
}
```

在这个例子中，`$name` 参数有一个默认值 `"Guest"`。如果调用 `greet()` 函数时不传递任何参数，函数将输出 `"Hello, Guest!"`。

## 使用默认参数的示例

让我们通过一个更复杂的例子来理解默认参数的使用。

```php
function createUser($username, $email, $isAdmin = false) {
    echo "Username: $username\n";
    echo "Email: $email\n";
    echo "Admin Status: " . ($isAdmin ? "Yes" : "No") . "\n";
}

// 调用函数
createUser("john_doe", "john@example.com");
createUser("jane_doe", "jane@example.com", true);
```

**输出：**

```
Username: john_doe
Email: john@example.com
Admin Status: No

Username: jane_doe
Email: jane@example.com
Admin Status: Yes
```

在这个例子中，`$isAdmin` 参数有一个默认值 `false`。第一次调用 `createUser()` 函数时，我们没有传递 `$isAdmin` 参数，因此函数使用了默认值 `false`。第二次调用时，我们明确传递了 `true`，因此函数使用了传递的值。

## 默认参数的实际应用场景

默认参数在实际开发中非常有用，尤其是在处理可选参数时。例如，假设我们正在开发一个博客系统，用户可以发布文章，但文章的某些字段（如标签或发布日期）是可选的。

```php
function createPost($title, $content, $tags = [], $publishDate = null) {
    echo "Title: $title\n";
    echo "Content: $content\n";
    echo "Tags: " . implode(", ", $tags) . "\n";
    echo "Publish Date: " . ($publishDate ? $publishDate : "Not set") . "\n";
}

// 调用函数
createPost("My First Post", "This is the content of my first post.");
createPost("My Second Post", "This is another post.", ["PHP", "Tutorial"], "2023-10-01");
```

**输出：**

```
Title: My First Post
Content: This is the content of my first post.
Tags: 
Publish Date: Not set

Title: My Second Post
Content: This is another post.
Tags: PHP, Tutorial
Publish Date: 2023-10-01
```

在这个例子中，`$tags` 和 `$publishDate` 参数都有默认值。如果用户没有提供这些参数，函数将使用默认值。

## 注意事项

:::caution
默认参数必须放在参数列表的末尾。如果默认参数后面还有非默认参数，PHP会抛出错误。
:::

例如，以下代码是错误的：

```php
function example($a = 1, $b) {
    // 错误：默认参数 $a 后面有非默认参数 $b
}
```

正确的写法应该是：

```php
function example($b, $a = 1) {
    // 正确：默认参数 $a 放在参数列表的末尾
}
```

## 总结

默认参数是PHP函数中一个非常有用的特性，它允许我们为函数的某些参数设置默认值。这使得函数调用更加灵活，并减少了代码的冗余。通过合理使用默认参数，我们可以编写出更加简洁和易于维护的代码。

## 附加资源与练习

- **练习1**：编写一个函数 `calculateArea()`，计算矩形的面积。函数应接受两个参数：`$width` 和 `$height`，并为 `$height` 设置默认值为 `10`。调用函数时，尝试省略 `$height` 参数，观察输出。
- **练习2**：修改 `createPost()` 函数，使其能够处理更多可选参数，如 `$author` 和 `$category`，并为这些参数设置默认值。

通过练习，你将更好地理解默认参数的使用场景和优势。