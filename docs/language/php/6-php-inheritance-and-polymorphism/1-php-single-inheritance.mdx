---
title: PHP 单继承
description: 了解PHP中的单继承概念，掌握如何通过继承实现代码复用和扩展类功能。
---

## 介绍

在面向对象编程（OOP）中，**继承**是一种重要的机制，它允许一个类（子类）从另一个类（父类）继承属性和方法。PHP支持**单继承**，这意味着一个类只能继承自一个父类。单继承有助于简化代码结构，同时避免多重继承可能带来的复杂性。

本文将详细介绍PHP中的单继承，并通过代码示例和实际案例帮助你理解其工作原理和应用场景。

## 什么是单继承？

单继承是指一个类只能有一个直接父类。通过继承，子类可以复用父类的属性和方法，同时还可以扩展或修改这些属性和方法。这种机制使得代码更加模块化和可维护。

### 单继承的基本语法

在PHP中，使用 `extends` 关键字来实现继承。以下是一个简单的示例：

```php
class Animal {
    public function makeSound() {
        echo "Animal sound!";
    }
}

class Dog extends Animal {
    public function makeSound() {
        echo "Woof!";
    }
}

$dog = new Dog();
$dog->makeSound(); // 输出: Woof!
```

在这个例子中，`Dog` 类继承了 `Animal` 类，并重写了 `makeSound` 方法。当我们调用 `$dog->makeSound()` 时，输出的是 `"Woof!"`，而不是 `"Animal sound!"`。

## 单继承的工作原理

### 1. 继承属性和方法

子类会自动继承父类的所有公共（`public`）和受保护（`protected`）的属性和方法。私有（`private`）属性和方法则不能被继承。

```php
class Vehicle {
    protected $wheels = 4;

    public function getWheels() {
        return $this->wheels;
    }
}

class Car extends Vehicle {
    public function displayWheels() {
        echo "This car has " . $this->wheels . " wheels.";
    }
}

$car = new Car();
$car->displayWheels(); // 输出: This car has 4 wheels.
```

在这个例子中，`Car` 类继承了 `Vehicle` 类的 `$wheels` 属性和 `getWheels` 方法。

### 2. 方法重写

子类可以重写父类的方法，以提供不同的实现。重写时，子类的方法必须与父类的方法具有相同的名称和参数列表。

```php
class Bird {
    public function fly() {
        echo "The bird is flying.";
    }
}

class Penguin extends Bird {
    public function fly() {
        echo "Penguins can't fly!";
    }
}

$penguin = new Penguin();
$penguin->fly(); // 输出: Penguins can't fly!
```

在这个例子中，`Penguin` 类重写了 `Bird` 类的 `fly` 方法，提供了不同的行为。

### 3. 访问父类方法

在子类中，可以使用 `parent::` 关键字来调用父类的方法，即使该方法在子类中被重写。

```php
class Cat extends Animal {
    public function makeSound() {
        parent::makeSound(); // 调用父类的makeSound方法
        echo "Meow!";
    }
}

$cat = new Cat();
$cat->makeSound(); // 输出: Animal sound! Meow!
```

在这个例子中，`Cat` 类在重写 `makeSound` 方法时，首先调用了父类的 `makeSound` 方法，然后添加了自己的行为。

## 实际应用场景

### 1. 代码复用

单继承最常见的用途是代码复用。通过将通用的功能放在父类中，子类可以直接继承这些功能，而不需要重复编写代码。

```php
class User {
    protected $username;

    public function __construct($username) {
        $this->username = $username;
    }

    public function getUsername() {
        return $this->username;
    }
}

class Admin extends User {
    public function promoteUser() {
        echo $this->username . " has been promoted to admin.";
    }
}

$admin = new Admin("Alice");
$admin->promoteUser(); // 输出: Alice has been promoted to admin.
```

在这个例子中，`Admin` 类继承了 `User` 类的 `$username` 属性和 `getUsername` 方法，从而避免了重复代码。

### 2. 扩展功能

单继承还允许子类扩展父类的功能。子类可以在继承的基础上添加新的属性和方法，或者修改父类的行为。

```php
class Shape {
    protected $color;

    public function __construct($color) {
        $this->color = $color;
    }

    public function getColor() {
        return $this->color;
    }
}

class Circle extends Shape {
    private $radius;

    public function __construct($color, $radius) {
        parent::__construct($color);
        $this->radius = $radius;
    }

    public function getArea() {
        return pi() * $this->radius * $this->radius;
    }
}

$circle = new Circle("red", 5);
echo "The circle is " . $circle->getColor() . " and has an area of " . $circle->getArea();
// 输出: The circle is red and has an area of 78.539816339745
```

在这个例子中，`Circle` 类扩展了 `Shape` 类的功能，添加了 `$radius` 属性和 `getArea` 方法。

## 总结

PHP的单继承机制使得代码更加模块化和可维护。通过继承，子类可以复用父类的属性和方法，同时还可以扩展或修改这些功能。单继承避免了多重继承的复杂性，使得代码结构更加清晰。

:::tip
**提示**：虽然单继承简化了代码结构，但在某些情况下，你可能需要使用接口（`interface`）或特质（`trait`）来实现更复杂的功能。
:::

## 附加资源与练习

- **练习**：创建一个 `Person` 类，包含 `name` 和 `age` 属性，然后创建一个 `Student` 类继承 `Person` 类，并添加 `grade` 属性和 `study` 方法。
- **进一步学习**：了解PHP中的接口和特质，探索如何在不使用多重继承的情况下实现更复杂的功能。

通过本文的学习，你应该已经掌握了PHP中的单继承概念及其应用。继续练习和探索，你将能够更好地利用继承来构建高效、可维护的代码。