---
title: PHP 父类访问
description: 了解如何在PHP中访问父类的属性和方法，掌握继承与多态的核心概念。
---

## 介绍

在PHP中，继承是面向对象编程（OOP）的核心概念之一。通过继承，子类可以继承父类的属性和方法，从而实现代码的重用和扩展。然而，在某些情况下，子类可能需要访问父类的属性和方法，尤其是当子类重写了父类的方法时。本文将详细介绍如何在PHP中访问父类的属性和方法，并通过实际案例帮助你更好地理解这一概念。

## 访问父类的属性和方法

在PHP中，子类可以通过 `parent::` 关键字来访问父类的属性和方法。这在子类重写了父类方法但仍然需要调用父类方法时非常有用。

### 基本语法

```php
parent::methodName();
```

### 示例代码

以下是一个简单的示例，展示了如何在子类中访问父类的方法：

```php
class Animal {
    public function makeSound() {
        return "Animal sound";
    }
}

class Dog extends Animal {
    public function makeSound() {
        $parentSound = parent::makeSound();
        return $parentSound . " and Dog barks";
    }
}

$dog = new Dog();
echo $dog->makeSound();
```

**输出：**

```
Animal sound and Dog barks
```

在这个示例中，`Dog` 类重写了 `Animal` 类的 `makeSound` 方法，但仍然通过 `parent::makeSound()` 调用了父类的方法。

## 访问父类的属性

与访问父类的方法类似，子类也可以通过 `parent::` 关键字访问父类的属性。不过，需要注意的是，父类的属性必须是 `protected` 或 `public` 访问修饰符，否则子类将无法访问。

### 示例代码

```php
class Vehicle {
    protected $wheels = 4;

    public function getWheels() {
        return $this->wheels;
    }
}

class Car extends Vehicle {
    public function getWheels() {
        return parent::getWheels() . " wheels";
    }
}

$car = new Car();
echo $car->getWheels();
```

**输出：**

```
4 wheels
```

在这个示例中，`Car` 类通过 `parent::getWheels()` 访问了父类 `Vehicle` 的 `getWheels` 方法，从而获取了 `wheels` 属性的值。

## 实际应用场景

在实际开发中，访问父类的属性和方法通常用于以下场景：

1. **扩展父类功能**：子类可以在重写父类方法的基础上，添加额外的功能。
2. **调用父类构造函数**：在子类的构造函数中调用父类的构造函数，确保父类的初始化逻辑被执行。
3. **多态性**：通过访问父类的方法，子类可以实现多态性，即同一个方法在不同的子类中有不同的实现。

### 示例：调用父类构造函数

```php
class Person {
    protected $name;

    public function __construct($name) {
        $this->name = $name;
    }

    public function getName() {
        return $this->name;
    }
}

class Employee extends Person {
    private $position;

    public function __construct($name, $position) {
        parent::__construct($name);
        $this->position = $position;
    }

    public function getDetails() {
        return parent::getName() . " is a " . $this->position;
    }
}

$employee = new Employee("John", "Developer");
echo $employee->getDetails();
```

**输出：**

```
John is a Developer
```

在这个示例中，`Employee` 类通过 `parent::__construct($name)` 调用了父类 `Person` 的构造函数，确保 `name` 属性被正确初始化。

## 总结

通过 `parent::` 关键字，PHP 子类可以方便地访问父类的属性和方法。这在扩展父类功能、调用父类构造函数以及实现多态性时非常有用。掌握这一概念，将有助于你更好地理解和应用 PHP 的继承与多态特性。

## 附加资源与练习

- **练习**：尝试创建一个继承自 `Shape` 类的 `Circle` 类，并在 `Circle` 类中重写 `Shape` 类的 `area` 方法，同时通过 `parent::` 调用父类的 `area` 方法。
- **进一步学习**：阅读 PHP 官方文档中关于 [继承](https://www.php.net/manual/en/language.oop5.inheritance.php) 和 [多态](https://www.php.net/manual/en/language.oop5.polymorphism.php) 的部分，深入了解这些概念的高级用法。

:::tip
记住，合理使用继承和多态可以显著提高代码的可维护性和可扩展性。在实际开发中，尽量避免过度使用继承，优先考虑组合而非继承。
:::