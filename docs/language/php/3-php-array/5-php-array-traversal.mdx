---
title: PHP 数组遍历
description: 学习如何在PHP中遍历数组，掌握多种遍历方法及其实际应用场景。
---

# PHP 数组遍历

在PHP中，数组是一种非常常用的数据结构，用于存储多个值。遍历数组是指逐个访问数组中的每个元素，以便对其进行操作或处理。本文将详细介绍PHP中遍历数组的多种方法，并通过实际案例帮助你理解这些方法的应用场景。

## 1. 使用 `for` 循环遍历数组

`for` 循环是最基本的遍历数组的方法之一。它适用于索引数组（即键为数字的数组）。

```php
<?php
$fruits = ["Apple", "Banana", "Cherry"];
for ($i = 0; $i < count($fruits); $i++) {
    echo $fruits[$i] . "<br />";
}
?>
```

**输出：**
```
Apple
Banana
Cherry
```

:::note
`for` 循环适用于索引数组，但不适用于关联数组（即键为字符串的数组）。
:::

## 2. 使用 `foreach` 循环遍历数组

`foreach` 循环是PHP中最常用的遍历数组的方法，它适用于索引数组和关联数组。

### 遍历索引数组

```php
<?php
$fruits = ["Apple", "Banana", "Cherry"];
foreach ($fruits as $fruit) {
    echo $fruit . "<br />";
}
?>
```

**输出：**
```
Apple
Banana
Cherry
```

### 遍历关联数组

```php
<?php
$person = ["name" => "John", "age" => 30, "city" => "New York"];
foreach ($person as $key => $value) {
    echo "$key: $value<br />";
}
?>
```

**输出：**
```
name: John
age: 30
city: New York
```

:::tip
`foreach` 循环是遍历数组的首选方法，因为它简洁且适用于所有类型的数组。
:::

## 3. 使用 `while` 循环和 `each()` 函数遍历数组

`each()` 函数可以返回数组中的当前键值对，并将数组指针向前移动。结合 `while` 循环，可以遍历整个数组。

```php
<?php
$fruits = ["Apple", "Banana", "Cherry"];
while (list($key, $value) = each($fruits)) {
    echo "$key: $value<br />";
}
?>
```

**输出：**
```
0: Apple
1: Banana
2: Cherry
```

:::caution
`each()` 函数在PHP 7.2.0中已被弃用，并在PHP 8.0.0中移除。建议使用 `foreach` 循环代替。
:::

## 4. 使用 `array_walk()` 函数遍历数组

`array_walk()` 函数允许你对数组中的每个元素应用用户自定义的函数。

```php
<?php
$fruits = ["Apple", "Banana", "Cherry"];
function printFruit($value, $key) {
    echo "$key: $value<br />";
}
array_walk($fruits, 'printFruit');
?>
```

**输出：**
```
0: Apple
1: Banana
2: Cherry
```

:::note
`array_walk()` 函数适用于需要对数组中的每个元素执行复杂操作的场景。
:::

## 5. 实际应用案例

假设你有一个包含多个用户信息的数组，你需要遍历数组并输出每个用户的详细信息。

```php
<?php
$users = [
    ["name" => "John", "age" => 30, "city" => "New York"],
    ["name" => "Jane", "age" => 25, "city" => "Los Angeles"],
    ["name" => "Mike", "age" => 35, "city" => "Chicago"]
];

foreach ($users as $user) {
    echo "Name: " . $user['name'] . ", Age: " . $user['age'] . ", City: " . $user['city'] . "<br />";
}
?>
```

**输出：**
```
Name: John, Age: 30, City: New York
Name: Jane, Age: 25, City: Los Angeles
Name: Mike, Age: 35, City: Chicago
```

## 6. 总结

在PHP中，遍历数组是一项基本但非常重要的操作。本文介绍了多种遍历数组的方法，包括 `for` 循环、`foreach` 循环、`while` 循环结合 `each()` 函数以及 `array_walk()` 函数。每种方法都有其适用的场景，选择合适的方法可以提高代码的效率和可读性。

## 7. 附加资源与练习

- **练习1**：创建一个包含多个学生信息的数组，并使用 `foreach` 循环遍历数组，输出每个学生的姓名和成绩。
- **练习2**：使用 `array_walk()` 函数对数组中的每个元素进行平方运算，并输出结果。

通过不断练习，你将更加熟练地掌握PHP数组遍历的技巧。