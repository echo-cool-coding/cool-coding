---
title: C 语言参数传递
description: 了解C语言中参数传递的基本概念，包括值传递和指针传递的区别，以及如何在实际编程中应用这些概念。
---

# C 语言参数传递

在C语言中，函数是程序的基本构建块之一。函数可以接受参数，这些参数可以是基本数据类型（如整数、字符等）或复杂数据类型（如数组、结构体等）。理解C语言中的参数传递机制对于编写高效、可维护的代码至关重要。

## 参数传递的基本概念

在C语言中，参数传递主要有两种方式：**值传递**和**指针传递**。这两种方式决定了函数如何处理传递给它的参数。

### 值传递

值传递是C语言中默认的参数传递方式。在这种方式下，函数接收的是参数的一个副本，而不是原始数据。这意味着在函数内部对参数的修改不会影响到函数外部的原始数据。

```c
#include <stdio.h>

void increment(int a) {
    a++;
    printf("Inside function: %d\n", a);
}

int main() {
    int num = 5;
    increment(num);
    printf("Outside function: %d\n", num);
    return 0;
}
```

**输出：**
```
Inside function: 6
Outside function: 5
```

在这个例子中，`increment` 函数接收了 `num` 的一个副本，并在函数内部对其进行了修改。然而，`main` 函数中的 `num` 值并未改变。

### 指针传递

指针传递允许函数直接访问和修改原始数据。通过传递变量的地址（即指针），函数可以对原始数据进行操作。

```c
#include <stdio.h>

void increment(int *a) {
    (*a)++;
    printf("Inside function: %d\n", *a);
}

int main() {
    int num = 5;
    increment(&num);
    printf("Outside function: %d\n", num);
    return 0;
}
```

**输出：**
```
Inside function: 6
Outside function: 6
```

在这个例子中，`increment` 函数接收了 `num` 的地址，并通过指针修改了 `num` 的值。因此，`main` 函数中的 `num` 值也被修改了。

## 实际应用场景

### 交换两个变量的值

一个常见的应用场景是交换两个变量的值。使用值传递无法实现这一功能，因为函数只能修改参数的副本。而使用指针传递，则可以轻松实现。

```c
#include <stdio.h>

void swap(int *a, int *b) {
    int temp = *a;
    *a = *b;
    *b = temp;
}

int main() {
    int x = 10, y = 20;
    printf("Before swap: x = %d, y = %d\n", x, y);
    swap(&x, &y);
    printf("After swap: x = %d, y = %d\n", x, y);
    return 0;
}
```

**输出：**
```
Before swap: x = 10, y = 20
After swap: x = 20, y = 10
```

### 传递数组

在C语言中，数组名实际上是指向数组第一个元素的指针。因此，传递数组时，通常使用指针传递。

```c
#include <stdio.h>

void printArray(int *arr, int size) {
    for (int i = 0; i < size; i++) {
        printf("%d ", arr[i]);
    }
    printf("\n");
}

int main() {
    int arr[] = {1, 2, 3, 4, 5};
    int size = sizeof(arr) / sizeof(arr[0]);
    printArray(arr, size);
    return 0;
}
```

**输出：**
```
1 2 3 4 5
```

## 总结

C语言中的参数传递机制是理解函数如何与外部数据交互的关键。值传递适用于不需要修改原始数据的情况，而指针传递则允许函数直接操作原始数据。掌握这两种传递方式，可以帮助你编写更高效、更灵活的代码。

:::tip
**提示：** 在使用指针传递时，务必确保指针指向有效的内存地址，否则可能会导致程序崩溃或未定义行为。
:::

## 附加资源与练习

1. **练习：** 编写一个函数，使用指针传递来计算两个整数的和，并返回结果。
2. **练习：** 修改上面的 `swap` 函数，使其能够交换两个浮点数的值。
3. **资源：** 阅读C语言标准库中的 `scanf` 和 `printf` 函数的实现，了解它们如何处理参数传递。

通过不断练习和探索，你将更加熟练地掌握C语言中的参数传递机制。