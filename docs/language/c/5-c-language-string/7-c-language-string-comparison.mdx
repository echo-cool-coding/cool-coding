---
title: C 语言字符串比较
description: 学习如何在C语言中比较字符串，了解字符串比较的原理、常用函数及其实际应用场景。
---

# C 语言字符串比较

在C语言中，字符串是由字符数组表示的，以空字符 `\0` 结尾。字符串比较是编程中常见的操作，用于判断两个字符串是否相等，或者确定它们的字典顺序。本文将详细介绍如何在C语言中比较字符串，并展示实际应用场景。

## 1. 字符串比较的基本概念

字符串比较是指比较两个字符串的内容是否相同，或者确定它们在字典中的顺序。C语言提供了多种方法来比较字符串，其中最常用的是 `strcmp()` 函数。

### 1.1 `strcmp()` 函数

`strcmp()` 是C标准库中的一个函数，用于比较两个字符串。它的原型如下：

```c
int strcmp(const char *str1, const char *str2);
```

- `str1` 和 `str2` 是要比较的两个字符串。
- 返回值：
  - 如果 `str1` 小于 `str2`，返回一个负整数。
  - 如果 `str1` 等于 `str2`，返回 `0`。
  - 如果 `str1` 大于 `str2`，返回一个正整数。

### 1.2 字符串比较的原理

`strcmp()` 函数会逐个字符比较两个字符串，直到遇到不同的字符或到达字符串的末尾（`\0`）。比较的依据是字符的ASCII值。

:::note
字符串比较是区分大小写的。例如，`"Hello"` 和 `"hello"` 会被认为是不同的字符串。
:::

## 2. 代码示例

下面是一个使用 `strcmp()` 函数比较字符串的简单示例：

```c
#include <stdio.h>
#include <string.h>

int main() {
    char str1[] = "apple";
    char str2[] = "banana";
    char str3[] = "apple";

    int result1 = strcmp(str1, str2);
    int result2 = strcmp(str1, str3);

    printf("Comparing '%s' and '%s': %d\n", str1, str2, result1);
    printf("Comparing '%s' and '%s': %d\n", str1, str3, result2);

    return 0;
}
```

**输出：**
```
Comparing 'apple' and 'banana': -1
Comparing 'apple' and 'apple': 0
```

### 2.1 解释

- `strcmp(str1, str2)` 返回 `-1`，因为 `"apple"` 在字典中排在 `"banana"` 之前。
- `strcmp(str1, str3)` 返回 `0`，因为两个字符串完全相同。

## 3. 实际应用场景

### 3.1 用户登录验证

在用户登录系统中，通常需要比较用户输入的密码与存储在数据库中的密码是否一致。以下是一个简单的示例：

```c
#include <stdio.h>
#include <string.h>

int main() {
    char storedPassword[] = "secure123";
    char userPassword[20];

    printf("Enter your password: ");
    scanf("%s", userPassword);

    if (strcmp(userPassword, storedPassword) == 0) {
        printf("Login successful!\n");
    } else {
        printf("Incorrect password.\n");
    }

    return 0;
}
```

**输入：**
```
Enter your password: secure123
```

**输出：**
```
Login successful!
```

### 3.2 排序字符串数组

在需要对一组字符串进行排序时，字符串比较是必不可少的。以下是一个简单的字符串排序示例：

```c
#include <stdio.h>
#include <string.h>

void sortStrings(char arr[][20], int n) {
    char temp[20];
    for (int i = 0; i < n-1; i++) {
        for (int j = i+1; j < n; j++) {
            if (strcmp(arr[i], arr[j]) > 0) {
                strcpy(temp, arr[i]);
                strcpy(arr[i], arr[j]);
                strcpy(arr[j], temp);
            }
        }
    }
}

int main() {
    char arr[][20] = {"banana", "apple", "cherry"};
    int n = sizeof(arr)/sizeof(arr[0]);

    sortStrings(arr, n);

    printf("Sorted strings:\n");
    for (int i = 0; i < n; i++) {
        printf("%s\n", arr[i]);
    }

    return 0;
}
```

**输出：**
```
Sorted strings:
apple
banana
cherry
```

## 4. 总结

字符串比较是C语言编程中的基础操作之一。通过 `strcmp()` 函数，我们可以轻松比较两个字符串的内容或顺序。在实际应用中，字符串比较常用于用户验证、排序等场景。

:::tip
记住，`strcmp()` 是区分大小写的。如果需要不区分大小写的比较，可以使用 `strcasecmp()` 函数（在POSIX兼容系统中可用）。
:::

## 5. 附加资源与练习

- **练习1**：编写一个程序，比较用户输入的两个字符串，并输出较大的字符串。
- **练习2**：修改用户登录验证程序，使其在用户输入错误密码时提供三次重试机会。
- **练习3**：实现一个不区分大小写的字符串比较函数。

通过不断练习，你将更加熟练地掌握C语言中的字符串比较操作。祝你学习愉快！