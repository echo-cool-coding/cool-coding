---
title: C 语言流水输入输出
description: 了解C语言中的流水输入输出概念，掌握如何使用标准库函数实现连续的数据输入和输出操作。
---

# C 语言流水输入输出

在C语言中，**流水输入输出**（Stream Input/Output）是指通过标准库函数对数据进行连续的读取和写入操作。这种操作方式类似于水流，数据从一个地方流向另一个地方，因此被称为“流水”。C语言提供了丰富的标准库函数来处理输入输出操作，这些函数通常与文件、控制台（如键盘和屏幕）等设备进行交互。

## 什么是流水输入输出？

流水输入输出是C语言中处理数据流的一种方式。数据流可以是文件、键盘输入、屏幕输出等。C语言的标准库提供了多种函数来处理这些数据流，例如 `printf`、`scanf`、`fgets`、`fputs` 等。这些函数允许你从输入设备（如键盘）读取数据，或将数据写入输出设备（如屏幕或文件）。

流水输入输出的核心思想是**连续处理数据**。你可以一次读取或写入一个字符、一行文本，甚至整个文件的内容。这种灵活性使得流水输入输出成为C语言中处理数据的强大工具。

## 标准输入输出函数

C语言中最常用的流水输入输出函数包括：

- **`printf`**：用于格式化输出到标准输出设备（通常是屏幕）。
- **`scanf`**：用于从标准输入设备（通常是键盘）读取格式化输入。
- **`fgets`**：用于从文件或标准输入中读取一行文本。
- **`fputs`**：用于将字符串写入文件或标准输出。

### 示例：使用 `printf` 和 `scanf`

以下是一个简单的示例，展示了如何使用 `printf` 和 `scanf` 进行流水输入输出：

```c
#include <stdio.h>

int main() {
    int age;
    printf("请输入您的年龄: ");
    scanf("%d", &age);
    printf("您输入的年龄是: %d\n", age);
    return 0;
}
```

**输入：**
```
请输入您的年龄: 25
```

**输出：**
```
您输入的年龄是: 25
```

在这个示例中，`printf` 用于提示用户输入年龄，`scanf` 用于读取用户输入的整数，并将其存储在变量 `age` 中。最后，`printf` 再次用于输出用户输入的年龄。

## 文件输入输出

除了标准输入输出，C语言还支持文件的流水输入输出。你可以使用 `fopen`、`fclose`、`fread`、`fwrite` 等函数来操作文件。

### 示例：文件读写

以下是一个简单的文件读写示例：

```c
#include <stdio.h>

int main() {
    FILE *file;
    char text[] = "Hello, World!";
    
    // 写入文件
    file = fopen("example.txt", "w");
    if (file == NULL) {
        printf("无法打开文件\n");
        return 1;
    }
    fputs(text, file);
    fclose(file);
    
    // 读取文件
    file = fopen("example.txt", "r");
    if (file == NULL) {
        printf("无法打开文件\n");
        return 1;
    }
    char buffer[100];
    fgets(buffer, 100, file);
    printf("文件内容: %s", buffer);
    fclose(file);
    
    return 0;
}
```

**输出：**
```
文件内容: Hello, World!
```

在这个示例中，程序首先将字符串 `"Hello, World!"` 写入文件 `example.txt`，然后从同一文件中读取内容并输出到屏幕上。

## 实际应用场景

流水输入输出在实际编程中有广泛的应用。以下是一些常见的场景：

1. **用户交互**：通过 `scanf` 和 `printf` 实现与用户的交互，获取用户输入并显示结果。
2. **文件处理**：使用文件输入输出函数读取和写入文件，处理大量数据。
3. **日志记录**：将程序运行时的信息写入日志文件，便于后续分析。
4. **数据处理**：从文件中读取数据，进行处理后写入另一个文件。

## 总结

流水输入输出是C语言中处理数据流的核心概念。通过使用标准库函数，你可以轻松地实现从键盘、屏幕、文件等设备的数据输入和输出。掌握这些函数的使用，将帮助你编写更强大、更灵活的程序。

## 附加资源与练习

- **练习1**：编写一个程序，要求用户输入姓名和年龄，并将这些信息写入一个文件。
- **练习2**：编写一个程序，从文件中读取多行文本，并统计每行的字符数。
- **参考资源**：
  - [C语言标准库文档](https://en.cppreference.com/w/c)
  - 《C程序设计语言》（K&R）

通过不断练习和探索，你将更加熟练地掌握C语言中的流水输入输出操作。