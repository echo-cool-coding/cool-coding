---
title: Java 单选按钮
description: 学习Java中单选按钮(JRadioButton)的基础用法、API和应用场景，以及与按钮组(ButtonGroup)的配合使用。
---

# Java 单选按钮

在图形用户界面(GUI)编程中，单选按钮是一种常见的用户交互组件，它允许用户从一组选项中选择一个且只能选择一个选项。在Java Swing中，单选按钮通过`JRadioButton`类来实现。

## 单选按钮的基本概念

单选按钮（Radio Button）的命名灵感来源于老式收音机上的按钮 - 当你按下一个按钮时，之前按下的按钮会自动弹起。在GUI中，单选按钮具有以下特点：

- 通常以圆形图标显示，选中时圆形内部会填充
- 多个单选按钮通常组合在一起，形成一个逻辑组
- 一个组内只能有一个单选按钮被选中

:::note
单选按钮与复选框(JCheckBox)的主要区别在于，复选框允许多选，而单选按钮组内只允许单选。
:::

## JRadioButton 类

`JRadioButton` 是 Java Swing 包中提供的单选按钮组件，它继承自 `JToggleButton` 类。

### 基本语法

创建单选按钮的基本语法如下：

```java
// 创建一个未选中的单选按钮
JRadioButton radioButton = new JRadioButton(String text);

// 创建一个指定选中状态的单选按钮
JRadioButton radioButton = new JRadioButton(String text, boolean selected);
```

### 常用方法

`JRadioButton` 类提供了很多有用的方法：

| 方法 | 描述 |
|------|------|
| `setSelected(boolean b)` | 设置按钮的选中状态 |
| `isSelected()` | 获取按钮是否被选中 |
| `setText(String text)` | 设置按钮的显示文本 |
| `getText()` | 获取按钮的显示文本 |
| `addActionListener(ActionListener l)` | 添加动作监听器 |

## ButtonGroup 类

要实现单选按钮组的互斥行为（一个组内只能选择一个），必须使用 `ButtonGroup` 类。

```java
// 创建一个按钮组
ButtonGroup group = new ButtonGroup();

// 将单选按钮添加到按钮组
group.add(radioButton1);
group.add(radioButton2);
group.add(radioButton3);
```

:::caution
仅将单选按钮添加到 ButtonGroup 中并不会改变它们在界面上的布局，ButtonGroup 只管理按钮的选择状态。要控制布局，你仍然需要将单选按钮添加到容器中。
:::

## 基本示例

下面是一个简单的示例，展示了如何创建和使用单选按钮：

```java
import javax.swing.*;
import java.awt.*;
import java.awt.event.*;

public class RadioButtonDemo {
    public static void main(String[] args) {
        // 创建主窗口
        JFrame frame = new JFrame("单选按钮示例");
        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        frame.setSize(300, 200);
        frame.setLayout(new FlowLayout());
        
        // 创建单选按钮
        JRadioButton radioButton1 = new JRadioButton("选项A");
        JRadioButton radioButton2 = new JRadioButton("选项B");
        JRadioButton radioButton3 = new JRadioButton("选项C");
        
        // 默认选中第一个按钮
        radioButton1.setSelected(true);
        
        // 创建按钮组
        ButtonGroup group = new ButtonGroup();
        group.add(radioButton1);
        group.add(radioButton2);
        group.add(radioButton3);
        
        // 添加到窗口
        frame.add(radioButton1);
        frame.add(radioButton2);
        frame.add(radioButton3);
        
        // 添加一个显示选择结果的标签
        JLabel resultLabel = new JLabel("当前选择: 选项A");
        frame.add(resultLabel);
        
        // 添加动作监听器
        ActionListener listener = new ActionListener() {
            public void actionPerformed(ActionEvent e) {
                JRadioButton button = (JRadioButton) e.getSource();
                resultLabel.setText("当前选择: " + button.getText());
            }
        };
        
        radioButton1.addActionListener(listener);
        radioButton2.addActionListener(listener);
        radioButton3.addActionListener(listener);
        
        // 显示窗口
        frame.setVisible(true);
    }
}
```

运行上面的代码，你将看到一个包含三个单选按钮的窗口，当你点击不同的按钮时，下方的标签会更新显示你当前的选择。

## 使用单选按钮的案例

### 案例一：性别选择表单

```java
import javax.swing.*;
import java.awt.*;
import java.awt.event.*;

public class GenderSelectionForm {
    public static void main(String[] args) {
        JFrame frame = new JFrame("用户注册");
        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        frame.setSize(300, 150);
        frame.setLayout(new GridLayout(3, 1));
        
        // 创建面板
        JPanel genderPanel = new JPanel();
        genderPanel.setBorder(BorderFactory.createTitledBorder("性别"));
        
        // 创建单选按钮
        JRadioButton maleButton = new JRadioButton("男");
        JRadioButton femaleButton = new JRadioButton("女");
        JRadioButton otherButton = new JRadioButton("其他");
        
        // 创建按钮组
        ButtonGroup genderGroup = new ButtonGroup();
        genderGroup.add(maleButton);
        genderGroup.add(femaleButton);
        genderGroup.add(otherButton);
        
        // 添加到面板
        genderPanel.add(maleButton);
        genderPanel.add(femaleButton);
        genderPanel.add(otherButton);
        
        // 创建提交按钮
        JButton submitButton = new JButton("提交");
        
        // 添加提交按钮的动作监听器
        submitButton.addActionListener(new ActionListener() {
            public void actionPerformed(ActionEvent e) {
                String gender = "";
                if (maleButton.isSelected()) {
                    gender = "男";
                } else if (femaleButton.isSelected()) {
                    gender = "女";
                } else if (otherButton.isSelected()) {
                    gender = "其他";
                } else {
                    gender = "未选择";
                }
                
                JOptionPane.showMessageDialog(frame, 
                    "您选择的性别是: " + gender, 
                    "提交结果", 
                    JOptionPane.INFORMATION_MESSAGE);
            }
        });
        
        // 添加组件到窗口
        frame.add(new JLabel("  请选择您的性别:"));
        frame.add(genderPanel);
        frame.add(submitButton);
        
        // 显示窗口
        frame.setVisible(true);
    }
}
```

### 案例二：问卷选择题

```java
import javax.swing.*;
import java.awt.*;
import java.awt.event.*;

public class QuizQuestion {
    public static void main(String[] args) {
        JFrame frame = new JFrame("Java知识问卷");
        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        frame.setSize(400, 300);
        frame.setLayout(new BorderLayout());
        
        // 创建问题面板
        JPanel questionPanel = new JPanel();
        questionPanel.setLayout(new GridLayout(5, 1));
        questionPanel.setBorder(BorderFactory.createEmptyBorder(10, 10, 10, 10));
        
        // 添加问题标签
        questionPanel.add(new JLabel("问题：Java中用于创建单选按钮的类是？"));
        
        // 创建选项按钮
        JRadioButton option1 = new JRadioButton("A. JButton");
        JRadioButton option2 = new JRadioButton("B. JCheckBox");
        JRadioButton option3 = new JRadioButton("C. JRadioButton");
        JRadioButton option4 = new JRadioButton("D. JToggleButton");
        
        // 创建按钮组
        ButtonGroup optionsGroup = new ButtonGroup();
        optionsGroup.add(option1);
        optionsGroup.add(option2);
        optionsGroup.add(option3);
        optionsGroup.add(option4);
        
        // 添加选项到面板
        questionPanel.add(option1);
        questionPanel.add(option2);
        questionPanel.add(option3);
        questionPanel.add(option4);
        
        // 创建提交按钮
        JButton submitButton = new JButton("提交答案");
        
        // 添加提交按钮的动作监听器
        submitButton.addActionListener(new ActionListener() {
            public void actionPerformed(ActionEvent e) {
                String message;
                if (option3.isSelected()) {
                    message = "恭喜你答对了！";
                } else {
                    message = "回答错误，正确答案是：C. JRadioButton";
                }
                
                JOptionPane.showMessageDialog(frame, 
                    message, 
                    "答题结果", 
                    JOptionPane.INFORMATION_MESSAGE);
            }
        });
        
        // 添加组件到窗口
        frame.add(questionPanel, BorderLayout.CENTER);
        frame.add(submitButton, BorderLayout.SOUTH);
        
        // 显示窗口
        frame.setVisible(true);
    }
}
```

## 获取选中的单选按钮

在实际应用中，我们经常需要获取用户选择的单选按钮。有几种方法可以实现：

### 方法一：遍历检查每个按钮

```java
JRadioButton selectedRadioButton = null;

if (radioButton1.isSelected()) {
    selectedRadioButton = radioButton1;
} else if (radioButton2.isSelected()) {
    selectedRadioButton = radioButton2;
} else if (radioButton3.isSelected()) {
    selectedRadioButton = radioButton3;
}

if (selectedRadioButton != null) {
    System.out.println("选中的选项是: " + selectedRadioButton.getText());
}
```

### 方法二：使用动作监听器

```java
JRadioButton[] radioButtons = {radioButton1, radioButton2, radioButton3};
final JRadioButton[] selectedButton = {radioButton1}; // 默认选中第一个

for (JRadioButton rb : radioButtons) {
    rb.addActionListener(new ActionListener() {
        public void actionPerformed(ActionEvent e) {
            selectedButton[0] = (JRadioButton) e.getSource();
            System.out.println("当前选择: " + selectedButton[0].getText());
        }
    });
}
```

## 单选按钮的自定义

你可以自定义单选按钮的外观：

```java
// 更改单选按钮的字体
radioButton.setFont(new Font("宋体", Font.BOLD, 14));

// 更改前景色和背景色
radioButton.setForeground(Color.BLUE);
radioButton.setBackground(Color.LIGHT_GRAY);

// 添加工具提示
radioButton.setToolTipText("这是一个提示");

// 设置键盘助记符（通过Alt+M快捷键选择）
radioButton.setMnemonic('M');

// 设置图标
ImageIcon icon = new ImageIcon("path/to/icon.png");
radioButton.setIcon(icon);
```

## 总结

在本教程中，我们学习了：

1. `JRadioButton` 的基本概念和使用
2. 如何使用 `ButtonGroup` 实现单选功能
3. 创建并处理单选按钮的事件
4. 在实际场景中应用单选按钮
5. 获取用户选择的方法
6. 自定义单选按钮的外观

单选按钮是GUI编程中不可或缺的组件，它为用户提供了清晰的互斥选择，尤其适用于需要用户在有限选项中进行单选的场景。结合ButtonGroup和适当的事件处理，可以创建直观且用户友好的表单界面。

## 练习题

1. 创建一个包含三个单选按钮的应用程序，分别代表"初级"、"中级"和"高级"难度设置，当用户选择不同难度时，更改窗口的背景颜色（初级为绿色，中级为黄色，高级为红色）。

2. 创建一个简单的调查问卷，包含至少两个问题，每个问题都有多个单选按钮选项。最后添加一个"提交"按钮，点击后显示用户的所有选择。

3. 实现一个简单的单选题测验系统，系统随机从问题库中选择问题，每道题显示4个选项，答题完成后显示得分。

## 更多资源

- [Oracle Java Swing 教程 - 如何使用按钮、复选框和单选按钮](https://docs.oracle.com/javase/tutorial/uiswing/components/button.html)
- [JRadioButton Java文档](https://docs.oracle.com/javase/8/docs/api/javax/swing/JRadioButton.html)
- [ButtonGroup Java文档](https://docs.oracle.com/javase/8/docs/api/javax/swing/ButtonGroup.html)

继续学习和实践，掌握好单选按钮的使用将让你的Java GUI应用程序更加专业和用户友好！