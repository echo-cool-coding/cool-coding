---
title: Debian Docker 安装配置
description: 本指南将详细介绍如何在 Debian 系统上安装和配置 Docker，帮助初学者快速上手容器化技术。
---

## 介绍

Docker 是一种开源的容器化平台，允许开发者将应用程序及其依赖项打包到一个轻量级、可移植的容器中。通过 Docker，您可以在不同的环境中快速部署和运行应用程序，而无需担心环境差异带来的问题。Debian 是一个流行的 Linux 发行版，本文将指导您在 Debian 系统上安装和配置 Docker。

## 安装 Docker

### 1. 更新系统包

在安装 Docker 之前，首先确保您的 Debian 系统是最新的。打开终端并运行以下命令：

```bash
sudo apt update
sudo apt upgrade -y
```

### 2. 安装依赖包

Docker 需要一些依赖包才能正常运行。运行以下命令来安装这些依赖包：

```bash
sudo apt install -y apt-transport-https ca-certificates curl gnupg lsb-release
```

### 3. 添加 Docker 官方 GPG 密钥

为了确保从 Docker 官方源下载的软件包是安全的，我们需要添加 Docker 的 GPG 密钥：

```bash
curl -fsSL https://download.docker.com/linux/debian/gpg | sudo gpg --dearmor -o /usr/share/keyrings/docker-archive-keyring.gpg
```

### 4. 添加 Docker 源

接下来，将 Docker 的官方源添加到您的系统中：

```bash
echo "deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/debian $(lsb_release -cs) stable" | sudo tee /etc/apt/sources.list.d/docker.list > /dev/null
```

### 5. 安装 Docker 引擎

现在，您可以安装 Docker 引擎了：

```bash
sudo apt update
sudo apt install -y docker-ce docker-ce-cli containerd.io
```

### 6. 启动并启用 Docker 服务

安装完成后，启动 Docker 服务并设置为开机自启：

```bash
sudo systemctl start docker
sudo systemctl enable docker
```

### 7. 验证安装

为了确保 Docker 已正确安装，您可以运行以下命令来验证：

```bash
sudo docker --version
```

输出应类似于：

```
Docker version 20.10.12, build e91ed57
```

## 配置 Docker

### 1. 管理 Docker 作为非 root 用户

默认情况下，Docker 需要 root 权限才能运行。为了避免每次使用 Docker 时都需要 `sudo`，您可以将当前用户添加到 `docker` 组：

```bash
sudo usermod -aG docker $USER
```

然后，注销并重新登录以使更改生效。

### 2. 配置 Docker 镜像加速器

如果您在中国大陆，可能会遇到 Docker 镜像下载速度慢的问题。您可以通过配置镜像加速器来解决这个问题。编辑或创建 `/etc/docker/daemon.json` 文件，并添加以下内容：

```json
{
  "registry-mirrors": ["https://<your-mirror-url>"]
}
```

然后，重启 Docker 服务：

```bash
sudo systemctl restart docker
```

## 实际案例

### 运行一个简单的 Nginx 容器

让我们通过一个简单的例子来展示如何使用 Docker 运行一个 Nginx 容器：

```bash
docker run -d -p 8080:80 --name my-nginx nginx
```

此命令将在后台运行一个 Nginx 容器，并将容器的 80 端口映射到主机的 8080 端口。您可以通过访问 `http://localhost:8080` 来查看 Nginx 的欢迎页面。

### 停止并删除容器

要停止并删除刚刚运行的 Nginx 容器，可以使用以下命令：

```bash
docker stop my-nginx
docker rm my-nginx
```

## 总结

通过本指南，您已经成功在 Debian 系统上安装并配置了 Docker。您现在可以开始使用 Docker 来运行和管理容器化的应用程序。Docker 的强大之处在于它的可移植性和一致性，使得开发和部署变得更加高效。

## 附加资源

- [Docker 官方文档](https://docs.docker.com/)
- [Docker Hub](https://hub.docker.com/)
- [Debian 官方文档](https://www.debian.org/doc/)

## 练习

1. 尝试使用 Docker 运行一个 MySQL 容器，并将其端口映射到主机的 3306 端口。
2. 创建一个自定义的 Docker 镜像，并在其中安装一个简单的 Python 应用程序。
3. 探索 Docker Compose，并尝试使用它来管理多个容器的部署。

:::tip
如果您在安装或配置过程中遇到任何问题，请参考 Docker 官方文档或社区论坛，那里有许多有用的资源和解决方案。
:::