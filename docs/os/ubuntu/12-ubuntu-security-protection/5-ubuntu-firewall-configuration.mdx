---
title: Ubuntu 防火墙配置
description: 学习如何在Ubuntu中配置防火墙，保护您的系统免受未经授权的访问。
---

# Ubuntu 防火墙配置

防火墙是保护计算机系统免受未经授权访问的重要工具。在Ubuntu中，`ufw`（Uncomplicated Firewall）是一个简单易用的防火墙管理工具，特别适合初学者。本文将逐步介绍如何在Ubuntu中配置防火墙，并提供实际案例帮助您理解其应用。

## 什么是防火墙？

防火墙是一种网络安全系统，用于监控和控制传入和传出的网络流量。它根据预定义的安全规则决定允许或阻止特定的流量。通过配置防火墙，您可以保护系统免受恶意攻击和未经授权的访问。

## 安装 `ufw`

在大多数Ubuntu系统中，`ufw`已经预装。如果没有，您可以通过以下命令安装：

```bash
sudo apt update
sudo apt install ufw
```

## 启用和禁用防火墙

### 启用防火墙

要启用防火墙，请运行以下命令：

```bash
sudo ufw enable
```

启用后，防火墙将开始根据默认规则过滤流量。

### 禁用防火墙

如果您需要暂时禁用防火墙，可以使用以下命令：

```bash
sudo ufw disable
```

:::caution
禁用防火墙会使您的系统暴露在潜在的网络威胁中，请谨慎操作。
:::

## 配置防火墙规则

### 允许特定端口

假设您正在运行一个Web服务器，需要允许HTTP（端口80）和HTTPS（端口443）流量。您可以使用以下命令：

```bash
sudo ufw allow 80/tcp
sudo ufw allow 443/tcp
```

### 允许特定IP地址

如果您希望允许特定IP地址访问所有端口，可以使用以下命令：

```bash
sudo ufw allow from 192.168.1.100
```

### 拒绝特定端口

如果您希望阻止特定端口的流量，可以使用以下命令：

```bash
sudo ufw deny 22/tcp
```

这将阻止SSH（端口22）的流量。

### 删除规则

如果您需要删除一条规则，可以使用以下命令：

```bash
sudo ufw delete allow 80/tcp
```

## 查看防火墙状态

要查看当前防火墙的状态和规则，可以使用以下命令：

```bash
sudo ufw status
```

输出示例：

```plaintext
Status: active

To                         Action      From
--                         ------      ----
80/tcp                     ALLOW       Anywhere
443/tcp                    ALLOW       Anywhere
22/tcp                     DENY        Anywhere
```

## 实际案例

### 案例1：保护Web服务器

假设您正在运行一个Web服务器，需要允许HTTP和HTTPS流量，同时阻止SSH流量。您可以按照以下步骤配置防火墙：

1. 允许HTTP和HTTPS流量：

   ```bash
   sudo ufw allow 80/tcp
   sudo ufw allow 443/tcp
   ```

2. 阻止SSH流量：

   ```bash
   sudo ufw deny 22/tcp
   ```

3. 启用防火墙：

   ```bash
   sudo ufw enable
   ```

### 案例2：限制访问特定IP

假设您希望只允许特定IP地址访问您的服务器，可以按照以下步骤配置：

1. 允许特定IP地址：

   ```bash
   sudo ufw allow from 192.168.1.100
   ```

2. 阻止其他所有流量：

   ```bash
   sudo ufw deny from any
   ```

3. 启用防火墙：

   ```bash
   sudo ufw enable
   ```

## 总结

通过本文，您已经学习了如何在Ubuntu中配置防火墙，包括启用和禁用防火墙、配置规则以及查看防火墙状态。防火墙是保护系统安全的重要工具，合理配置可以有效防止未经授权的访问。

## 附加资源

- [Ubuntu官方文档 - UFW](https://help.ubuntu.com/community/UFW)
- [UFW手册页](https://manpages.ubuntu.com/manpages/focal/man8/ufw.8.html)

## 练习

1. 启用防火墙并允许SSH（端口22）流量。
2. 配置防火墙，只允许特定IP地址访问您的服务器。
3. 查看当前防火墙状态，并删除一条不再需要的规则。

通过完成这些练习，您将更深入地理解Ubuntu防火墙的配置和管理。