---
title: Ubuntu 服务器安全
description: 了解如何保护您的Ubuntu服务器免受常见安全威胁，包括用户管理、防火墙配置、SSH安全等。
---

# Ubuntu 服务器安全

在当今的互联网环境中，服务器安全至关重要。无论是托管网站、运行应用程序还是存储数据，确保服务器的安全性都是首要任务。本文将引导您逐步了解如何保护您的Ubuntu服务器，使其免受常见的安全威胁。

## 1. 用户管理

### 1.1 创建新用户

默认情况下，Ubuntu服务器安装后会创建一个具有管理员权限的用户。为了提高安全性，建议创建一个新的用户并禁用默认的root用户。

```bash
sudo adduser newuser
```

### 1.2 授予管理员权限

将新用户添加到 `sudo` 组，以便其可以执行管理员任务。

```bash
sudo usermod -aG sudo newuser
```

### 1.3 禁用root登录

编辑SSH配置文件以禁用root登录。

```bash
sudo nano /etc/ssh/sshd_config
```

找到以下行并将其更改为 `no`：

```plaintext
PermitRootLogin no
```

保存并退出，然后重启SSH服务：

```bash
sudo systemctl restart sshd
```

## 2. 防火墙配置

### 2.1 安装UFW

Ubuntu提供了一个简单的防火墙管理工具 `UFW`（Uncomplicated Firewall）。

```bash
sudo apt install ufw
```

### 2.2 启用UFW

启用防火墙并允许SSH连接。

```bash
sudo ufw allow ssh
sudo ufw enable
```

### 2.3 检查防火墙状态

```bash
sudo ufw status
```

输出示例：

```plaintext
Status: active

To                         Action      From
--                         ------      ----
22/tcp                     ALLOW       Anywhere
22/tcp (v6)                ALLOW       Anywhere (v6)
```

## 3. SSH安全

### 3.1 更改SSH端口

默认的SSH端口是22，更改端口可以减少自动化攻击的风险。

编辑SSH配置文件：

```bash
sudo nano /etc/ssh/sshd_config
```

找到以下行并更改端口号：

```plaintext
Port 2222
```

保存并退出，然后重启SSH服务：

```bash
sudo systemctl restart sshd
```

### 3.2 使用SSH密钥认证

SSH密钥比密码更安全。生成SSH密钥对：

```bash
ssh-keygen -t rsa -b 4096
```

将公钥复制到服务器：

```bash
ssh-copy-id -i ~/.ssh/id_rsa.pub newuser@your_server_ip
```

禁用密码认证：

```bash
sudo nano /etc/ssh/sshd_config
```

找到以下行并将其更改为 `no`：

```plaintext
PasswordAuthentication no
```

保存并退出，然后重启SSH服务：

```bash
sudo systemctl restart sshd
```

## 4. 定期更新系统

保持系统更新是确保安全的重要步骤。

```bash
sudo apt update
sudo apt upgrade
```

## 5. 实际案例

假设您正在运行一个托管网站的Ubuntu服务器。通过上述步骤，您可以：

1. 创建一个新的管理员用户并禁用root登录，减少潜在的攻击面。
2. 配置防火墙以仅允许必要的端口（如HTTP/HTTPS和SSH）。
3. 更改SSH端口并使用SSH密钥认证，防止暴力破解攻击。
4. 定期更新系统，修复已知漏洞。

## 6. 总结

通过本文，您已经了解了如何保护Ubuntu服务器免受常见的安全威胁。从用户管理到防火墙配置，再到SSH安全，每一步都至关重要。定期更新系统和监控日志也是确保服务器安全的重要措施。

## 7. 附加资源

- [Ubuntu官方文档](https://ubuntu.com/server/docs)
- [UFW官方指南](https://help.ubuntu.com/community/UFW)
- [SSH密钥管理指南](https://www.ssh.com/ssh/key/)

## 8. 练习

1. 创建一个新的用户并授予其管理员权限。
2. 配置UFW以允许HTTP和HTTPS流量，并启用防火墙。
3. 更改SSH端口并使用SSH密钥认证登录服务器。

通过完成这些练习，您将更好地理解如何保护您的Ubuntu服务器。