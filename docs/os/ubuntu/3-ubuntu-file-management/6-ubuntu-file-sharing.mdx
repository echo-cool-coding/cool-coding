---
title: Ubuntu 文件共享
description: 学习如何在Ubuntu系统中实现文件共享，包括Samba和NFS的基本配置和使用方法。
---

# Ubuntu 文件共享

在Ubuntu系统中，文件共享是一个非常重要的功能，它允许你在不同的设备之间共享文件和文件夹。无论是家庭网络中的文件共享，还是企业环境中的协作，Ubuntu都提供了多种工具和方法来实现这一目标。本文将介绍两种常见的文件共享方式：Samba和NFS。

## 1. Samba文件共享

Samba是一个开源软件套件，它允许Linux系统与Windows系统之间进行文件和打印共享。通过Samba，你可以在Ubuntu上创建一个共享文件夹，并允许Windows用户访问。

### 1.1 安装Samba

首先，你需要在Ubuntu上安装Samba软件包。打开终端并运行以下命令：

```bash
sudo apt update
sudo apt install samba
```

### 1.2 配置Samba

安装完成后，你需要配置Samba以共享文件夹。编辑Samba的配置文件 `/etc/samba/smb.conf`：

```bash
sudo nano /etc/samba/smb.conf
```

在文件的末尾添加以下内容来创建一个共享文件夹：

```ini
[shared]
   path = /home/username/shared
   browseable = yes
   writable = yes
   valid users = username
```

- `[shared]` 是共享文件夹的名称。
- `path` 是共享文件夹的路径。
- `browseable` 设置为 `yes` 表示该文件夹在网络中可见。
- `writable` 设置为 `yes` 表示用户可以写入该文件夹。
- `valid users` 指定可以访问该共享文件夹的用户。

保存并退出编辑器。

### 1.3 添加Samba用户

接下来，你需要为Samba添加一个用户。运行以下命令：

```bash
sudo smbpasswd -a username
```

将 `username` 替换为你的Ubuntu用户名。系统会提示你输入密码，这个密码将用于访问共享文件夹。

### 1.4 重启Samba服务

最后，重启Samba服务以使配置生效：

```bash
sudo systemctl restart smbd
```

### 1.5 访问共享文件夹

现在，你可以在Windows或其他Linux设备上访问这个共享文件夹。在Windows中，打开文件资源管理器，输入 `\\Ubuntu_IP\shared`，然后输入用户名和密码即可访问。

## 2. NFS文件共享

NFS（Network File System）是一种用于在Linux/Unix系统之间共享文件的协议。与Samba不同，NFS主要用于Linux/Unix系统之间的文件共享。

### 2.1 安装NFS服务器

首先，你需要在Ubuntu上安装NFS服务器软件包：

```bash
sudo apt update
sudo apt install nfs-kernel-server
```

### 2.2 配置NFS共享

编辑NFS的配置文件 `/etc/exports`：

```bash
sudo nano /etc/exports
```

在文件中添加以下内容来共享一个文件夹：

```bash
/home/username/shared *(rw,sync,no_subtree_check)
```

- `/home/username/shared` 是你要共享的文件夹路径。
- `*` 表示允许所有客户端访问。
- `rw` 表示允许读写。
- `sync` 表示同步写入。
- `no_subtree_check` 禁用子树检查。

保存并退出编辑器。

### 2.3 重启NFS服务

重启NFS服务以使配置生效：

```bash
sudo systemctl restart nfs-kernel-server
```

### 2.4 在客户端挂载NFS共享

在另一台Linux设备上，你可以使用以下命令挂载NFS共享：

```bash
sudo mount -t nfs Ubuntu_IP:/home/username/shared /mnt/shared
```

将 `Ubuntu_IP` 替换为你的Ubuntu服务器的IP地址，`/mnt/shared` 是挂载点。

### 2.5 自动挂载NFS共享

如果你希望每次启动时自动挂载NFS共享，可以编辑 `/etc/fstab` 文件：

```bash
sudo nano /etc/fstab
```

添加以下内容：

```bash
Ubuntu_IP:/home/username/shared /mnt/shared nfs defaults 0 0
```

保存并退出编辑器。

## 3. 实际应用场景

### 3.1 家庭网络中的文件共享

在家庭网络中，你可以使用Samba在Ubuntu和Windows设备之间共享照片、视频和文档。这样，家庭成员可以轻松访问和共享文件。

### 3.2 企业环境中的协作

在企业环境中，NFS可以用于在多个Linux服务器之间共享项目文件。开发团队可以在不同的服务器上访问和编辑相同的文件，从而提高协作效率。

## 4. 总结

通过本文，你学习了如何在Ubuntu系统中使用Samba和NFS实现文件共享。Samba适用于Linux与Windows之间的文件共享，而NFS则更适合Linux/Unix系统之间的文件共享。无论是家庭网络还是企业环境，文件共享都是一个非常有用的功能。

## 5. 附加资源与练习

- **练习1**：尝试在Ubuntu上配置一个Samba共享文件夹，并从Windows设备访问它。
- **练习2**：在两台Linux设备之间配置NFS共享，并测试文件的读写操作。
- **附加资源**：
  - [Samba官方文档](https://www.samba.org/samba/docs/)
  - [NFS官方文档](https://linux.die.net/man/5/exports)

希望本文对你理解和使用Ubuntu文件共享有所帮助！如果你有任何问题或需要进一步的帮助，请随时查阅相关文档或社区资源。