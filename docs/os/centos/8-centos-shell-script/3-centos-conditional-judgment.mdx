---
title: CentOS 条件判断
description: 学习如何在CentOS Shell脚本中使用条件判断来控制程序流程。本文适合初学者，包含基础语法、代码示例和实际应用场景。
---

# CentOS 条件判断

在编写Shell脚本时，条件判断是一个非常重要的概念。它允许我们根据某些条件来决定程序的执行路径。在CentOS中，Shell脚本通常使用Bash作为解释器，因此我们将重点介绍Bash中的条件判断语法。

## 什么是条件判断？

条件判断是一种编程结构，它允许程序根据某些条件的真假来决定执行哪一部分代码。在Shell脚本中，条件判断通常使用 `if`、`elif` 和 `else` 语句来实现。

### 基本语法

Bash中的条件判断语法如下：

```bash
if [ condition ]; then
    # 条件为真时执行的代码
elif [ another_condition ]; then
    # 另一个条件为真时执行的代码
else
    # 所有条件都为假时执行的代码
fi
```

### 条件表达式

在Bash中，条件表达式通常使用 `[ ]` 或 `[[ ]]` 来包裹。以下是一些常用的条件表达式：

- **字符串比较**：
  - `[ "$a" = "$b" ]`：判断两个字符串是否相等。
  - `[ "$a" != "$b" ]`：判断两个字符串是否不相等。
  - `[ -z "$a" ]`：判断字符串是否为空。
  - `[ -n "$a" ]`：判断字符串是否非空。

- **数值比较**：
  - `[ "$a" -eq "$b" ]`：判断两个数值是否相等。
  - `[ "$a" -ne "$b" ]`：判断两个数值是否不相等。
  - `[ "$a" -gt "$b" ]`：判断 `$a` 是否大于 `$b`。
  - `[ "$a" -lt "$b" ]`：判断 `$a` 是否小于 `$b`。

- **文件测试**：
  - `[ -f "$file" ]`：判断文件是否存在且为普通文件。
  - `[ -d "$file" ]`：判断文件是否存在且为目录。
  - `[ -r "$file" ]`：判断文件是否可读。
  - `[ -w "$file" ]`：判断文件是否可写。
  - `[ -x "$file" ]`：判断文件是否可执行。

## 代码示例

以下是一个简单的Shell脚本示例，展示了如何使用条件判断：

```bash
#!/bin/bash

# 定义一个变量
age=18

# 使用条件判断
if [ "$age" -lt 18 ]; then
    echo "You are a minor."
elif [ "$age" -eq 18 ]; then
    echo "You just became an adult!"
else
    echo "You are an adult."
fi
```

### 输入与输出

假设我们将上述脚本保存为 `check_age.sh`，并执行它：

```bash
$ bash check_age.sh
```

输出将会是：

```
You just became an adult!
```

## 实际应用场景

### 场景1：检查文件是否存在

在编写脚本时，我们经常需要检查某个文件是否存在。以下是一个示例：

```bash
#!/bin/bash

file="/path/to/your/file.txt"

if [ -f "$file" ]; then
    echo "File exists."
else
    echo "File does not exist."
fi
```

### 场景2：根据用户输入执行不同操作

我们可以根据用户的输入来执行不同的操作。以下是一个示例：

```bash
#!/bin/bash

echo "Enter your choice (1 or 2):"
read choice

if [ "$choice" -eq 1 ]; then
    echo "You chose option 1."
elif [ "$choice" -eq 2 ]; then
    echo "You chose option 2."
else
    echo "Invalid choice."
fi
```

## 总结

条件判断是Shell脚本编程中的核心概念之一。通过使用 `if`、`elif` 和 `else` 语句，我们可以根据不同的条件来控制程序的执行路径。本文介绍了条件判断的基本语法、常用条件表达式以及实际应用场景。

:::tip
在实际编写脚本时，建议使用 `[[ ]]` 而不是 `[ ]`，因为 `[[ ]]` 提供了更多的功能，并且更安全。
:::

## 附加资源与练习

- **练习1**：编写一个脚本，检查用户输入的数值是否为正数、负数或零。
- **练习2**：编写一个脚本，检查某个目录是否存在，如果存在则列出目录中的文件，否则创建该目录。

通过不断练习，你将更加熟练地掌握条件判断的使用。祝你学习愉快！