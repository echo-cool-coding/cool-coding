---
title: CentOS 脚本执行方式
description: 学习如何在CentOS中执行Shell脚本，掌握多种执行方式及其适用场景。
---

# CentOS 脚本执行方式

在CentOS中，Shell脚本是一种强大的工具，可以帮助你自动化任务、管理系统配置以及执行复杂的操作。本文将详细介绍如何在CentOS中执行Shell脚本，并探讨不同的执行方式及其适用场景。

## 什么是Shell脚本？

Shell脚本是一种包含一系列Shell命令的文本文件，通常以 `.sh` 为扩展名。这些脚本可以通过Shell解释器（如Bash）来执行，从而实现自动化任务。

## 如何执行Shell脚本

在CentOS中，有多种方式可以执行Shell脚本。以下是几种常见的方法：

### 1. 使用 `bash` 命令执行脚本

最简单的方式是使用 `bash` 命令来执行脚本。假设你有一个名为 `script.sh` 的脚本文件，你可以通过以下命令来执行它：

```bash
bash script.sh
```

**示例：**

```bash
# script.sh
echo "Hello, World!"
```

**输出：**

```
Hello, World!
```

### 2. 使用 `./` 执行脚本

如果你希望直接运行脚本文件，而不是通过 `bash` 命令，你需要确保脚本文件具有可执行权限。你可以使用 `chmod` 命令来添加执行权限：

```bash
chmod +x script.sh
```

然后，你可以通过以下方式执行脚本：

```bash
./script.sh
```

**示例：**

```bash
# script.sh
echo "Hello, World!"
```

**输出：**

```
Hello, World!
```

### 3. 使用 `source` 命令执行脚本

`source` 命令（或 `.` 命令）用于在当前Shell环境中执行脚本。这意味着脚本中的变量和函数将在当前Shell中生效，而不是在子Shell中。

```bash
source script.sh
```

或者

```bash
. script.sh
```

**示例：**

```bash
# script.sh
export MY_VAR="Hello, World!"
```

**在当前Shell中执行：**

```bash
source script.sh
echo $MY_VAR
```

**输出：**

```
Hello, World!
```

### 4. 使用 `sh` 命令执行脚本

`sh` 是Bourne Shell的缩写，通常指向Bash。你可以使用 `sh` 命令来执行脚本：

```bash
sh script.sh
```

**示例：**

```bash
# script.sh
echo "Hello, World!"
```

**输出：**

```
Hello, World!
```

## 实际应用场景

### 场景1：自动化系统备份

假设你需要定期备份系统中的重要文件，可以编写一个Shell脚本来实现这一任务：

```bash
# backup.sh
tar -czf /backup/backup_$(date +%Y%m%d).tar.gz /important_files
```

然后，你可以通过 `cron` 定时任务来定期执行这个脚本：

```bash
0 2 * * * /path/to/backup.sh
```

### 场景2：批量处理文件

如果你需要批量重命名或处理文件，可以使用Shell脚本来实现：

```bash
# rename_files.sh
for file in *.txt; do
  mv "$file" "new_$file"
done
```

然后，你可以通过以下命令来执行脚本：

```bash
bash rename_files.sh
```

## 总结

在CentOS中，执行Shell脚本有多种方式，每种方式都有其适用场景。通过本文的学习，你应该能够根据不同的需求选择合适的执行方式，并能够在实际工作中应用这些知识。

## 附加资源与练习

- **练习1**：编写一个Shell脚本，输出当前系统的日期和时间，并使用不同的执行方式来运行它。
- **练习2**：编写一个Shell脚本，批量将当前目录下的所有 `.log` 文件移动到 `logs` 目录中，并设置定时任务每天凌晨执行。

通过不断练习和实践，你将更加熟练地掌握Shell脚本的执行方式，并能够在实际工作中灵活运用。