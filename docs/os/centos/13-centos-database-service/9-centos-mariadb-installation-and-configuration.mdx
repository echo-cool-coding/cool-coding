---
title: CentOS MariaDB 安装配置
description: 本教程将指导初学者在 CentOS 系统上安装和配置 MariaDB 数据库服务，并提供实际案例和代码示例。
---

# CentOS MariaDB 安装配置

MariaDB 是一个流行的开源关系型数据库管理系统（RDBMS），它是 MySQL 的一个分支。MariaDB 提供了高性能、高可靠性和丰富的功能，适用于各种规模的应用程序。在本教程中，我们将学习如何在 CentOS 系统上安装和配置 MariaDB，并通过实际案例展示其应用。

## 1. 安装 MariaDB

首先，我们需要在 CentOS 系统上安装 MariaDB。以下是安装步骤：

1. **更新系统包**：在安装 MariaDB 之前，建议先更新系统包以确保所有软件包都是最新的。

   ```bash
   sudo yum update -y
   ```

2. **安装 MariaDB**：使用以下命令安装 MariaDB 服务器和客户端。

   ```bash
   sudo yum install mariadb-server mariadb -y
   ```

3. **启动 MariaDB 服务**：安装完成后，启动 MariaDB 服务并设置为开机自启。

   ```bash
   sudo systemctl start mariadb
   sudo systemctl enable mariadb
   ```

4. **验证安装**：通过以下命令检查 MariaDB 服务是否正在运行。

   ```bash
   sudo systemctl status mariadb
   ```

   如果服务正在运行，您将看到类似以下的输出：

   ```
   ● mariadb.service - MariaDB database server
      Loaded: loaded (/usr/lib/systemd/system/mariadb.service; enabled; vendor preset: disabled)
      Active: active (running) since ...
   ```

## 2. 配置 MariaDB

安装完成后，我们需要对 MariaDB 进行一些基本配置。

1. **运行安全脚本**：MariaDB 提供了一个安全脚本，用于设置 root 密码、移除匿名用户、禁止远程 root 登录等。

   ```bash
   sudo mysql_secure_installation
   ```

   按照提示完成配置。例如：

   - 设置 root 密码
   - 移除匿名用户
   - 禁止远程 root 登录
   - 移除测试数据库
   - 重新加载权限表

2. **登录 MariaDB**：使用 root 用户登录 MariaDB。

   ```bash
   mysql -u root -p
   ```

   输入之前设置的 root 密码，您将进入 MariaDB 命令行界面。

## 3. 创建数据库和用户

接下来，我们将创建一个新的数据库和用户，并授予用户对该数据库的访问权限。

1. **创建数据库**：在 MariaDB 中创建一个名为 `mydatabase` 的数据库。

   ```sql
   CREATE DATABASE mydatabase;
   ```

2. **创建用户**：创建一个名为 `myuser` 的用户，并设置密码。

   ```sql
   CREATE USER 'myuser'@'localhost' IDENTIFIED BY 'mypassword';
   ```

3. **授予权限**：授予 `myuser` 用户对 `mydatabase` 数据库的所有权限。

   ```sql
   GRANT ALL PRIVILEGES ON mydatabase.* TO 'myuser'@'localhost';
   FLUSH PRIVILEGES;
   ```

4. **退出 MariaDB**：输入以下命令退出 MariaDB 命令行界面。

   ```sql
   EXIT;
   ```

## 4. 实际案例：使用 MariaDB 存储数据

假设我们正在开发一个简单的博客系统，我们需要存储用户信息和博客文章。以下是创建相关表的 SQL 语句：

1. **创建用户表**：

   ```sql
   CREATE TABLE users (
       id INT AUTO_INCREMENT PRIMARY KEY,
       username VARCHAR(50) NOT NULL,
       email VARCHAR(100) NOT NULL,
       password VARCHAR(255) NOT NULL
   );
   ```

2. **创建文章表**：

   ```sql
   CREATE TABLE posts (
       id INT AUTO_INCREMENT PRIMARY KEY,
       title VARCHAR(255) NOT NULL,
       content TEXT NOT NULL,
       user_id INT,
       FOREIGN KEY (user_id) REFERENCES users(id)
   );
   ```

3. **插入数据**：向 `users` 表和 `posts` 表中插入一些示例数据。

   ```sql
   INSERT INTO users (username, email, password) VALUES ('alice', 'alice@example.com', 'password123');
   INSERT INTO posts (title, content, user_id) VALUES ('First Post', 'This is the content of the first post.', 1);
   ```

4. **查询数据**：查询所有博客文章及其作者。

   ```sql
   SELECT posts.title, posts.content, users.username
   FROM posts
   JOIN users ON posts.user_id = users.id;
   ```

## 5. 总结

在本教程中，我们学习了如何在 CentOS 系统上安装和配置 MariaDB，并创建了一个简单的数据库和用户。我们还通过一个实际案例展示了如何使用 MariaDB 存储和查询数据。MariaDB 是一个功能强大且易于使用的数据库管理系统，适用于各种应用程序。

## 6. 附加资源

- [MariaDB 官方文档](https://mariadb.com/kb/en/documentation/)
- [MySQL 教程](https://dev.mysql.com/doc/refman/8.0/en/tutorial.html)
- [SQL 基础教程](https://www.w3schools.com/sql/)

## 7. 练习

1. 尝试在 MariaDB 中创建一个新的数据库和用户，并授予用户对数据库的读写权限。
2. 设计一个简单的电子商务数据库，包括 `products`、`orders` 和 `customers` 表，并插入一些示例数据。
3. 使用 SQL 查询语句从 `orders` 表中检索所有订单及其对应的客户信息。

通过完成这些练习，您将更深入地理解 MariaDB 的使用方法，并能够将其应用到实际项目中。