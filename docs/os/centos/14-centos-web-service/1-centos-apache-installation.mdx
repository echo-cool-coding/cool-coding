---
title: CentOS Apache 安装
description: 本教程将指导初学者如何在 CentOS 系统上安装和配置 Apache Web 服务器，并展示其实际应用场景。
---

# CentOS Apache 安装

Apache 是一个开源的、跨平台的 Web 服务器软件，广泛用于托管网站和 Web 应用程序。在 CentOS 上安装 Apache 是搭建 Web 服务的第一步。本教程将逐步指导你完成安装和基本配置。

## 1. 安装 Apache

首先，确保你的 CentOS 系统已更新到最新版本。打开终端并运行以下命令：

```bash
sudo yum update -y
```

接下来，安装 Apache：

```bash
sudo yum install httpd -y
```

安装完成后，启动 Apache 服务并设置为开机自启：

```bash
sudo systemctl start httpd
sudo systemctl enable httpd
```

:::tip
你可以使用以下命令检查 Apache 服务的状态：

```bash
sudo systemctl status httpd
```

如果服务正常运行，你将看到类似 `active (running)` 的状态信息。
:::

## 2. 配置防火墙

为了允许外部访问 Apache Web 服务器，你需要配置防火墙以允许 HTTP（端口 80）和 HTTPS（端口 443）流量。

运行以下命令：

```bash
sudo firewall-cmd --permanent --add-service=http
sudo firewall-cmd --permanent --add-service=https
sudo firewall-cmd --reload
```

:::caution
如果你没有配置防火墙，外部用户将无法访问你的 Web 服务器。
:::

## 3. 测试 Apache

安装完成后，打开浏览器并访问服务器的 IP 地址或域名。你应该会看到 Apache 的默认欢迎页面。

例如，如果你的服务器 IP 是 `192.168.1.100`，则在浏览器中输入：

```
http://192.168.1.100
```

如果一切正常，你将看到以下页面：

```
Welcome to CentOS!
```

## 4. 配置虚拟主机

虚拟主机允许你在同一台服务器上托管多个网站。以下是配置虚拟主机的步骤。

### 4.1 创建网站目录

首先，为你的网站创建一个目录：

```bash
sudo mkdir -p /var/www/example.com/html
```

设置目录权限：

```bash
sudo chown -R $USER:$USER /var/www/example.com/html
sudo chmod -R 755 /var/www/example.com
```

### 4.2 创建示例页面

在网站目录中创建一个简单的 HTML 文件：

```bash
nano /var/www/example.com/html/index.html
```

添加以下内容：

```html
<html>
  <head>
    <title>Welcome to Example.com!</title>
  </head>
  <body>
    <h1>Success! The example.com virtual host is working!</h1>
  </body>
</html>
```

保存并退出编辑器。

### 4.3 创建虚拟主机配置文件

创建一个新的虚拟主机配置文件：

```bash
sudo nano /etc/httpd/conf.d/example.com.conf
```

添加以下内容：

```apache
<VirtualHost *:80>
    ServerAdmin webmaster@example.com
    DocumentRoot /var/www/example.com/html
    ServerName example.com
    ServerAlias www.example.com
    ErrorLog /var/log/httpd/example.com-error.log
    CustomLog /var/log/httpd/example.com-access.log combined
</VirtualHost>
```

保存并退出编辑器。

### 4.4 重启 Apache

最后，重启 Apache 以应用更改：

```bash
sudo systemctl restart httpd
```

现在，你可以通过访问 `http://example.com` 来查看你的网站。

## 5. 实际应用场景

假设你正在开发一个简单的博客网站。你可以使用 Apache 托管该网站，并通过虚拟主机配置来管理多个博客。例如：

- `blog1.example.com` 托管个人博客。
- `blog2.example.com` 托管技术博客。

通过 Apache 的虚拟主机功能，你可以轻松地在同一台服务器上管理多个网站。

## 6. 总结

在本教程中，我们学习了如何在 CentOS 上安装和配置 Apache Web 服务器。我们还探讨了如何配置虚拟主机以托管多个网站。Apache 是一个功能强大且灵活的 Web 服务器，适合初学者和高级用户。

## 7. 附加资源

- [Apache 官方文档](https://httpd.apache.org/docs/)
- [CentOS 官方文档](https://www.centos.org/docs/)
- [Linux 防火墙配置指南](https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/7/html/security_guide/sec-using_firewalls)

## 8. 练习

1. 在你的 CentOS 服务器上安装 Apache，并配置一个简单的虚拟主机。
2. 尝试为你的虚拟主机添加 SSL 证书，以启用 HTTPS。
3. 探索 Apache 的其他功能，如 URL 重写和访问控制。

通过完成这些练习，你将更深入地理解 Apache 的功能和配置方法。