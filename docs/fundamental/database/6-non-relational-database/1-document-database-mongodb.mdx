---
title: 文档数据库(MongoDB)
description: 了解文档数据库的基本概念，学习如何使用 MongoDB 存储和查询文档数据，并通过实际案例掌握其应用场景。
---

# 文档数据库(MongoDB)

## 什么是文档数据库？

文档数据库是一种非关系型数据库（NoSQL），它以文档的形式存储数据。与关系型数据库中的表格不同，文档数据库使用类似于 JSON 或 BSON 的格式来存储数据。每个文档可以包含嵌套的结构，这使得它非常适合存储复杂的数据。

MongoDB 是最流行的文档数据库之一。它使用 BSON（Binary JSON）格式存储数据，支持丰富的查询语言和高性能的读写操作。

## 为什么选择 MongoDB？

MongoDB 具有以下优势：
- **灵活的数据模型**：文档可以包含嵌套结构，适合存储复杂的数据。
- **高性能**：支持水平扩展，能够处理大规模数据和高并发请求。
- **丰富的查询语言**：支持复杂的查询操作，包括聚合、索引和地理空间查询。
- **易于使用**：提供直观的 API 和工具，适合初学者和高级用户。

## MongoDB 的基本概念

### 1. 文档（Document）
文档是 MongoDB 中的基本数据单元，类似于 JSON 对象。它由键值对组成，值可以是字符串、数字、数组、嵌套文档等。

```json
{
  "name": "Alice",
  "age": 25,
  "address": {
    "city": "New York",
    "zip": "10001"
  },
  "hobbies": ["reading", "traveling"]
}
```

### 2. 集合（Collection）
集合是一组文档的容器，类似于关系型数据库中的表。集合中的文档可以有不同的结构。

### 3. 数据库（Database）
数据库是集合的容器。一个 MongoDB 实例可以包含多个数据库。

## 安装 MongoDB

在开始使用 MongoDB 之前，您需要安装它。以下是安装步骤：

1. 访问 [MongoDB 官网](https://www.mongodb.com/try/download/community) 下载适合您操作系统的版本。
2. 按照安装向导完成安装。
3. 启动 MongoDB 服务。

## 使用 MongoDB

### 连接到 MongoDB

使用 MongoDB Shell 或编程语言（如 Python、Node.js）连接到 MongoDB。

```bash
mongo
```

### 创建数据库和集合

```javascript
use mydb
db.createCollection("users")
```

### 插入文档

```javascript
db.users.insertOne({
  name: "Alice",
  age: 25,
  address: {
    city: "New York",
    zip: "10001"
  },
  hobbies: ["reading", "traveling"]
})
```

### 查询文档

```javascript
db.users.find({ name: "Alice" })
```

### 更新文档

```javascript
db.users.updateOne(
  { name: "Alice" },
  { $set: { age: 26 } }
)
```

### 删除文档

```javascript
db.users.deleteOne({ name: "Alice" })
```

## 实际案例：用户管理系统

假设我们要构建一个简单的用户管理系统，存储用户的基本信息和爱好。

### 1. 创建用户集合

```javascript
use userdb
db.createCollection("users")
```

### 2. 插入用户数据

```javascript
db.users.insertMany([
  {
    name: "Alice",
    age: 25,
    address: {
      city: "New York",
      zip: "10001"
    },
    hobbies: ["reading", "traveling"]
  },
  {
    name: "Bob",
    age: 30,
    address: {
      city: "San Francisco",
      zip: "94105"
    },
    hobbies: ["coding", "gaming"]
  }
])
```

### 3. 查询用户数据

```javascript
db.users.find({ "address.city": "New York" })
```

### 4. 更新用户数据

```javascript
db.users.updateOne(
  { name: "Alice" },
  { $set: { age: 26 } }
)
```

### 5. 删除用户数据

```javascript
db.users.deleteOne({ name: "Bob" })
```

## 总结

MongoDB 是一种强大的文档数据库，适合存储复杂的数据结构。通过本文，您已经学习了 MongoDB 的基本概念、安装方法以及如何使用它进行数据操作。希望这些知识能帮助您在项目中更好地使用 MongoDB。

## 附加资源

- [MongoDB 官方文档](https://docs.mongodb.com/)
- [MongoDB University](https://university.mongodb.com/)
- [MongoDB 社区论坛](https://community.mongodb.com/)

## 练习

1. 创建一个新的数据库和集合，插入一些文档并尝试查询。
2. 尝试使用 MongoDB 的聚合功能对数据进行分组和统计。
3. 探索 MongoDB 的地理空间查询功能，尝试查询附近的地点。

:::tip
如果您在学习过程中遇到问题，可以访问 MongoDB 的官方文档或社区论坛获取帮助。
:::