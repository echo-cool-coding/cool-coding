---
title: SQL条件查询
description: 学习如何使用SQL条件查询从数据库中筛选出符合特定条件的数据。本文适合初学者，包含基础语法、实际案例和练习。
---

# SQL条件查询

SQL（Structured Query Language）是一种用于管理和操作关系型数据库的标准语言。在SQL中，条件查询是最常用的操作之一，它允许我们从数据库中筛选出符合特定条件的数据。本文将详细介绍SQL条件查询的基础语法、实际应用场景以及一些常见的注意事项。

## 什么是条件查询？

条件查询是指在SQL语句中使用 `WHERE` 子句来指定筛选条件，从而从数据库表中获取满足这些条件的记录。`WHERE` 子句可以与 `SELECT`、`UPDATE`、`DELETE` 等语句一起使用，以过滤出符合条件的数据。

### 基础语法

```sql
SELECT 列名1, 列名2, ...
FROM 表名
WHERE 条件;
```

- `SELECT`：用于选择要查询的列。
- `FROM`：指定要查询的表。
- `WHERE`：用于指定筛选条件。

### 示例

假设我们有一个名为 `employees` 的表，其中包含以下数据：

| id  | name   | age | department |
|-----|--------|-----|------------|
| 1   | Alice  | 30  | HR         |
| 2   | Bob    | 25  | IT         |
| 3   | Charlie| 35  | Finance    |
| 4   | David  | 28  | IT         |

如果我们想查询所有年龄大于30岁的员工，可以使用以下SQL语句：

```sql
SELECT name, age, department
FROM employees
WHERE age > 30;
```

**输出结果：**

| name   | age | department |
|--------|-----|------------|
| Charlie| 35  | Finance    |

## 常见的条件运算符

在 `WHERE` 子句中，我们可以使用多种条件运算符来指定筛选条件。以下是一些常见的运算符：

- **比较运算符**：
  - `=`：等于
  - `>`：大于
  - `<`：小于
  - `>=`：大于等于
  - `<=`：小于等于
  - `<>` 或 `!=`：不等于

- **逻辑运算符**：
  - `AND`：与
  - `OR`：或
  - `NOT`：非

- **范围查询**：
  - `BETWEEN ... AND ...`：在某个范围内
  - `IN (...)`：在某个集合中

- **模糊查询**：
  - `LIKE`：用于模式匹配
  - `%`：匹配任意字符序列
  - `_`：匹配单个字符

### 示例：使用逻辑运算符

假设我们想查询所有年龄大于25岁且在IT部门工作的员工，可以使用以下SQL语句：

```sql
SELECT name, age, department
FROM employees
WHERE age > 25 AND department = 'IT';
```

**输出结果：**

| name | age | department |
|------|-----|------------|
| Bob  | 25  | IT         |
| David| 28  | IT         |

### 示例：使用 `BETWEEN` 和 `IN`

如果我们想查询年龄在25到30岁之间的员工，可以使用 `BETWEEN`：

```sql
SELECT name, age, department
FROM employees
WHERE age BETWEEN 25 AND 30;
```

**输出结果：**

| name | age | department |
|------|-----|------------|
| Alice| 30  | HR         |
| Bob  | 25  | IT         |
| David| 28  | IT         |

如果我们想查询在HR或Finance部门工作的员工，可以使用 `IN`：

```sql
SELECT name, age, department
FROM employees
WHERE department IN ('HR', 'Finance');
```

**输出结果：**

| name   | age | department |
|--------|-----|------------|
| Alice  | 30  | HR         |
| Charlie| 35  | Finance    |

### 示例：使用 `LIKE` 进行模糊查询

假设我们想查询名字以 "A" 开头的员工，可以使用 `LIKE`：

```sql
SELECT name, age, department
FROM employees
WHERE name LIKE 'A%';
```

**输出结果：**

| name  | age | department |
|-------|-----|------------|
| Alice | 30  | HR         |

## 实际应用场景

### 场景1：筛选特定时间段的订单

假设我们有一个 `orders` 表，其中包含订单的日期信息。我们可以使用条件查询来筛选出某个时间段的订单：

```sql
SELECT order_id, order_date, total_amount
FROM orders
WHERE order_date BETWEEN '2023-01-01' AND '2023-01-31';
```

### 场景2：查找特定产品的库存

假设我们有一个 `products` 表，其中包含产品的库存信息。我们可以使用条件查询来查找库存量低于某个阈值的产品：

```sql
SELECT product_name, stock_quantity
FROM products
WHERE stock_quantity < 10;
```

## 总结

SQL条件查询是数据库操作中非常重要的一部分，它允许我们根据特定条件筛选出所需的数据。通过使用 `WHERE` 子句和各种条件运算符，我们可以灵活地查询数据库中的数据。掌握这些基础语法和常见运算符，将为你进一步学习SQL打下坚实的基础。

## 附加资源与练习

- **练习1**：编写一个SQL查询，找出 `employees` 表中年龄小于30岁且不在IT部门工作的员工。
- **练习2**：编写一个SQL查询，找出 `orders` 表中总金额大于1000的订单。
- **练习3**：编写一个SQL查询，找出 `products` 表中产品名称包含 "Apple" 的产品。

:::tip
建议在学习过程中多动手实践，尝试编写不同的SQL查询语句，以加深对条件查询的理解。
:::