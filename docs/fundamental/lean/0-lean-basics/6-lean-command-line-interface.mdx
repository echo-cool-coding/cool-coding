---
title: Lean 命令行界面
description: 了解Lean命令行界面的基本用法，掌握如何通过命令行与Lean交互，提升编程效率。
---

# Lean 命令行界面

Lean是一个功能强大的定理证明器和编程语言，广泛用于数学证明和形式化验证。除了在编辑器中使用Lean外，命令行界面（CLI）也是一个非常重要的工具。通过命令行，你可以更高效地编译、运行和管理Lean项目。本文将带你逐步了解Lean命令行界面的基本用法。

## 什么是Lean命令行界面？

Lean命令行界面是一个通过终端（Terminal）与Lean交互的工具。它允许你执行各种操作，例如编译Lean文件、运行Lean代码、检查类型、以及管理依赖项等。对于初学者来说，掌握命令行界面可以帮助你更好地理解Lean的工作流程，并为后续的深入学习打下基础。

## 安装Lean命令行工具

在开始使用Lean命令行界面之前，你需要确保已经安装了Lean的命令行工具。如果你已经安装了Lean，通常命令行工具也会一并安装。你可以通过以下命令检查是否已安装：

```bash
lean --version
```

如果输出了Lean的版本号，说明命令行工具已经安装成功。如果没有，请参考Lean的官方文档进行安装。

## 基本命令

### 编译Lean文件

Lean命令行界面最常见的用途之一是编译Lean文件。假设你有一个名为 `example.lean` 的文件，你可以使用以下命令进行编译：

```bash
lean example.lean
```

如果文件没有错误，Lean会成功编译并输出结果。如果有错误，Lean会显示详细的错误信息，帮助你调试代码。

### 运行Lean代码

除了编译，你还可以直接运行Lean代码。使用 `lean --run` 命令可以执行Lean文件中的代码：

```bash
lean --run example.lean
```

这个命令会执行文件中的 `main` 函数（如果存在），并输出结果。

### 检查类型

Lean是一个强类型语言，类型检查是其核心功能之一。你可以使用命令行工具来检查表达式的类型。例如：

```bash
lean --type "2 + 2"
```

这个命令会输出 `2 + 2` 的类型，通常是 `Nat`（自然数类型）。

## 实际案例

### 案例1：编译并运行一个简单的Lean程序

假设你有一个简单的Lean程序，文件名为 `hello.lean`，内容如下：

```lean
def main : IO Unit :=
  IO.println "Hello, Lean CLI!"
```

你可以通过以下步骤编译并运行这个程序：

1. 编译文件：

   ```bash
   lean hello.lean
   ```

2. 运行程序：

   ```bash
   lean --run hello.lean
   ```

   输出结果为：

   ```
   Hello, Lean CLI!
   ```

### 案例2：检查复杂表达式的类型

假设你想检查一个复杂表达式的类型，例如 `List.map (fun x => x + 1) [1, 2, 3]`。你可以使用以下命令：

```bash
lean --type "List.map (fun x => x + 1) [1, 2, 3]"
```

输出结果为：

```
List Nat
```

这表示该表达式的结果是一个包含自然数的列表。

## 总结

Lean命令行界面是一个强大的工具，能够帮助你更高效地编译、运行和管理Lean项目。通过本文的介绍，你应该已经掌握了Lean命令行界面的基本用法，包括编译文件、运行代码和检查类型等操作。

:::tip
建议你多尝试使用命令行工具，熟悉各种命令的用法。这将为你在Lean中的进一步学习打下坚实的基础。
:::

## 附加资源

- [Lean官方文档](https://leanprover.github.io/documentation/)
- [Lean GitHub仓库](https://github.com/leanprover/lean4)

## 练习

1. 编写一个Lean程序，输出你的名字，并使用命令行工具编译和运行它。
2. 使用 `lean --type` 命令检查以下表达式的类型：
   - `List.reverse [1, 2, 3]`
   - `fun x => x * x`
3. 尝试在命令行中使用 `lean --help` 查看所有可用的命令和选项。
