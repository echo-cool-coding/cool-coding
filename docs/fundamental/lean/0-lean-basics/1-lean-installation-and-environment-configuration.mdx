---
title: Lean 安装与环境配置
description: 本指南将帮助初学者完成Lean的安装与环境配置，确保您能够顺利开始学习和使用Lean编程语言。
---

# Lean 安装与环境配置

Lean是一种功能强大的交互式定理证明器和编程语言，广泛应用于数学证明和形式化验证。为了开始使用Lean，您需要正确安装并配置开发环境。本指南将逐步引导您完成这一过程。

## 1. 安装Lean

### 1.1 安装依赖项

在安装Lean之前，您需要确保系统上安装了以下依赖项：

- **Git**：用于版本控制和获取Lean的最新版本。
- **Python 3**：用于运行Lean的包管理工具。

您可以通过以下命令检查是否已安装这些工具：

```bash
git --version
python3 --version
```

如果未安装，请根据您的操作系统安装这些工具。

### 1.2 安装Lean

Lean可以通过其包管理工具`elan`进行安装。`elan`是一个用于管理Lean版本的工具，类似于`rustup`对于Rust的作用。

运行以下命令安装`elan`：

```bash
curl --proto '=https' --tlsv1.2 -sSf https://leanprover.github.io/elan/init.sh -sSf | sh
```

安装完成后，重新启动终端或运行以下命令使更改生效：

```bash
source ~/.bashrc  # 或者 ~/.zshrc，取决于您的shell
```

### 1.3 验证安装

安装完成后，您可以通过以下命令验证Lean是否安装成功：

```bash
lean --version
```

如果安装成功，您将看到Lean的版本信息。

## 2. 配置开发环境

### 2.1 安装Visual Studio Code

Visual Studio Code（简称VS Code）是Lean的推荐开发环境。您可以从[VS Code官网](https://code.visualstudio.com/)下载并安装。

### 2.2 安装Lean扩展

在VS Code中，您需要安装Lean扩展以支持Lean语言的开发。打开VS Code，按下`Ctrl+Shift+X`打开扩展市场，搜索并安装`Lean`扩展。

### 2.3 配置Lean扩展

安装完成后，VS Code会自动检测Lean的安装路径。如果未检测到，您可以在设置中手动配置Lean的路径。

## 3. 创建第一个Lean项目

### 3.1 初始化项目

使用以下命令创建一个新的Lean项目：

```bash
mkdir my_lean_project
cd my_lean_project
leanpkg init
```

这将创建一个新的Lean项目，并生成一个`leanpkg.toml`文件，用于管理项目的依赖项。

### 3.2 编写第一个Lean文件

在项目目录中创建一个新的Lean文件，例如`Main.lean`，并编写以下代码：

```lean
def hello := "Hello, Lean!"
#eval hello
```

### 3.3 运行Lean文件

在VS Code中打开`Main.lean`文件，按下`Ctrl+Shift+P`并选择`Lean: Restart Server`以启动Lean服务器。然后，您可以在文件中看到`#eval hello`的输出结果。

## 4. 实际应用场景

### 4.1 数学证明

Lean广泛应用于数学证明。以下是一个简单的例子，证明`1 + 1 = 2`：

```lean
theorem one_plus_one : 1 + 1 = 2 :=
begin
  refl
end
```

### 4.2 形式化验证

Lean还可以用于形式化验证，确保程序的正确性。例如，验证一个简单的加法函数：

```lean
def add (a b : ℕ) : ℕ := a + b

#eval add 2 3  -- 输出 5
```

## 5. 总结

通过本指南，您已经成功安装了Lean并配置了开发环境。您现在可以开始编写和运行Lean代码，探索其强大的数学证明和形式化验证功能。

## 6. 附加资源与练习

- **Lean官方文档**：[Lean Prover](https://leanprover.github.io/)
- **Lean社区论坛**：[Lean Zulip](https://leanprover.zulipchat.com/)
- **练习**：尝试编写一个Lean函数，计算斐波那契数列的前10项。

:::tip
如果您在安装或配置过程中遇到问题，请参考Lean官方文档或社区论坛获取帮助。
:::