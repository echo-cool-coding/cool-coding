---
title: Lean 数论基础
description: 本文介绍了Lean编程语言中的数论基础，帮助初学者理解如何在Lean中处理数论问题，并提供实际案例和代码示例。
---

# Lean 数论基础

## 介绍

数论是数学的一个分支，主要研究整数的性质及其相互关系。在Lean中，数论的基础概念可以通过类型论和证明助手的功能来实现。Lean不仅是一个编程语言，还是一个强大的数学证明工具，特别适合处理数论中的定理和问题。

本文将逐步介绍如何在Lean中使用数论的基础概念，包括素数、最大公约数、同余等，并通过实际案例展示这些概念的应用。

## 基本概念

### 素数

素数是大于1的自然数，且只能被1和它本身整除。在Lean中，我们可以定义一个素数如下：

```lean
def is_prime (n : ℕ) : Prop :=
  n > 1 ∧ ∀ m : ℕ, m ∣ n → m = 1 ∨ m = n
```

这里，`is_prime` 是一个谓词，表示一个自然数 `n` 是否是素数。`m ∣ n` 表示 `m` 整除 `n`。

### 最大公约数

最大公约数（GCD）是两个或多个整数共有约数中最大的一个。在Lean中，我们可以使用 `nat.gcd` 函数来计算两个数的最大公约数：

```lean
#eval nat.gcd 12 18  -- 输出: 6
```

### 同余

同余是数论中的一个重要概念，表示两个整数除以同一个数后余数相同。在Lean中，我们可以使用 `≡` 符号来表示同余关系：

```lean
example : 17 ≡ 5 [MOD 6] :=
begin
  rw nat.modeq_iff_dvd,
  norm_num,
end
```

## 实际案例

### 费马小定理

费马小定理是数论中的一个重要定理，它指出如果 `p` 是一个素数，且 `a` 不是 `p` 的倍数，那么 `a^(p-1) ≡ 1 [MOD p]`。在Lean中，我们可以证明这个定理：

```lean
theorem fermat_little_theorem (p : ℕ) (hp : is_prime p) (a : ℤ) (ha : ¬ p ∣ a) :
  a^(p-1) ≡ 1 [MOD p] :=
begin
  -- 证明过程省略
end
```

### 欧几里得算法

欧几里得算法是计算两个数最大公约数的高效方法。在Lean中，我们可以实现这个算法：

```lean
def euclidean_gcd (a b : ℕ) : ℕ :=
  if b = 0 then a else euclidean_gcd b (a % b)

#eval euclidean_gcd 12 18  -- 输出: 6
```

## 总结

本文介绍了Lean中数论的基础概念，包括素数、最大公约数和同余，并通过实际案例展示了这些概念的应用。Lean作为一个强大的数学证明工具，特别适合处理数论中的定理和问题。

## 附加资源

- [Lean官方文档](https://leanprover.github.io/documentation/)
- 《数论导引》——哈代
- 《初等数论》——潘承洞

## 练习

1. 在Lean中实现一个函数，判断一个数是否为素数。
2. 使用欧几里得算法计算两个数的最大公约数，并证明其正确性。
3. 证明费马小定理的一个特例，例如 `p = 5` 和 `a = 2`。

通过完成这些练习，你将更深入地理解Lean中的数论基础，并能够应用这些知识解决实际问题。