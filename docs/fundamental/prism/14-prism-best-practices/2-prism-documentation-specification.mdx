---
title: PRISM 文档编写规范
description: 学习如何为PRISM模型编写清晰、规范的文档，提升模型可读性和团队协作效率的最佳实践指南。
---

# PRISM 文档编写规范

## 引言

在PRISM概率模型检查器的使用过程中，良好的文档编写规范是保证模型可维护性和团队协作效率的关键。本文将介绍如何为PRISM模型（`.prism`文件）编写结构化、易读的文档，包括注释规范、模块化设计和版本控制等实践。

## 基础注释规范

### 1. 文件头注释
每个PRISM文件开头应包含元信息注释块：

```prism
// =============================================
// Model: 无线传感器网络能耗分析
// Author: 张三
// Date:   2023-10-15
// Version: 1.0
// Description: 分析不同休眠策略下的能耗分布
// =============================================
```

### 2. 模块注释
为每个模块添加功能说明：

```prism
/**
 * 传感器节点模块
 * 状态: 
 *   - sleep: 低功耗休眠状态
 *   - active: 数据采集/传输状态
 * 转换条件:
 *   - 定时唤醒 (sleep → active)
 *   - 能量耗尽 (active → dead)
 */
module SensorNode
    // 状态定义
    state : [0..2] init 0; // 0=sleep, 1=active, 2=dead
    ...
endmodule
```

### 3. 行内注释
对复杂逻辑添加右侧注释：

```prism
[] state=0 -> 0.7:(state'=1) + 0.3:(state'=0); // 70%概率唤醒，30%保持休眠
```

:::tip 注释原则
- 使用`//`进行单行注释
- 使用`/** */`进行多行文档注释
- 避免无意义的重复注释
:::

## 结构化编码规范

### 1. 模块组织
推荐按以下顺序组织PRISM文件：

1. 常量定义
2. 全局变量
3. 公式定义
4. 模块定义
5. 奖励结构
6. 属性规范

```prism
// 1. 常量
const int MAX_ENERGY = 100;

// 2. 全局变量
global energy : [0..MAX_ENERGY];

// 3. 公式
formula is_critical = (energy < 10);

// 4. 模块
module Node
    // ...
endmodule

// 5. 奖励
rewards "energy_consumption"
    [action] true : 0.5;
endrewards

// 6. 属性
P>=0.95 [ F<=100 energy=0 ]
```

### 2. 命名约定

| 元素类型       | 命名风格       | 示例              |
|----------------|----------------|-------------------|
| 模块           | PascalCase     | `SensorNetwork`   |
| 变量           | snake_case     | `battery_level`   |
| 常量           | UPPER_SNAKE    | `MAX_RETRY`       |
| 公式           | camelCase      | `isCriticalMode`  |

## 版本控制集成

### 1. 变更日志
在文件中维护变更记录：

```prism
/* CHANGELOG:
 * v1.1 (2023-11-01)
 * - 新增能量耗尽状态
 * - 修正转移概率计算错误
 */
```

### 2. Git集成建议
`.gitignore`推荐配置：

```
# PRISM 临时文件
*.tra
*.sta
*.lab
```

## 实际案例：传感器网络模型

```prism
// =============================================
// Model: 无线传感器网络
// Description: 分析节点协作时的网络生命周期
// =============================================

const int N = 3;  // 节点数量
const double FAIL_RATE = 0.01; // 传输失败率

/**
 * 网络协调器模块
 * 管理节点间通信调度
 */
module Coordinator
    nodes_active : [0..N] init N;
    
    // 节点故障处理
    [fail] nodes_active > 0 -> (nodes_active' = nodes_active-1);
endmodule

// 节点模块模板
module NodeTemplate = Node[i:1..N]
    state : [0..2] init 0; // 0=休眠, 1=活跃, 2=故障
    ...
endmodule

// 网络存活属性
P>=0.9 [ F<=1000 nodes_active=0 ]
```

## 总结与练习

### 关键要点
- 使用标准化的注释结构提高可读性
- 遵循一致的代码组织原则
- 采用描述性命名约定
- 集成版本控制最佳实践

### 练习建议
1. 为现有PRISM模型添加完整文档注释
2. 重构一个复杂模型为模块化结构
3. 使用Git管理模型的不同版本

### 扩展阅读
- PRISM官方文档的"Modeling Tips"章节
- IEEE标准830-1998软件需求规范指南
- 《Clean Code》中关于代码注释的章节