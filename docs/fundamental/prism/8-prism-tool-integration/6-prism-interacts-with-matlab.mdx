---
title: PRISM 与MATLAB交互
description: 学习如何将PRISM概率模型检查器与MATLAB集成，实现模型分析自动化与数据可视化。
---

## 引言

PRISM是一个用于建模和分析概率系统的工具，而MATLAB以其强大的数值计算和可视化能力著称。将两者结合，可以充分发挥PRISM的模型检查能力和MATLAB的数据处理优势。本章将介绍如何通过PRISM的MATLAB接口实现交互，包括模型执行、结果传递和可视化分析。

---

## PRISM -MATLAB接口配置

### 环境准备
1. **安装PRISM**：确保PRISM已正确安装并添加到系统路径。
2. **MATLAB配置**：在MATLAB中设置PRISM路径：
   ```matlab
   addpath('/path/to/prism/matlab');
   ```
   :::note
   路径需替换为本地PRISM的`matlab`文件夹路径（例如`C:\prism\matlab`）。
   :::

### 验证连接
执行以下命令测试接口是否正常：
```matlab
prism
```
若输出PRISM版本信息，则配置成功。

---

## 核心功能与代码示例

### 1. 加载PRISM模型
通过MATLAB直接加载PRISM模型文件（`.prism`或`.pm`）：
```matlab
model = prism.Model('path/to/model.pm');
```

### 2. 执行模型检查
使用`model.check`方法验证属性（如`P=? [F "success"]`）：
```matlab
result = model.check('P=? [F "success"]');
disp(result);
```
**输出示例**：
```
0.875
```

### 3. 参数化分析示例
结合MATLAB循环实现多参数扫描：
```matlab
probabilities = [];
for p = 0.1:0.1:0.9
    model.setParameters({'p'}, [p]);  % 设置参数p
    probabilities(end+1) = model.check('P=? [F "success"]');
end
plot(0.1:0.1:0.9, probabilities);
```

---

## 实际案例：通信协议可靠性分析

### 场景描述
分析一个无线通信协议在丢包率（`p_loss`）变化下的成功传输概率。

### 实现步骤
1. **定义PRISM模型**（`protocol.pm`）：
   ```prism
   const double p_loss;
   module Sender
     // ...模型定义...
   endmodule
   ```

2. **MATLAB脚本**：
   ```matlab
   model = prism.Model('protocol.pm');
   p_values = 0:0.05:1;
   results = zeros(size(p_values));
   
   for i = 1:length(p_values)
       model.setParameters({'p_loss'}, p_values(i));
       results(i) = model.check('P=? [F "transmission_success"]');
   end
   
   plot(p_values, results);
   xlabel('Packet Loss Probability');
   ylabel('Success Rate');
   ```

### 输出结果
```mermaid
graph LR
    A[PRISM模型] --> B[MATLAB参数设置]
    B --> C[概率验证]
    C --> D[可视化曲线]
```

---

## 总结与扩展

### 关键点回顾
- PRISM-MATLAB接口支持模型加载、属性验证和参数扫描。
- 结合MATLAB可实现自动化分析和高级可视化。

### 练习建议
1. 尝试修改案例中的`p_loss`范围，观察曲线变化。
2. 使用MATLAB的`surf`函数绘制二维参数（如`p_loss`和`delay`）对结果的影响。

### 附加资源
- PRISM官方文档：[MATLAB Interface章节](https://prismmodelchecker.org/)
- MATLAB帮助文档：`addpath`和`plot`函数用法。