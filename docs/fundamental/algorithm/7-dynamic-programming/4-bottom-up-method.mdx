---
title: 自底向上法
description: 了解动态规划中的自底向上法，掌握其核心思想、实现步骤以及实际应用场景。
---

# 自底向上法

动态规划（Dynamic Programming, DP）是一种解决复杂问题的有效方法，它将问题分解为更小的子问题，并通过存储子问题的解来避免重复计算。自底向上法（Bottom-Up Approach）是动态规划的一种实现方式，它从最简单的子问题开始，逐步构建出最终的解。

## 什么是自底向上法？

自底向上法是一种迭代的动态规划方法。与自顶向下法（Top-Down Approach，通常通过递归实现）不同，自底向上法从最基本的子问题开始，逐步解决更复杂的问题，直到解决原始问题。这种方法通常使用数组或表格来存储子问题的解，从而避免重复计算。

### 自底向上法的核心思想

1. **定义子问题**：将原问题分解为若干个子问题。
2. **解决子问题**：从最简单的子问题开始，逐步解决更复杂的子问题。
3. **存储子问题的解**：将子问题的解存储在表格中，以便后续使用。
4. **构建最终解**：通过组合子问题的解，得到原问题的解。

## 自底向上法的实现步骤

以下是一个典型的自底向上法的实现步骤：

1. **定义状态**：明确子问题的定义，通常用一个数组或表格来表示状态。
2. **初始化**：为最简单的子问题设置初始值。
3. **递推关系**：找到子问题之间的关系，通常是一个递推公式。
4. **迭代求解**：从最简单的子问题开始，逐步求解更复杂的子问题。
5. **返回结果**：最终的结果通常存储在状态数组的最后一个位置。

### 示例：斐波那契数列

斐波那契数列是一个经典的动态规划问题。我们可以使用自底向上法来计算第 `n` 个斐波那契数。

```python
def fibonacci(n):
    if n <= 1:
        return n
    
    # 初始化状态数组
    dp = [0] * (n + 1)
    dp[0] = 0
    dp[1] = 1
    
    # 自底向上计算
    for i in range(2, n + 1):
        dp[i] = dp[i - 1] + dp[i - 2]
    
    return dp[n]
```

**输入**：`n = 5`  
**输出**：`5`

在这个例子中，我们从 `dp[0]` 和 `dp[1]` 开始，逐步计算 `dp[2]` 到 `dp[5]`，最终得到第 5 个斐波那契数。

## 实际应用场景

自底向上法在许多实际问题中都有应用，例如：

1. **背包问题**：在给定容量和物品重量、价值的情况下，如何选择物品以最大化总价值。
2. **最短路径问题**：在图中找到从一个节点到另一个节点的最短路径。
3. **矩阵链乘法**：在矩阵乘法中，如何安排乘法顺序以最小化计算量。

### 案例：零钱兑换问题

假设你有不同面额的硬币和一个总金额，编写一个函数来计算可以凑成总金额的最少硬币数。如果没有任何一种硬币组合能组成总金额，返回 `-1`。

```python
def coinChange(coins, amount):
    # 初始化 dp 数组，大小为 amount + 1，初始值为无穷大
    dp = [float('inf')] * (amount + 1)
    dp[0] = 0  # 金额为 0 时，需要的硬币数为 0
    
    # 自底向上计算
    for coin in coins:
        for i in range(coin, amount + 1):
            dp[i] = min(dp[i], dp[i - coin] + 1)
    
    # 如果 dp[amount] 仍然是无穷大，说明无法凑成总金额
    return dp[amount] if dp[amount] != float('inf') else -1
```

**输入**：`coins = [1, 2, 5]`, `amount = 11`  
**输出**：`3`  
**解释**：11 = 5 + 5 + 1

在这个例子中，我们从金额 `0` 开始，逐步计算到 `amount`，最终得到凑成 `11` 所需的最少硬币数。

## 总结

自底向上法是动态规划中的一种重要方法，它通过从最简单的子问题开始，逐步构建出最终的解。这种方法避免了递归带来的额外开销，并且通常更容易理解和实现。

### 附加资源与练习

1. **练习**：尝试使用自底向上法解决以下问题：
   - 爬楼梯问题：假设你正在爬楼梯，每次你可以爬 1 或 2 个台阶。你有多少种不同的方法可以爬到第 `n` 阶？
   - 最长递增子序列：给定一个整数数组，找到其中最长的严格递增子序列的长度。

2. **进一步学习**：
   - 阅读更多关于动态规划的经典问题，如背包问题、最长公共子序列等。
   - 尝试将自底向上法与自顶向下法进行比较，理解它们的优缺点。

通过不断练习和探索，你将能够更好地掌握自底向上法，并将其应用于更复杂的问题中。