---
title: Seata File 注册中心
description: 了解 Seata File 注册中心的基本概念、配置方法及其在实际应用中的使用场景。
---

# Seata File 注册中心

## 介绍

Seata 是一个开源的分布式事务解决方案，旨在简化微服务架构中的事务管理。Seata 提供了多种注册中心（Registry）来管理服务发现和配置，其中 **File 注册中心** 是一种基于本地文件的简单实现。它适用于开发环境或小型项目，无需依赖外部服务（如 Nacos、Eureka 等）。

本文将详细介绍 Seata File 注册中心的工作原理、配置方法以及实际应用场景。

---

## File 注册中心的工作原理

File 注册中心通过读取本地文件来存储和获取服务的注册信息。它的核心特点包括：

1. **本地存储**：所有服务信息存储在本地文件中，文件格式通常为 JSON 或 Properties。
2. **简单易用**：无需额外依赖，适合开发和测试环境。
3. **局限性**：由于依赖本地文件，不适合分布式环境或生产环境。

---

## 配置 File 注册中心

### 1. 修改 Seata 配置文件

在 Seata 的配置文件 `registry.conf` 中，将注册中心类型设置为 `file`，并指定文件路径：

```properties
registry {
  type = "file"
  file {
    name = "file.conf"
  }
}
```

### 2. 创建注册文件

在项目根目录下创建 `file.conf` 文件，并添加服务注册信息。例如：

```json
{
  "service": {
    "default": {
      "grouplist": "127.0.0.1:8091",
      "vgroupMapping": {
        "my_test_tx_group": "default"
      }
    }
  }
}
```

### 3. 启动 Seata Server

启动 Seata Server 时，Seata 会自动读取 `file.conf` 文件中的配置信息。

---

## 实际案例

### 场景描述

假设我们有一个简单的微服务架构，包含两个服务：订单服务（Order Service）和库存服务（Stock Service）。我们需要使用 Seata 管理分布式事务，并在本地开发环境中使用 File 注册中心。

### 配置步骤

1. **配置 Seata Server**  
   修改 `registry.conf` 文件，设置注册中心类型为 `file`，并指定 `file.conf` 文件路径。

2. **配置微服务**  
   在每个微服务的配置文件中，添加 Seata 的相关配置：

   ```properties
   seata.tx-service-group=my_test_tx_group
   seata.service.vgroup-mapping.my_test_tx_group=default
   ```

3. **启动服务**  
   启动 Seata Server 和微服务，Seata 会从 `file.conf` 文件中读取服务注册信息。

---

## 总结

Seata File 注册中心是一种简单易用的本地注册中心实现，适合开发和测试环境。它的配置简单，无需依赖外部服务，但在生产环境中建议使用更强大的注册中心（如 Nacos、Eureka 等）。

通过本文的学习，您应该能够：

- 理解 File 注册中心的工作原理。
- 配置 Seata 使用 File 注册中心。
- 在实际项目中应用 File 注册中心。

---

## 附加资源与练习

### 资源
- [Seata 官方文档](https://seata.io/zh-cn/docs/overview/what-is-seata.html)
- [Seata GitHub 仓库](https://github.com/seata/seata)

### 练习
1. 在本地环境中配置 Seata File 注册中心，并启动一个简单的微服务项目。
2. 尝试将 File 注册中心替换为 Nacos 注册中心，并比较两者的差异。

:::tip
如果您在配置过程中遇到问题，可以参考 Seata 官方文档或社区论坛获取帮助。
:::