---
title: Sentinel 实时指标
description: 了解Sentinel实时指标的概念、工作原理及其在实际应用中的使用方法。本文适合初学者，包含代码示例和实际案例。
---

# Sentinel 实时指标

Sentinel是阿里巴巴开源的一款轻量级流量控制框架，主要用于保护微服务架构中的服务稳定性。**Sentinel实时指标**是Sentinel的核心功能之一，它能够实时监控系统的流量、响应时间、异常率等关键指标，帮助开发者快速发现并解决潜在问题。

本文将详细介绍Sentinel实时指标的概念、工作原理以及如何在实际项目中使用它。

## 什么是Sentinel实时指标？

Sentinel实时指标是指Sentinel在运行时收集并展示的系统流量、响应时间、异常率等关键数据。这些数据可以帮助开发者实时了解系统的运行状态，并在系统出现异常时及时采取措施。

Sentinel的实时指标主要包括以下几类：

- **QPS（每秒查询率）**：系统每秒处理的请求数量。
- **RT（响应时间）**：系统处理请求的平均响应时间。
- **异常率**：系统处理请求时出现异常的比例。
- **线程数**：系统当前使用的线程数量。

这些指标通过Sentinel的仪表盘实时展示，开发者可以通过仪表盘监控系统的运行状态。

## 如何查看Sentinel实时指标？

Sentinel提供了一个内置的仪表盘，用于展示实时指标。要查看这些指标，首先需要启动Sentinel Dashboard。

### 启动Sentinel Dashboard

1. 下载Sentinel Dashboard的JAR包。
2. 使用以下命令启动Dashboard：

   ```bash
   java -Dserver.port=8080 -Dcsp.sentinel.dashboard.server=localhost:8080 -Dproject.name=sentinel-dashboard -jar sentinel-dashboard.jar
   ```

3. 打开浏览器，访问 `http://localhost:8080`，你将看到Sentinel的仪表盘界面。

### 查看实时指标

在仪表盘中，你可以看到以下信息：

- **实时监控**：展示系统的QPS、RT、异常率等实时指标。
- **资源调用链**：展示系统中各个资源的调用关系。
- **规则管理**：展示当前配置的流量控制规则。

## 实际案例：监控一个简单的Spring Boot应用

假设我们有一个简单的Spring Boot应用，我们希望通过Sentinel监控它的实时指标。

### 1. 添加Sentinel依赖

首先，在 `pom.xml` 中添加Sentinel的依赖：

```xml
<dependency>
    <groupId>com.alibaba.cloud</groupId>
    <artifactId>spring-cloud-starter-alibaba-sentinel</artifactId>
</dependency>
```

### 2. 配置Sentinel Dashboard

在 `application.yml` 中配置Sentinel Dashboard的地址：

```yaml
spring:
  cloud:
    sentinel:
      transport:
        dashboard: localhost:8080
```

### 3. 添加一个简单的Controller

创建一个简单的Controller，用于处理请求：

```java
@RestController
public class HelloController {

    @GetMapping("/hello")
    public String hello() {
        return "Hello, Sentinel!";
    }
}
```

### 4. 启动应用并查看实时指标

启动Spring Boot应用后，访问 `http://localhost:8080`，你将看到应用的实时指标。

## 总结

Sentinel实时指标是监控系统运行状态的重要工具。通过Sentinel Dashboard，开发者可以实时查看系统的QPS、RT、异常率等关键指标，从而及时发现并解决问题。

在实际项目中，Sentinel实时指标可以帮助我们更好地理解系统的运行状况，并为系统的稳定性提供保障。

## 附加资源

- [Sentinel官方文档](https://github.com/alibaba/Sentinel/wiki)
- [Spring Cloud Alibaba Sentinel](https://github.com/alibaba/spring-cloud-alibaba/wiki/Sentinel)

## 练习

1. 尝试在你的Spring Boot项目中集成Sentinel，并查看实时指标。
2. 配置一个流量控制规则，观察Sentinel如何根据规则限制流量。
