---
title: Eureka 纯函数
description: 了解纯函数的概念、特点及其在函数式编程中的重要性。通过示例和实际应用场景，掌握如何编写和使用纯函数。
---

# Eureka 纯函数

## 介绍

在函数式编程中，**纯函数**是一个核心概念。纯函数是指那些在给定相同输入时，总是返回相同输出，并且不会产生任何副作用的函数。换句话说，纯函数的行为是可预测的，它们不会修改外部状态或依赖外部状态。

纯函数的特点：
1. **确定性**：相同的输入总是产生相同的输出。
2. **无副作用**：不会修改外部状态或依赖外部状态。

## 纯函数的定义

一个纯函数的定义非常简单：它只依赖于它的输入参数，并且不会修改任何外部状态。让我们通过一个简单的例子来理解这一点。

```javascript
// 纯函数示例
function add(a, b) {
  return a + b;
}
```

在这个例子中，`add` 函数是一个纯函数，因为它只依赖于输入参数 `a` 和 `b`，并且不会修改任何外部状态。

## 非纯函数的例子

为了更好地理解纯函数，我们来看一个非纯函数的例子。

```javascript
// 非纯函数示例
let total = 0;
function addToTotal(amount) {
  total += amount;
  return total;
}
```

在这个例子中，`addToTotal` 函数修改了外部变量 `total`，因此它是一个非纯函数。每次调用这个函数时，`total` 的值都会发生变化，这使得函数的行为不可预测。

## 纯函数的优点

1. **可预测性**：由于纯函数的行为是确定的，它们更容易测试和调试。
2. **可维护性**：纯函数不会修改外部状态，因此它们更容易理解和维护。
3. **可复用性**：纯函数可以在不同的上下文中复用，因为它们不依赖于外部状态。

## 实际应用场景

### 1. 数据处理

纯函数非常适合用于数据处理任务。例如，假设我们有一个数组，我们想要对数组中的每个元素进行某种操作。

```javascript
// 使用纯函数处理数组
const numbers = [1, 2, 3, 4, 5];

function double(x) {
  return x * 2;
}

const doubledNumbers = numbers.map(double);
console.log(doubledNumbers); // 输出: [2, 4, 6, 8, 10]
```

在这个例子中，`double` 函数是一个纯函数，它不会修改原始数组 `numbers`，而是返回一个新的数组 `doubledNumbers`。

### 2. 状态管理

在状态管理中，纯函数也非常有用。例如，在 Redux 中，reducer 函数必须是纯函数。

```javascript
// Redux reducer 示例
function counterReducer(state = 0, action) {
  switch (action.type) {
    case 'INCREMENT':
      return state + 1;
    case 'DECREMENT':
      return state - 1;
    default:
      return state;
  }
}
```

在这个例子中，`counterReducer` 是一个纯函数，它根据传入的 `action` 类型返回一个新的状态，而不会修改原始状态。

## 总结

纯函数是函数式编程中的核心概念之一。它们具有确定性、无副作用的特点，使得代码更易于测试、维护和复用。通过理解纯函数的概念，并将其应用到实际编程中，你可以编写出更加可靠和高效的代码。

## 附加资源

- [函数式编程入门](https://www.example.com/functional-programming-intro)
- [纯函数与副作用](https://www.example.com/pure-functions-and-side-effects)
- [Redux 官方文档](https://redux.js.org/)

## 练习

1. 编写一个纯函数 `multiply`，接受两个参数并返回它们的乘积。
2. 修改以下非纯函数，使其成为纯函数：

```javascript
let count = 0;
function increment() {
  count += 1;
  return count;
}
```

3. 使用纯函数 `filter` 方法过滤出数组 `[1, 2, 3, 4, 5]` 中的所有偶数。