---
title: Hadoop 命令行工具
description: 了解Hadoop命令行工具的基本用法，掌握如何通过命令行与Hadoop分布式文件系统（HDFS）进行交互。
---

## 介绍

Hadoop命令行工具是Hadoop生态系统中的一个重要组成部分，它允许用户通过命令行与Hadoop分布式文件系统（HDFS）进行交互。无论是上传文件、下载文件、查看文件内容，还是管理HDFS中的目录结构，Hadoop命令行工具都提供了丰富的功能。对于初学者来说，掌握这些工具是学习Hadoop的第一步。

## Hadoop 命令行工具的基本用法

Hadoop命令行工具的核心命令是 `hadoop fs`，它提供了与HDFS交互的各种功能。以下是一些常用的命令及其用法。

### 1. 查看HDFS中的文件列表

使用 `-ls` 命令可以列出HDFS中指定目录下的文件和子目录。

```bash
hadoop fs -ls /user/hadoop
```

**输出示例：**

```
Found 3 items
drwxr-xr-x   - hadoop supergroup          0 2023-10-01 12:34 /user/hadoop/input
drwxr-xr-x   - hadoop supergroup          0 2023-10-01 12:35 /user/hadoop/output
-rw-r--r--   1 hadoop supergroup       1234 2023-10-01 12:36 /user/hadoop/example.txt
```

### 2. 上传文件到HDFS

使用 `-put` 命令可以将本地文件上传到HDFS中。

```bash
hadoop fs -put localfile.txt /user/hadoop/input/
```

**解释：**
- `localfile.txt` 是本地文件路径。
- `/user/hadoop/input/` 是HDFS中的目标目录。

### 3. 从HDFS下载文件

使用 `-get` 命令可以将HDFS中的文件下载到本地。

```bash
hadoop fs -get /user/hadoop/input/localfile.txt /local/path/
```

**解释：**
- `/user/hadoop/input/localfile.txt` 是HDFS中的文件路径。
- `/local/path/` 是本地目标目录。

### 4. 查看HDFS中的文件内容

使用 `-cat` 命令可以查看HDFS中文件的内容。

```bash
hadoop fs -cat /user/hadoop/input/example.txt
```

**输出示例：**

```
This is the content of the example.txt file.
```

### 5. 创建HDFS目录

使用 `-mkdir` 命令可以在HDFS中创建新目录。

```bash
hadoop fs -mkdir /user/hadoop/new_directory
```

**解释：**
- `/user/hadoop/new_directory` 是HDFS中要创建的目录路径。

### 6. 删除HDFS中的文件或目录

使用 `-rm` 命令可以删除HDFS中的文件或目录。

```bash
hadoop fs -rm /user/hadoop/input/example.txt
```

**解释：**
- `/user/hadoop/input/example.txt` 是HDFS中要删除的文件路径。

:::caution
删除操作是不可逆的，请谨慎使用 `-rm` 命令。
:::

### 7. 移动或重命名HDFS中的文件

使用 `-mv` 命令可以移动或重命名HDFS中的文件或目录。

```bash
hadoop fs -mv /user/hadoop/input/example.txt /user/hadoop/input/renamed_example.txt
```

**解释：**
- `/user/hadoop/input/example.txt` 是源文件路径。
- `/user/hadoop/input/renamed_example.txt` 是目标文件路径。

## 实际案例

假设你正在处理一个大数据项目，需要将本地的一个日志文件上传到HDFS中，并在HDFS中创建一个新的目录来存储处理后的数据。以下是你可以执行的步骤：

1. **上传日志文件到HDFS：**

```bash
hadoop fs -put /local/path/logfile.log /user/hadoop/input/
```

2. **在HDFS中创建新目录：**

```bash
hadoop fs -mkdir /user/hadoop/output
```

3. **查看上传的文件：**

```bash
hadoop fs -ls /user/hadoop/input/
```

4. **处理日志文件并将结果存储到新目录中：**

```bash
hadoop jar /path/to/your/job.jar input output
```

5. **查看处理后的结果：**

```bash
hadoop fs -cat /user/hadoop/output/part-r-00000
```

## 总结

Hadoop命令行工具是与HDFS进行交互的强大工具，掌握这些工具对于使用Hadoop进行大数据处理至关重要。通过本文，你已经学会了如何使用 `hadoop fs` 命令来管理HDFS中的文件和目录。希望这些知识能够帮助你在Hadoop的学习和实践中更加得心应手。

## 附加资源与练习

- **练习1：** 尝试将本地的一个大文件上传到HDFS，并使用 `-cat` 命令查看文件内容。
- **练习2：** 在HDFS中创建一个新的目录结构，并将多个文件移动到该目录中。
- **附加资源：** 参考Hadoop官方文档，了解更多关于Hadoop命令行工具的详细用法：[Hadoop官方文档](https://hadoop.apache.org/docs/current/hadoop-project-dist/hadoop-common/FileSystemShell.html)

:::tip
在实际项目中，Hadoop命令行工具通常与MapReduce作业或其他大数据处理框架结合使用。建议在学习完Hadoop基础后，进一步探索这些高级用法。
:::