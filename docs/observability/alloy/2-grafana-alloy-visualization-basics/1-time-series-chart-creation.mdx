---
title: 时间序列图表创建
description: 学习如何在 Grafana Alloy 中创建时间序列图表，掌握时间序列数据可视化的基础知识。
---

# 时间序列图表创建

时间序列图表是数据可视化中最常用的图表类型之一，尤其在监控和分析随时间变化的数据时非常有用。Grafana Alloy 提供了强大的工具来创建和自定义时间序列图表，帮助用户直观地理解数据趋势和模式。

## 什么是时间序列图表？

时间序列图表是一种以时间为横轴、数据值为纵轴的图表。它通常用于显示数据随时间的变化情况，例如服务器 CPU 使用率、网站访问量或传感器读数等。时间序列图表可以帮助我们快速识别数据中的趋势、周期性和异常。

## 创建时间序列图表的基本步骤

在 Grafana Alloy 中创建时间序列图表通常包括以下几个步骤：

1. **准备数据源**：确保你有一个可用的数据源，例如 Prometheus、InfluxDB 或其他支持时间序列数据的数据库。
2. **创建面板**：在 Grafana Alloy 中创建一个新的面板，并选择时间序列图表类型。
3. **配置查询**：编写查询语句以从数据源中提取时间序列数据。
4. **自定义图表**：根据需要调整图表的样式、颜色、标签等。
5. **保存和分享**：保存你的图表，并可以将其添加到仪表板中或与他人分享。

## 实际案例：监控服务器 CPU 使用率

假设我们有一个 Prometheus 数据源，其中记录了服务器的 CPU 使用率数据。我们将创建一个时间序列图表来监控 CPU 使用率的变化。

### 步骤 1：准备数据源

确保 Prometheus 数据源已正确配置，并且可以访问 CPU 使用率指标 `node_cpu_seconds_total`。

### 步骤 2：创建面板

在 Grafana Alloy 中，点击“新建面板”按钮，然后选择“时间序列”图表类型。

### 步骤 3：配置查询

在查询编辑器中，编写 PromQL 查询语句以获取 CPU 使用率数据：

```promql
rate(node_cpu_seconds_total{mode="system"}[1m])
```

这个查询语句会计算过去 1 分钟内系统模式下 CPU 使用率的变化率。

### 步骤 4：自定义图表

在图表设置中，你可以调整以下选项：

- **Y 轴范围**：设置 Y 轴的最小值和最大值。
- **颜色**：为不同的时间序列选择不同的颜色。
- **图例**：显示或隐藏图例，并调整其位置。
- **标签**：为图表添加标题和轴标签。

### 步骤 5：保存和分享

完成配置后，点击“保存”按钮，将图表添加到仪表板中。你可以将仪表板分享给团队成员，或导出为 JSON 文件。

## 总结

通过以上步骤，你已经学会了如何在 Grafana Alloy 中创建时间序列图表。时间序列图表是监控和分析时间相关数据的强大工具，掌握其创建和自定义技巧将极大地提升你的数据可视化能力。

## 附加资源与练习

- **练习**：尝试使用不同的数据源（如 InfluxDB）创建时间序列图表，并比较不同数据源的查询语法。
- **资源**：阅读 Grafana 官方文档，了解更多关于时间序列图表的高级配置选项。

:::tip
如果你在创建时间序列图表时遇到问题，可以查看 Grafana Alloy 的社区论坛或官方文档，那里有许多有用的资源和示例。
:::