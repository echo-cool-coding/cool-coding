---
title: 时间范围控制器
description: 了解如何在 Grafana Alloy 仪表盘中使用时间范围控制器，掌握其配置和应用场景。
---

# 时间范围控制器

在 Grafana Alloy 仪表盘设计中，**时间范围控制器**是一个非常重要的工具。它允许用户动态调整仪表盘上显示数据的时间范围，从而更灵活地分析数据。无论是查看过去一小时的数据，还是分析过去一周的趋势，时间范围控制器都能帮助你快速切换时间范围。

## 什么是时间范围控制器？

时间范围控制器是 Grafana Alloy 仪表盘中的一个组件，通常位于仪表盘的顶部。它允许用户选择特定的时间范围，例如“最近 5 分钟”、“过去 24 小时”或自定义的时间段。通过调整时间范围，用户可以查看不同时间段内的数据变化，从而更好地理解数据的趋势和模式。

### 时间范围控制器的基本功能

- **预设时间范围**：提供一些常用的时间范围选项，如“最近 1 小时”、“过去 7 天”等。
- **自定义时间范围**：允许用户手动输入特定的开始和结束时间。
- **快速切换**：通过下拉菜单快速切换不同的时间范围。

## 如何在 Grafana Alloy 中配置时间范围控制器

在 Grafana Alloy 中，时间范围控制器通常已经默认集成在仪表盘中，但你仍然可以根据需要进行自定义配置。以下是一个简单的配置示例：

```yaml
time_range_controller:
  enabled: true
  default_range: "1h"
  presets:
    - "5m"
    - "1h"
    - "24h"
    - "7d"
```

### 代码解释

- `enabled: true`：启用时间范围控制器。
- `default_range: "1h"`：设置默认的时间范围为最近 1 小时。
- `presets`：定义预设的时间范围选项，用户可以从这些选项中选择。

### 输入和输出

- **输入**：用户选择的时间范围（如“最近 1 小时”）。
- **输出**：仪表盘上显示的数据将根据选择的时间范围进行更新。

## 实际应用场景

### 场景 1：监控系统性能

假设你正在监控一个服务器的 CPU 使用率。通过时间范围控制器，你可以快速查看过去 5 分钟的 CPU 使用率，以检查是否有突发的性能问题。如果需要更长时间的分析，你可以切换到“过去 24 小时”来查看一天内的 CPU 使用趋势。

### 场景 2：分析销售数据

如果你正在分析一个电商平台的销售数据，时间范围控制器可以帮助你查看不同时间段的销售情况。例如，你可以查看“过去 7 天”的销售数据，以了解每周的销售趋势，或者查看“过去 30 天”的数据，以进行月度分析。

## 总结

时间范围控制器是 Grafana Alloy 仪表盘设计中不可或缺的工具。它为用户提供了灵活的时间范围选择，使得数据分析更加高效和直观。通过合理配置和使用时间范围控制器，你可以更好地理解数据的变化趋势，从而做出更明智的决策。

## 附加资源

- [Grafana 官方文档](https://grafana.com/docs/)
- [Grafana Alloy 仪表盘设计指南](https://grafana.com/docs/grafana/latest/dashboards/)

## 练习

1. 在你的 Grafana Alloy 仪表盘中添加一个时间范围控制器，并配置不同的预设时间范围。
2. 尝试使用自定义时间范围功能，查看特定时间段内的数据变化。
3. 分析一个实际数据集，使用时间范围控制器查看不同时间段内的数据趋势。

通过以上练习，你将更深入地理解时间范围控制器的使用方法和应用场景。