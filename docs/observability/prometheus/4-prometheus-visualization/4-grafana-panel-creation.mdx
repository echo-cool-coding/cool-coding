---
title: Grafana面板创建
description: 学习如何在Grafana中创建面板，以可视化和监控Prometheus数据。本教程适合初学者，包含逐步指导和实际案例。
---

# Grafana面板创建

Grafana 是一个强大的开源工具，用于可视化和监控数据。它支持多种数据源，包括 Prometheus。通过 Grafana，您可以创建各种面板来展示 Prometheus 收集的指标数据。本文将逐步指导您如何在 Grafana 中创建面板，并展示其实际应用场景。

## 什么是 Grafana 面板？

Grafana 面板是 Grafana 中用于展示数据的可视化组件。每个面板可以显示一个或多个指标，并以图表、表格、仪表盘等形式呈现。通过面板，您可以直观地监控和分析 Prometheus 收集的数据。

## 创建 Grafana 面板的步骤

### 1. 登录 Grafana

首先，确保您已经安装并运行了 Grafana。打开浏览器，访问 Grafana 的 Web 界面（通常是 `http://localhost:3000`），并使用您的用户名和密码登录。

### 2. 创建新的仪表盘

在 Grafana 中，面板是仪表盘的一部分。因此，首先需要创建一个新的仪表盘：

1. 点击左侧菜单中的 **"+"** 图标，然后选择 **"Dashboard"**。
2. 点击 **"Add new panel"** 按钮，进入面板编辑界面。

### 3. 配置数据源

在面板编辑界面中，您需要配置数据源以连接到 Prometheus：

1. 在 **"Query"** 选项卡下，点击 **"Data source"** 下拉菜单，选择 **"Prometheus"**。
2. 如果 Prometheus 数据源尚未配置，请点击 **"Add data source"** 并按照提示进行配置。

### 4. 编写查询

在 **"Query"** 选项卡中，您可以编写 PromQL 查询来获取数据。例如，以下查询将返回 CPU 使用率：

```promql
rate(node_cpu_seconds_total{mode="system"}[1m])
```

:::tip
PromQL 是 Prometheus 的查询语言，用于从 Prometheus 中提取数据。如果您不熟悉 PromQL，可以参考 [Prometheus 官方文档](https://prometheus.io/docs/prometheus/latest/querying/basics/)。
:::

### 5. 选择可视化类型

在 **"Visualization"** 选项卡中，您可以选择面板的展示形式。Grafana 支持多种可视化类型，包括折线图、柱状图、仪表盘等。选择适合您数据的可视化类型。

### 6. 自定义面板

您可以在 **"Panel options"** 选项卡中自定义面板的标题、描述、单位等。此外，还可以调整图表的颜色、轴标签等。

### 7. 保存面板

完成配置后，点击右上角的 **"Apply"** 按钮保存面板。然后，您可以点击 **"Save dashboard"** 保存整个仪表盘。

## 实际案例：监控服务器 CPU 使用率

假设您想要监控一组服务器的 CPU 使用率。以下是如何在 Grafana 中创建一个面板来展示这些数据的步骤：

1. **创建新的仪表盘**：按照上述步骤创建一个新的仪表盘。
2. **配置数据源**：选择 Prometheus 作为数据源。
3. **编写查询**：使用以下 PromQL 查询获取 CPU 使用率：

   ```promql
   rate(node_cpu_seconds_total{mode="system"}[1m])
   ```

4. **选择可视化类型**：选择折线图作为可视化类型。
5. **自定义面板**：设置面板标题为 "CPU 使用率"，并调整图表颜色。
6. **保存面板**：保存面板并仪表盘。

通过这个面板，您可以实时监控服务器的 CPU 使用率，并根据需要调整查询和可视化设置。

## 总结

通过本文，您已经学会了如何在 Grafana 中创建面板来可视化和监控 Prometheus 数据。Grafana 提供了丰富的功能和灵活的配置选项，使您能够轻松创建各种可视化面板。

## 附加资源

- [Grafana 官方文档](https://grafana.com/docs/)
- [Prometheus 官方文档](https://prometheus.io/docs/)
- [PromQL 查询语言指南](https://prometheus.io/docs/prometheus/latest/querying/basics/)

## 练习

1. 尝试在 Grafana 中创建一个新的仪表盘，并添加一个面板来监控内存使用率。
2. 使用不同的可视化类型（如柱状图、仪表盘）来展示相同的数据，并比较它们的优缺点。

通过实践，您将更深入地理解 Grafana 面板的创建和使用。