---
title: 面板数据链接
description: 了解如何在 Grafana 面板中使用数据链接功能，将面板中的指标与其他资源或仪表板关联起来。
---

# 面板数据链接

在 Grafana 中，面板数据链接（Panel Data Links）是一种强大的功能，允许你将面板中的特定数据点与其他资源、仪表板或外部工具关联起来。通过数据链接，你可以为用户提供更深入的上下文信息，或者直接跳转到相关的仪表板或外部页面。

## 什么是面板数据链接？

面板数据链接是 Grafana 面板中的一种配置选项，允许你为面板中的特定数据点添加链接。这些链接可以是静态的，也可以是动态的，基于面板中的数据点生成。例如，你可以创建一个链接，将用户从当前面板跳转到另一个仪表板，或者打开一个外部工具来查看更详细的信息。

数据链接通常用于以下场景：
- 跳转到另一个仪表板，查看更详细的数据。
- 打开外部工具（如 Prometheus、Jaeger 等）以查看特定指标的详细信息。
- 提供上下文相关的文档或帮助页面。

## 如何配置面板数据链接

在 Grafana 中配置面板数据链接非常简单。以下是一个逐步的指南，帮助你理解如何为面板添加数据链接。

### 1. 打开面板编辑器

首先，打开你想要添加数据链接的面板，并进入面板编辑器。在面板编辑器中，找到“面板选项”或“面板设置”部分。

### 2. 添加数据链接

在面板设置中，找到“数据链接”部分。点击“添加链接”按钮，开始配置一个新的数据链接。

### 3. 配置链接属性

在数据链接配置中，你可以设置以下属性：

- **标题**：链接的显示名称。
- **URL**：链接的目标地址。你可以使用变量来动态生成 URL。
- **打开方式**：选择链接是在新标签页中打开，还是在当前标签页中打开。

例如，以下是一个简单的数据链接配置：

```json
{
  "title": "查看详细指标",
  "url": "https://example.com/metrics/${__data.fields.value}",
  "targetBlank": true
}
```

在这个例子中，`${__data.fields.value}` 是一个变量，它会被替换为当前数据点的值。

### 4. 使用变量动态生成链接

Grafana 提供了多种变量，可以帮助你动态生成链接。以下是一些常用的变量：

- `${__data.fields.value}`：当前数据点的值。
- `${__data.fields.name}`：当前数据点的名称。
- `${__from}` 和 `${__to}`：当前时间范围的时间戳。

例如，你可以创建一个链接，跳转到另一个仪表板，并传递当前时间范围：

```json
{
  "title": "跳转到详细仪表板",
  "url": "/d/abc123/detailed-dashboard?from=${__from}&to=${__to}",
  "targetBlank": false
}
```

### 5. 保存并测试

完成配置后，保存面板并返回到仪表板视图。点击面板中的数据点，你应该能够看到新添加的链接，并能够点击它跳转到目标页面。

## 实际应用场景

### 场景 1：跳转到详细仪表板

假设你有一个显示 CPU 使用率的面板，你希望用户能够点击某个数据点，跳转到另一个显示该 CPU 详细使用情况的仪表板。你可以配置一个数据链接，将用户从当前面板跳转到详细仪表板，并传递当前时间范围。

```json
{
  "title": "查看详细 CPU 使用率",
  "url": "/d/abc123/cpu-details?from=${__from}&to=${__to}",
  "targetBlank": false
}
```

### 场景 2：打开外部工具

假设你有一个显示 HTTP 请求延迟的面板，你希望用户能够点击某个数据点，打开 Jaeger 查看该请求的详细跟踪信息。你可以配置一个数据链接，将用户从当前面板跳转到 Jaeger 的跟踪页面。

```json
{
  "title": "查看 Jaeger 跟踪",
  "url": "https://jaeger.example.com/trace/${__data.fields.trace_id}",
  "targetBlank": true
}
```

## 总结

面板数据链接是 Grafana 中一个非常有用的功能，它可以帮助你为用户提供更丰富的上下文信息和导航选项。通过配置数据链接，你可以将面板中的指标与其他资源、仪表板或外部工具关联起来，从而提升用户体验。

## 附加资源与练习

- **练习 1**：尝试在你的 Grafana 面板中添加一个数据链接，跳转到另一个仪表板，并传递当前时间范围。
- **练习 2**：配置一个数据链接，打开一个外部工具（如 Prometheus 或 Jaeger），并动态生成 URL。
- **附加资源**：阅读 [Grafana 官方文档](https://grafana.com/docs/grafana/latest/panels/panel-data-links/) 以了解更多关于数据链接的高级用法和配置选项。

通过以上内容，你应该已经掌握了如何在 Grafana 面板中使用数据链接功能。继续实践和探索，你将能够更好地利用这一功能来增强你的仪表板。