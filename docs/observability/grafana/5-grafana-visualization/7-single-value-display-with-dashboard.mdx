---
title: 单值显示与仪表盘
description: 了解如何在 Grafana 中使用单值显示和仪表盘来可视化关键指标，适合初学者。
---

# 单值显示与仪表盘

在 Grafana 中，**单值显示**和**仪表盘**是两种常用的可视化方式，用于展示关键指标和数据趋势。它们可以帮助你快速了解系统的状态，并做出相应的决策。本文将详细介绍这两种可视化方式的概念、使用方法以及实际应用场景。

## 什么是单值显示？

单值显示（Single Stat）是一种用于展示单个关键指标的可视化组件。它通常以数字、文本或图形的形式显示一个特定的值，例如 CPU 使用率、内存占用率或请求响应时间。单值显示非常适合用于监控系统的关键性能指标（KPI）。

### 单值显示的特点

- **简洁明了**：单值显示只展示一个值，用户可以快速获取关键信息。
- **可定制性强**：你可以根据需要调整显示格式、颜色和单位。
- **支持阈值**：可以为单值显示设置阈值，当值超过或低于某个范围时，颜色会发生变化，提醒用户注意。

### 单值显示的使用场景

- **监控系统状态**：例如显示当前的 CPU 使用率或内存占用率。
- **展示关键指标**：例如显示网站的当前在线用户数或请求响应时间。
- **报警提示**：当某个指标超出正常范围时，单值显示可以通过颜色变化提醒用户。

## 什么是仪表盘？

仪表盘（Gauge）是一种用于展示某个指标在特定范围内的当前值的可视化组件。它通常以圆形或半圆形的形式显示，类似于汽车仪表盘上的速度表。仪表盘非常适合用于展示某个指标在目标范围内的表现。

### 仪表盘的特点

- **直观易懂**：仪表盘通过图形化的方式展示数据，用户可以快速理解当前状态。
- **支持范围设置**：你可以为仪表盘设置最小值和最大值，并定义不同的颜色区域。
- **动态更新**：仪表盘可以实时更新数据，反映当前的状态变化。

### 仪表盘的使用场景

- **展示进度**：例如显示某个任务的完成进度或项目的里程碑。
- **监控资源使用情况**：例如显示磁盘使用率或网络带宽占用率。
- **性能监控**：例如显示服务器的负载情况或数据库的查询响应时间。

## 如何在 Grafana 中使用单值显示和仪表盘？

### 创建单值显示

1. **添加面板**：在 Grafana 仪表盘中，点击“Add Panel”按钮，选择“Single Stat”面板。
2. **配置数据源**：选择数据源并配置查询，以获取你想要展示的指标。
3. **设置显示格式**：在“Display”选项卡中，设置显示格式、单位和颜色。
4. **设置阈值**：在“Thresholds”选项卡中，设置阈值并定义颜色变化。

```plaintext
示例查询：
SELECT mean("value") FROM "cpu_usage" WHERE $timeFilter GROUP BY time($__interval) fill(null)
```

### 创建仪表盘

1. **添加面板**：在 Grafana 仪表盘中，点击“Add Panel”按钮，选择“Gauge”面板。
2. **配置数据源**：选择数据源并配置查询，以获取你想要展示的指标。
3. **设置范围**：在“Display”选项卡中，设置最小值和最大值，并定义颜色区域。
4. **设置显示格式**：在“Options”选项卡中，设置显示格式和单位。

```plaintext
示例查询：
SELECT mean("value") FROM "disk_usage" WHERE $timeFilter GROUP BY time($__interval) fill(null)
```

## 实际案例

### 案例 1：监控服务器 CPU 使用率

假设你正在监控一台服务器的 CPU 使用率，你可以使用单值显示来展示当前的 CPU 使用率，并设置阈值来提醒用户当 CPU 使用率超过 80% 时需要注意。

```plaintext
查询：
SELECT mean("value") FROM "cpu_usage" WHERE $timeFilter GROUP BY time($__interval) fill(null)

阈值设置：
- 绿色：0% - 80%
- 黄色：80% - 90%
- 红色：90% - 100%
```

### 案例 2：展示磁盘使用率

假设你正在监控磁盘的使用情况，你可以使用仪表盘来展示当前的磁盘使用率，并设置不同的颜色区域来表示不同的使用状态。

```plaintext
查询：
SELECT mean("value") FROM "disk_usage" WHERE $timeFilter GROUP BY time($__interval) fill(null)

范围设置：
- 最小值：0%
- 最大值：100%
- 绿色区域：0% - 70%
- 黄色区域：70% - 90%
- 红色区域：90% - 100%
```

## 总结

单值显示和仪表盘是 Grafana 中两种非常实用的可视化工具，它们可以帮助你快速了解系统的关键指标和状态。通过本文的介绍，你应该已经掌握了如何在 Grafana 中创建和配置单值显示和仪表盘，并了解了它们的实际应用场景。

:::tip 提示
如果你想要进一步学习 Grafana 的可视化功能，可以尝试创建自己的仪表盘，并结合不同的数据源和查询来展示更多的指标。
:::

## 附加资源

- [Grafana 官方文档](https://grafana.com/docs/)
- [Grafana 社区论坛](https://community.grafana.com/)
- [Grafana 可视化教程](https://grafana.com/tutorials/)

## 练习

1. 创建一个单值显示面板，展示当前的内存使用率，并设置阈值来提醒用户当内存使用率超过 90% 时需要注意。
2. 创建一个仪表盘面板，展示当前的网络带宽占用率，并设置不同的颜色区域来表示不同的使用状态。

通过完成这些练习，你将更加熟悉 Grafana 中的单值显示和仪表盘的使用方法。