---
title: API密钥管理
description: 了解如何在Grafana中管理API密钥，包括创建、使用和删除API密钥的详细步骤，以及实际应用场景。
---

# API密钥管理

在Grafana中，API密钥是一种用于身份验证的机制，允许用户通过编程方式与Grafana进行交互。API密钥可以用于自动化任务、集成外部系统或访问Grafana的API。本文将详细介绍如何在Grafana中管理API密钥，包括创建、使用和删除API密钥的步骤。

## 什么是API密钥？

API密钥是一个唯一的字符串，用于验证和授权对Grafana API的访问。每个API密钥都与一个特定的角色和权限相关联，确保只有授权的用户或应用程序可以执行特定的操作。

## 创建API密钥

在Grafana中创建API密钥非常简单。以下是创建API密钥的步骤：

1. 登录到Grafana。
2. 导航到 **Configuration** > **API Keys**。
3. 点击 **Add API Key** 按钮。
4. 在弹出的对话框中，输入API密钥的名称、角色和过期时间。
5. 点击 **Add** 按钮。

创建成功后，Grafana会生成一个API密钥，并显示在页面上。请务必妥善保存这个密钥，因为一旦关闭对话框，你将无法再次查看它。

:::caution
API密钥一旦生成，就无法再次查看。请务必在生成后立即保存。
:::

## 使用API密钥

创建API密钥后，你可以使用它来访问Grafana的API。以下是一个使用API密钥进行身份验证的示例：

```bash
curl -H "Authorization: Bearer YOUR_API_KEY" https://your-grafana-instance/api/dashboards/home
```

在这个示例中，`YOUR_API_KEY` 是你刚刚生成的API密钥。通过这个请求，你可以获取Grafana实例的仪表板信息。

## 删除API密钥

如果你不再需要某个API密钥，可以随时删除它。以下是删除API密钥的步骤：

1. 登录到Grafana。
2. 导航到 **Configuration** > **API Keys**。
3. 找到你想要删除的API密钥。
4. 点击 **Delete** 按钮。
5. 在弹出的确认对话框中，点击 **Confirm** 按钮。

:::warning
删除API密钥后，任何使用该密钥的应用程序将无法再访问Grafana的API。
:::

## 实际应用场景

API密钥在许多实际场景中非常有用。以下是一些常见的应用场景：

1. **自动化任务**：你可以使用API密钥来自动化创建、更新或删除仪表板。
2. **集成外部系统**：API密钥可以用于将Grafana与外部系统（如CI/CD管道）集成，以便在构建过程中自动生成报告。
3. **监控和警报**：通过API密钥，你可以编写脚本来自动化监控和警报任务，确保系统在出现问题时能够及时响应。

## 总结

API密钥是Grafana中一个强大的工具，允许你通过编程方式与Grafana进行交互。通过本文，你已经学会了如何创建、使用和删除API密钥，并了解了它们在实际应用中的重要性。

## 附加资源

- [Grafana官方文档](https://grafana.com/docs/grafana/latest/http_api/auth/)
- [Grafana API参考](https://grafana.com/docs/grafana/latest/http_api/)

## 练习

1. 创建一个新的API密钥，并使用它获取Grafana实例中的仪表板列表。
2. 编写一个脚本，使用API密钥自动创建一个新的仪表板。
3. 删除一个不再需要的API密钥，并验证它是否无法再访问Grafana的API。

通过这些练习，你将更深入地理解API密钥的管理和使用。