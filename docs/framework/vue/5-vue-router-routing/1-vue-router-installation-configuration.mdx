---
title: Vue Router 安装配置
description: 学习如何在 Vue.js 项目中安装和配置 Vue Router，并了解其基本用法和实际应用场景。
---

# Vue Router 安装配置

Vue Router 是 Vue.js 官方的路由管理器，用于构建单页面应用（SPA）。它允许你在不重新加载页面的情况下，动态切换视图，并管理 URL 与组件之间的映射关系。本文将详细介绍如何在 Vue.js 项目中安装和配置 Vue Router。

## 1. 安装 Vue Router

首先，你需要确保已经创建了一个 Vue.js 项目。如果还没有项目，可以使用 Vue CLI 快速创建一个：

```bash
vue create my-vue-app
```

接下来，进入项目目录并安装 Vue Router：

```bash
cd my-vue-app
npm install vue-router@4
```

:::note
Vue Router 4 是 Vue 3 的官方路由版本。如果你使用的是 Vue 2，请安装 `vue-router@3`。
:::

## 2. 配置 Vue Router

安装完成后，我们需要在项目中配置 Vue Router。首先，在 `src` 目录下创建一个 `router` 文件夹，并在其中创建一个 `index.js` 文件：

```bash
mkdir src/router
touch src/router/index.js
```

在 `src/router/index.js` 中，编写以下代码来配置路由：

```javascript
import { createRouter, createWebHistory } from 'vue-router';
import Home from '../views/Home.vue';
import About from '../views/About.vue';

const routes = [
  {
    path: '/',
    name: 'Home',
    component: Home,
  },
  {
    path: '/about',
    name: 'About',
    component: About,
  },
];

const router = createRouter({
  history: createWebHistory(),
  routes,
});

export default router;
```

### 代码解释

- `createRouter`：用于创建一个新的路由实例。
- `createWebHistory`：用于创建基于 HTML5 History API 的路由模式。
- `routes`：定义路由的数组，每个路由对象包含 `path`、`name` 和 `component` 属性。
- `history`：指定路由模式，`createWebHistory` 用于支持不带 `#` 的 URL。

## 3. 在 Vue 应用中使用 Vue Router

接下来，我们需要在 Vue 应用中使用配置好的路由。打开 `src/main.js` 文件，并修改如下：

```javascript
import { createApp } from 'vue';
import App from './App.vue';
import router from './router';

createApp(App).use(router).mount('#app');
```

### 代码解释

- `createApp(App)`：创建一个 Vue 应用实例。
- `.use(router)`：将路由实例挂载到 Vue 应用中。
- `.mount('#app')`：将应用挂载到 DOM 中的 `#app` 元素上。

## 4. 创建路由视图

在 `src/views` 目录下创建两个组件文件：`Home.vue` 和 `About.vue`。

**Home.vue**:

```vue
<template>
  <div>
    <h1>Home</h1>
    <p>Welcome to the Home page!</p>
  </div>
</template>

<script>
export default {
  name: 'Home',
};
</script>
```

**About.vue**:

```vue
<template>
  <div>
    <h1>About</h1>
    <p>This is the About page.</p>
  </div>
</template>

<script>
export default {
  name: 'About',
};
</script>
```

## 5. 在 App.vue 中使用路由

最后，在 `src/App.vue` 中使用 `<router-view>` 来渲染路由匹配的组件：

```vue
<template>
  <div id="app">
    <nav>
      <router-link to="/">Home</router-link> |
      <router-link to="/about">About</router-link>
    </nav>
    <router-view />
  </div>
</template>

<script>
export default {
  name: 'App',
};
</script>
```

### 代码解释

- `<router-link>`：用于生成导航链接，点击后会切换到对应的路由。
- `<router-view>`：用于渲染当前路由匹配的组件。

## 6. 运行项目

完成以上步骤后，运行项目并查看效果：

```bash
npm run serve
```

打开浏览器，访问 `http://localhost:8080`，你应该会看到导航栏和默认的 `Home` 页面。点击 `About` 链接，页面将切换到 `About` 页面，而不会重新加载整个页面。

## 7. 实际应用场景

Vue Router 在实际项目中有广泛的应用场景，例如：

- **单页面应用（SPA）**：通过 Vue Router 实现页面之间的无缝切换，提升用户体验。
- **嵌套路由**：在复杂应用中，可以使用嵌套路由来组织和管理多层次的页面结构。
- **路由守卫**：通过路由守卫实现权限控制、页面访问限制等功能。

## 8. 总结

通过本文，你已经学会了如何在 Vue.js 项目中安装和配置 Vue Router，并了解了其基本用法。Vue Router 是构建单页面应用的重要工具，掌握它将为你的 Vue.js 开发之旅打下坚实的基础。

## 9. 附加资源与练习

- **官方文档**：[Vue Router 官方文档](https://router.vuejs.org/)
- **练习**：尝试在你的项目中添加更多路由，并实现嵌套路由和路由守卫功能。

:::tip
如果你在配置过程中遇到问题，可以参考 Vue Router 的官方文档，或者查阅社区中的相关教程和讨论。
:::