---
title: 部署到静态服务器
description: 学习如何将 Vue.js 应用部署到静态服务器，包括构建、配置和上传的详细步骤。
---

# 部署到静态服务器

在开发完一个 Vue.js 应用后，下一步就是将其部署到服务器上，以便用户可以访问。静态服务器是一种常见的部署方式，特别适合 Vue.js 这类单页面应用（SPA）。本文将详细介绍如何将 Vue.js 应用部署到静态服务器。

## 什么是静态服务器？

静态服务器是一种专门用于托管静态文件的服务器。静态文件包括 HTML、CSS、JavaScript 和图片等资源。与动态服务器不同，静态服务器不需要处理数据库查询或服务器端逻辑，因此通常更快、更简单。

## 为什么选择静态服务器？

- **性能**：静态文件可以直接从服务器缓存中提供，加载速度更快。
- **简单性**：不需要复杂的服务器配置，适合初学者。
- **成本**：静态服务器通常比动态服务器更便宜。

## 部署步骤

### 1. 构建 Vue.js 应用

在部署之前，首先需要将 Vue.js 应用构建为生产环境版本。Vue CLI 提供了一个简单的命令来完成这一任务：

```bash
npm run build
```

执行此命令后，Vue.js 会将所有资源打包并输出到 `dist` 目录中。这个目录包含了所有静态文件，可以直接部署到服务器上。

### 2. 配置服务器

接下来，需要配置静态服务器以正确提供这些文件。以下是几种常见的静态服务器配置方式：

#### Nginx 配置

如果你使用的是 Nginx，可以在配置文件中添加以下内容：

```nginx
server {
    listen 80;
    server_name yourdomain.com;

    location / {
        root /path/to/your/dist;
        try_files $uri $uri/ /index.html;
    }
}
```

- `root` 指定了 Vue.js 应用的 `dist` 目录路径。
- `try_files` 确保所有路由都指向 `index.html`，这对于 Vue.js 的单页面应用非常重要。

#### Apache 配置

如果你使用的是 Apache，可以在 `.htaccess` 文件中添加以下内容：

```apache
<IfModule mod_rewrite.c>
  RewriteEngine On
  RewriteBase /
  RewriteRule ^index\.html$ - [L]
  RewriteCond %{REQUEST_FILENAME} !-f
  RewriteCond %{REQUEST_FILENAME} !-d
  RewriteRule . /index.html [L]
</IfModule>
```

### 3. 上传文件到服务器

构建和配置完成后，需要将 `dist` 目录中的文件上传到服务器。可以使用 `scp` 或 `rsync` 等工具来完成这一任务。

例如，使用 `scp` 上传文件：

```bash
scp -r dist/* user@yourserver:/path/to/your/server/root
```

### 4. 测试部署

上传完成后，访问你的域名或服务器 IP 地址，确保 Vue.js 应用能够正常加载。如果一切顺利，你应该能够看到你的应用在浏览器中运行。

## 实际案例

假设你开发了一个简单的 Vue.js 待办事项应用，并希望将其部署到静态服务器上。以下是具体的步骤：

1. **构建应用**：运行 `npm run build`，生成 `dist` 目录。
2. **配置 Nginx**：在 Nginx 配置文件中添加上述配置，并重启 Nginx。
3. **上传文件**：使用 `scp` 将 `dist` 目录中的文件上传到服务器。
4. **测试**：访问 `http://yourdomain.com`，确保待办事项应用正常运行。

## 总结

将 Vue.js 应用部署到静态服务器是一个相对简单的过程，主要包括构建应用、配置服务器和上传文件三个步骤。通过本文的介绍，你应该能够轻松地将你的 Vue.js 应用部署到静态服务器上。

## 附加资源

- [Vue.js 官方文档](https://vuejs.org/)
- [Nginx 官方文档](https://nginx.org/en/docs/)
- [Apache 官方文档](https://httpd.apache.org/docs/)

## 练习

1. 尝试将你的 Vue.js 应用部署到不同的静态服务器（如 Nginx 和 Apache），并比较它们的配置差异。
2. 研究如何使用 CI/CD 工具（如 GitHub Actions）自动化部署过程。
