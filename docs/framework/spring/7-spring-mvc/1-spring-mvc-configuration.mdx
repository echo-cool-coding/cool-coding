---
title: Spring MVC 配置
description: 学习如何配置 Spring MVC，了解其核心组件和实际应用场景，适合初学者。
---

# Spring MVC 配置

Spring MVC 是 Spring 框架中的一个模块，用于构建基于模型-视图-控制器（MVC）设计模式的 Web 应用程序。它提供了一种灵活的方式来处理 HTTP 请求、生成响应并管理视图。在本教程中，我们将逐步讲解如何配置 Spring MVC，并通过实际案例展示其应用。

## 1. 什么是 Spring MVC？

Spring MVC 是一个基于 Java 的 Web 框架，它将应用程序分为三个主要部分：

- **模型（Model）**：负责处理应用程序的数据和业务逻辑。
- **视图（View）**：负责呈现数据，通常是 HTML 页面。
- **控制器（Controller）**：负责处理用户请求并协调模型和视图。

通过这种分离，Spring MVC 使得应用程序更易于维护和扩展。

## 2. 配置 Spring MVC

要配置 Spring MVC，我们需要完成以下几个步骤：

### 2.1 添加依赖

首先，确保你的项目中包含了 Spring MVC 的依赖。如果你使用的是 Maven，可以在 `pom.xml` 中添加以下依赖：

```xml
<dependency>
    <groupId>org.springframework</groupId>
    <artifactId>spring-webmvc</artifactId>
    <version>5.3.20</version>
</dependency>
```

### 2.2 配置 DispatcherServlet

`DispatcherServlet` 是 Spring MVC 的核心组件，它负责将请求分发到相应的控制器。我们需要在 `web.xml` 中配置 `DispatcherServlet`：

```xml
<servlet>
    <servlet-name>dispatcher</servlet-name>
    <servlet-class>org.springframework.web.servlet.DispatcherServlet</servlet-class>
    <init-param>
        <param-name>contextConfigLocation</param-name>
        <param-value>/WEB-INF/spring-mvc-config.xml</param-value>
    </init-param>
    <load-on-startup>1</load-on-startup>
</servlet>

<servlet-mapping>
    <servlet-name>dispatcher</servlet-name>
    <url-pattern>/</url-pattern>
</servlet-mapping>
```

### 2.3 创建 Spring MVC 配置文件

接下来，我们需要创建一个 Spring MVC 配置文件 `spring-mvc-config.xml`，并在其中配置视图解析器、控制器扫描等：

```xml
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:context="http://www.springframework.org/schema/context"
       xmlns:mvc="http://www.springframework.org/schema/mvc"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:schemaLocation="
           http://www.springframework.org/schema/beans
           http://www.springframework.org/schema/beans/spring-beans.xsd
           http://www.springframework.org/schema/context
           http://www.springframework.org/schema/context/spring-context.xsd
           http://www.springframework.org/schema/mvc
           http://www.springframework.org/schema/mvc/spring-mvc.xsd">

    <!-- 启用注解驱动的控制器 -->
    <mvc:annotation-driven />

    <!-- 扫描控制器所在的包 -->
    <context:component-scan base-package="com.example.controller" />

    <!-- 配置视图解析器 -->
    <bean class="org.springframework.web.servlet.view.InternalResourceViewResolver">
        <property name="prefix" value="/WEB-INF/views/" />
        <property name="suffix" value=".jsp" />
    </bean>
</beans>
```

### 2.4 创建控制器

控制器是处理请求的核心组件。我们可以通过 `@Controller` 注解来定义一个控制器：

```java
package com.example.controller;

import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.GetMapping;

@Controller
public class HomeController {

    @GetMapping("/")
    public String home() {
        return "home"; // 返回视图名称
    }
}
```

### 2.5 创建视图

在 `WEB-INF/views` 目录下创建一个名为 `home.jsp` 的视图文件：

```jsp
<!DOCTYPE html>
<html>
<head>
    <title>Home Page</title>
</head>
<body>
    <h1>Welcome to Spring MVC!</h1>
</body>
</html>
```

## 3. 实际案例

假设我们正在构建一个简单的博客系统，用户可以查看博客文章列表。我们可以通过以下步骤实现：

### 3.1 创建博客控制器

```java
package com.example.controller;

import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.GetMapping;

import java.util.Arrays;
import java.util.List;

@Controller
public class BlogController {

    @GetMapping("/blogs")
    public String listBlogs(Model model) {
        List<String> blogs = Arrays.asList("Spring MVC 入门", "Spring Boot 进阶", "Spring Security 实战");
        model.addAttribute("blogs", blogs);
        return "blog-list";
    }
}
```

### 3.2 创建博客列表视图

在 `WEB-INF/views` 目录下创建一个名为 `blog-list.jsp` 的视图文件：

```jsp
<!DOCTYPE html>
<html>
<head>
    <title>Blog List</title>
</head>
<body>
    <h1>博客列表</h1>
    <ul>
        <c:forEach items="${blogs}" var="blog">
            <li>${blog}</li>
        </c:forEach>
    </ul>
</body>
</html>
```

### 3.3 运行应用程序

启动应用程序并访问 `http://localhost:8080/blogs`，你将看到一个博客列表页面。

## 4. 总结

通过本教程，我们学习了如何配置 Spring MVC，并创建了一个简单的博客系统。Spring MVC 提供了强大的功能来构建 Web 应用程序，通过合理的配置和设计，我们可以轻松地扩展和维护应用程序。

## 5. 附加资源

- [Spring MVC 官方文档](https://docs.spring.io/spring-framework/docs/current/reference/html/web.html)
- [Spring MVC 教程](https://www.baeldung.com/spring-mvc-tutorial)

## 6. 练习

1. 尝试创建一个新的控制器，处理用户注册请求，并返回一个注册成功的页面。
2. 修改现有的博客系统，使其支持分页显示博客文章。

:::tip
在开发过程中，建议使用 Spring Boot 来简化 Spring MVC 的配置和管理。
:::