---
title: Next.js Emotion
description: "了解如何在 Next.js 项目中使用 Emotion 进行样式管理。Emotion 是一个强大的 CSS-in-JS 库，适用于 React 和 Next.js 应用。"
---

# Next.js Emotion

在现代 Web 开发中，样式管理是一个重要的部分。Next.js 提供了多种样式解决方案，而 **Emotion** 是其中最受欢迎的选择之一。Emotion 是一个强大的 CSS-in-JS 库，允许你在 JavaScript 中编写 CSS，同时提供了强大的功能和灵活性。

本文将带你了解如何在 Next.js 项目中使用 Emotion，并通过实际案例展示其应用场景。

## 什么是 Emotion？

Emotion 是一个用于 React 的 CSS-in-JS 库，它允许你在 JavaScript 中编写 CSS 样式。Emotion 提供了多种功能，包括：

- **动态样式**：根据组件的 props 或状态动态生成样式。
- **样式组合**：轻松组合多个样式。
- **高性能**：通过自动化的样式优化和缓存机制，确保高性能。

Emotion 与 Next.js 的集成非常顺畅，是 Next.js 项目中样式管理的理想选择。

## 在 Next.js 中安装 Emotion

要在 Next.js 项目中使用 Emotion，首先需要安装相关的依赖包。你可以使用以下命令安装 Emotion：

```bash
npm install @emotion/react @emotion/styled
```

或者使用 Yarn：

```bash
yarn add @emotion/react @emotion/styled
```

安装完成后，你就可以在 Next.js 项目中使用 Emotion 了。

## 使用 Emotion 编写样式

Emotion 提供了两种主要的样式编写方式：**`css` 属性** 和 **`styled` 组件**。

### 1. 使用 `css` 属性

`css` 属性是 Emotion 提供的一种直接在 JSX 元素上应用样式的方式。以下是一个简单的示例：

```jsx
/** @jsxImportSource @emotion/react */
import { css } from '@emotion/react';

function MyComponent() {
  return (
    <div
      css={css`
        background-color: #f0f0f0;
        padding: 20px;
        border-radius: 8px;
      `}
    >
      Hello, Emotion!
    </div>
  );
}

export default MyComponent;
```

在这个示例中，我们使用 `css` 属性为 `div` 元素添加了背景颜色、内边距和圆角样式。

### 2. 使用 `styled` 组件

`styled` 组件是 Emotion 提供的另一种样式编写方式，它允许你创建带有样式的 React 组件。以下是一个使用 `styled` 组件的示例：

```jsx
import styled from '@emotion/styled';

const StyledButton = styled.button`
  background-color: #0070f3;
  color: white;
  padding: 10px 20px;
  border: none;
  border-radius: 5px;
  cursor: pointer;

  &:hover {
    background-color: #005bb5;
  }
`;

function MyComponent() {
  return <StyledButton>Click Me</StyledButton>;
}

export default MyComponent;
```

在这个示例中，我们创建了一个带有样式的按钮组件 `StyledButton`，并在 `MyComponent` 中使用它。

## 动态样式

Emotion 的一个强大功能是能够根据组件的 props 或状态动态生成样式。以下是一个动态样式的示例：

```jsx
/** @jsxImportSource @emotion/react */
import { css } from '@emotion/react';

function DynamicComponent({ isActive }) {
  return (
    <div
      css={css`
        background-color: ${isActive ? 'green' : 'red'};
        padding: 20px;
        border-radius: 8px;
        color: white;
      `}
    >
      {isActive ? 'Active' : 'Inactive'}
    </div>
  );
}

export default DynamicComponent;
```

在这个示例中，`DynamicComponent` 的背景颜色会根据 `isActive` prop 的值动态变化。

## 实际案例：主题化

Emotion 非常适合用于实现主题化功能。以下是一个简单的主题化示例：

```jsx
/** @jsxImportSource @emotion/react */
import { css, Global, ThemeProvider } from '@emotion/react';

const theme = {
  colors: {
    primary: '#0070f3',
    secondary: '#ff4081',
  },
};

function MyApp({ Component, pageProps }) {
  return (
    <ThemeProvider theme={theme}>
      <Global
        styles={css`
          body {
            margin: 0;
            padding: 0;
            font-family: Arial, sans-serif;
          }
        `}
      />
      <Component {...pageProps} />
    </ThemeProvider>
  );
}

export default MyApp;
```

在这个示例中，我们使用 `ThemeProvider` 提供了一个主题对象，并在组件中使用主题中的颜色。

## 总结

Emotion 是一个功能强大且灵活的 CSS-in-JS 库，非常适合在 Next.js 项目中使用。通过本文，你已经学会了如何在 Next.js 中安装和使用 Emotion，以及如何编写动态样式和实现主题化功能。

## 附加资源

- [Emotion 官方文档](https://emotion.sh/docs/introduction)
- [Next.js 官方文档](https://nextjs.org/docs)

## 练习

1. 在你的 Next.js 项目中安装 Emotion，并尝试使用 `css` 属性和 `styled` 组件编写样式。
2. 创建一个动态样式的组件，根据 props 或状态改变样式。
3. 实现一个简单的主题化功能，并在组件中使用主题中的颜色。

通过练习，你将更好地掌握 Emotion 的使用方法，并能够在实际项目中应用它。