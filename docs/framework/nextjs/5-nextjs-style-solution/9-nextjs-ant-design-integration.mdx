---
title: Next.js Ant Design 集成
description: "学习如何在 Next.js 项目中集成 Ant Design，并使用其强大的 UI 组件库来构建现代化的 Web 应用。"
---

## 介绍

Ant Design 是一个流行的 React UI 组件库，提供了丰富的预构建组件，可以帮助开发者快速构建现代化的用户界面。Next.js 是一个强大的 React 框架，支持服务器端渲染（SSR）和静态站点生成（SSG）。将 Ant Design 与 Next.js 集成，可以让你在构建高性能 Web 应用时，充分利用两者的优势。

在本教程中，我们将逐步讲解如何在 Next.js 项目中集成 Ant Design，并通过实际案例展示其应用场景。

## 安装 Ant Design

首先，我们需要在 Next.js 项目中安装 Ant Design 及其依赖项。打开终端并运行以下命令：

```bash
npm install antd
```

或者，如果你使用的是 Yarn：

```bash
yarn add antd
```

## 配置 Ant Design 的样式

Ant Design 使用 Less 作为样式预处理器。为了在 Next.js 中使用 Ant Design 的样式，我们需要配置项目以支持 Less。

1. 安装 `@zeit/next-less` 和 `less`：

```bash
npm install @zeit/next-less less
```

2. 在项目根目录下创建或修改 `next.config.js` 文件，添加以下配置：

```javascript
const withLess = require('@zeit/next-less');

module.exports = withLess({
  lessLoaderOptions: {
    javascriptEnabled: true,
  },
});
```

## 使用 Ant Design 组件

现在，我们可以在 Next.js 项目中使用 Ant Design 的组件了。让我们创建一个简单的页面来展示如何使用 Ant Design 的 `Button` 组件。

1. 在 `pages/index.js` 中，添加以下代码：

```javascript
import { Button } from 'antd';

export default function Home() {
  return (
    <div style={{ padding: '20px' }}>
      <h1>Welcome to Next.js with Ant Design</h1>
      <Button type="primary">Click Me</Button>
    </div>
  );
}
```

2. 运行项目：

```bash
npm run dev
```

3. 打开浏览器并访问 `http://localhost:3000`，你将看到一个带有 Ant Design 按钮的页面。

## 自定义主题

Ant Design 允许你通过修改 Less 变量来自定义主题。我们可以通过以下步骤来实现：

1. 在项目根目录下创建一个 `styles/variables.less` 文件，并添加以下内容：

```less
@primary-color: #1890ff; // 修改主题色
```

2. 修改 `next.config.js` 文件，引入自定义的 Less 变量：

```javascript
const withLess = require('@zeit/next-less');
const path = require('path');

module.exports = withLess({
  lessLoaderOptions: {
    javascriptEnabled: true,
    modifyVars: {
      hack: `true; @import "${path.resolve(__dirname, 'styles/variables.less')}";`,
    },
  },
});
```

3. 重新启动项目，你将看到主题色已经更改为自定义的颜色。

## 实际案例

让我们通过一个实际案例来展示如何在 Next.js 项目中使用 Ant Design 构建一个简单的表单。

1. 在 `pages/form.js` 中，添加以下代码：

```javascript
import { Form, Input, Button } from 'antd';

export default function FormPage() {
  const onFinish = (values) => {
    console.log('Received values of form: ', values);
  };

  return (
    <div style={{ padding: '20px' }}>
      <h1>Ant Design Form Example</h1>
      <Form onFinish={onFinish}>
        <Form.Item
          label="Username"
          name="username"
          rules={[{ required: true, message: 'Please input your username!' }]}
        >
          <Input />
        </Form.Item>
        <Form.Item
          label="Password"
          name="password"
          rules={[{ required: true, message: 'Please input your password!' }]}
        >
          <Input.Password />
        </Form.Item>
        <Form.Item>
          <Button type="primary" htmlType="submit">
            Submit
          </Button>
        </Form.Item>
      </Form>
    </div>
  );
}
```

2. 访问 `http://localhost:3000/form`，你将看到一个带有验证功能的表单。

## 总结

通过本教程，你已经学会了如何在 Next.js 项目中集成 Ant Design，并使用其丰富的 UI 组件库来构建现代化的 Web 应用。我们还展示了如何自定义 Ant Design 的主题，并通过实际案例演示了其应用场景。

## 附加资源

- [Ant Design 官方文档](https://ant.design/docs/react/introduce)
- [Next.js 官方文档](https://nextjs.org/docs)
- [Less 官方文档](http://lesscss.org/)

## 练习

1. 尝试在 Next.js 项目中使用 Ant Design 的 `Table` 组件来展示数据。
2. 自定义 Ant Design 的主题，将主题色更改为你喜欢的颜色。
3. 创建一个包含多个 Ant Design 组件的复杂页面，并尝试使用 Ant Design 的布局组件来组织页面结构。
