---
title: Next.js Material UI 集成
description: "学习如何在 Next.js 项目中集成 Material UI，并利用其强大的组件库和样式解决方案来构建现代化的用户界面。"
---

# Next.js Material UI 集成

在现代 Web 开发中，Next.js 和 Material UI 是两个非常流行的工具。Next.js 是一个基于 React 的框架，提供了服务器端渲染、静态生成等功能，而 Material UI 是一个基于 Google Material Design 的 React 组件库，提供了丰富的 UI 组件和样式解决方案。将两者结合使用，可以帮助开发者快速构建现代化的用户界面。

本文将详细介绍如何在 Next.js 项目中集成 Material UI，并通过实际案例展示其应用场景。

## 1. 安装 Material UI

首先，我们需要在 Next.js 项目中安装 Material UI 的核心库和样式依赖。打开终端并运行以下命令：

```bash
npm install @mui/material @emotion/react @emotion/styled
```

这些包分别是 Material UI 的核心库、Emotion（用于样式处理）以及样式化的组件库。

## 2. 配置 Material UI 与 Next.js

Next.js 默认使用 CSS-in-JS 解决方案来处理样式，而 Material UI 也使用 Emotion 作为其样式引擎。为了确保两者兼容，我们需要对 Next.js 进行一些配置。

### 2.1 创建 `_document.js` 文件

在 Next.js 中，`_document.js` 文件用于自定义文档结构。我们需要在该文件中添加 Material UI 的样式注入逻辑。

在 `pages` 目录下创建 `_document.js` 文件，并添加以下内容：

```javascript
import React from 'react';
import Document, { Html, Head, Main, NextScript } from 'next/document';
import { ServerStyleSheets } from '@mui/styles';

class MyDocument extends Document {
  static async getInitialProps(ctx) {
    const sheets = new ServerStyleSheets();
    const originalRenderPage = ctx.renderPage;

    ctx.renderPage = () =>
      originalRenderPage({
        enhanceApp: (App) => (props) => sheets.collect(<App {...props} />),
      });

    const initialProps = await Document.getInitialProps(ctx);

    return {
      ...initialProps,
      styles: [...React.Children.toArray(initialProps.styles), sheets.getStyleElement()],
    };
  }

  render() {
    return (
      <Html>
        <Head />
        <body>
          <Main />
          <NextScript />
        </body>
      </Html>
    );
  }
}

export default MyDocument;
```

### 2.2 创建 `_app.js` 文件

Next.js 使用 `_app.js` 文件来初始化页面。我们需要在该文件中设置 Material UI 的主题和样式。

在 `pages` 目录下创建 `_app.js` 文件，并添加以下内容：

```javascript
import React from 'react';
import { ThemeProvider, createTheme } from '@mui/material/styles';
import CssBaseline from '@mui/material/CssBaseline';

const theme = createTheme();

function MyApp({ Component, pageProps }) {
  return (
    <ThemeProvider theme={theme}>
      <CssBaseline />
      <Component {...pageProps} />
    </ThemeProvider>
  );
}

export default MyApp;
```

## 3. 使用 Material UI 组件

现在，我们已经完成了 Material UI 的配置，可以在 Next.js 项目中使用 Material UI 的组件了。

### 3.1 创建一个简单的页面

让我们创建一个简单的页面，使用 Material UI 的 `Button` 和 `Typography` 组件。

在 `pages` 目录下创建 `index.js` 文件，并添加以下内容：

```javascript
import React from 'react';
import Button from '@mui/material/Button';
import Typography from '@mui/material/Typography';

export default function Home() {
  return (
    <div>
      <Typography variant="h1" component="h1" gutterBottom>
        Welcome to Next.js with Material UI
      </Typography>
      <Button variant="contained" color="primary">
        Click Me
      </Button>
    </div>
  );
}
```

### 3.2 运行项目

现在，运行项目并查看效果：

```bash
npm run dev
```

打开浏览器并访问 `http://localhost:3000`，你将看到一个带有 Material UI 样式的页面。

## 4. 实际应用场景

Material UI 提供了丰富的组件库，适用于各种应用场景。以下是一些常见的应用场景：

- **表单**：使用 `TextField`、`Select`、`Checkbox` 等组件构建复杂的表单。
- **导航**：使用 `AppBar`、`Drawer`、`Tabs` 等组件构建导航栏和侧边栏。
- **数据展示**：使用 `Table`、`Card`、`List` 等组件展示数据。

## 5. 总结

通过本文，我们学习了如何在 Next.js 项目中集成 Material UI，并创建了一个简单的页面来展示 Material UI 组件的使用。Material UI 提供了丰富的组件和样式解决方案，可以帮助开发者快速构建现代化的用户界面。

## 6. 附加资源与练习

- **官方文档**：阅读 [Material UI 官方文档](https://mui.com/) 以了解更多组件和样式解决方案。
- **练习**：尝试在 Next.js 项目中使用 Material UI 的其他组件，如 `TextField`、`Table` 等，并构建一个完整的表单页面。

希望本文对你理解 Next.js 和 Material UI 的集成有所帮助！继续探索和实践，你将能够构建出更加复杂和现代化的 Web 应用。