---
title: Next.js 环境搭建
description: 学习如何从零开始搭建Next.js开发环境，适合初学者快速上手。
---

## 介绍

Next.js 是一个基于 React 的框架，提供了服务器端渲染（SSR）、静态站点生成（SSG）和客户端渲染（CSR）等功能。它极大地简化了 React 应用的开发流程，并提供了开箱即用的优化功能。在开始使用 Next.js 之前，首先需要搭建一个开发环境。本文将逐步指导你如何完成这一过程。

## 环境要求

在开始之前，请确保你的系统满足以下要求：

- **Node.js**: 版本 12 或更高。
- **npm** 或 **yarn**: 用于安装依赖包。

:::tip
如果你还没有安装 Node.js，可以从 [Node.js 官网](https://nodejs.org/) 下载并安装最新版本。
:::

## 创建 Next.js 项目

### 1. 使用 `create-next-app` 脚手架

Next.js 提供了一个官方的脚手架工具 `create-next-app`，可以帮助你快速创建一个新的 Next.js 项目。

打开终端并运行以下命令：

```bash
npx create-next-app@latest my-next-app
```

这里的 `my-next-app` 是你的项目名称，你可以根据需要更改它。

### 2. 进入项目目录

创建完成后，进入项目目录：

```bash
cd my-next-app
```

### 3. 启动开发服务器

在项目目录中，运行以下命令启动开发服务器：

```bash
npm run dev
```

或者，如果你使用的是 yarn：

```bash
yarn dev
```

启动后，打开浏览器并访问 `http://localhost:3000`，你应该会看到 Next.js 的欢迎页面。

:::note
如果你看到 "Welcome to Next.js!" 的页面，说明你的环境已经成功搭建。
:::

## 项目结构

在创建项目后，你会看到以下目录结构：

```
my-next-app/
├── node_modules/
├── public/
├── styles/
├── pages/
│   ├── api/
│   ├── _app.js
│   └── index.js
├── .gitignore
├── package.json
├── README.md
└── next.config.js
```

### 主要文件和目录说明

- **`pages/`**: 这是 Next.js 的核心目录，用于存放页面文件。每个文件都会自动映射到一个路由。
- **`public/`**: 用于存放静态资源，如图片、字体等。
- **`styles/`**: 用于存放 CSS 文件。
- **`package.json`**: 项目的依赖和脚本配置。

## 自定义页面

Next.js 的路由是基于 `pages/` 目录的文件结构自动生成的。例如，`pages/index.js` 对应的是根路由 `/`。

让我们创建一个新的页面 `about.js`：

1. 在 `pages/` 目录下创建一个新文件 `about.js`。
2. 在文件中添加以下代码：

```javascript
export default function About() {
  return <h1>About Page</h1>;
}
```

3. 保存文件后，访问 `http://localhost:3000/about`，你会看到 "About Page" 的标题。

:::caution
确保文件名和路径名一致，否则可能会导致路由错误。
:::

## 实际应用场景

Next.js 的环境搭建是开发任何 Next.js 应用的第一步。无论是构建一个简单的博客网站，还是一个复杂的电子商务平台，Next.js 都能提供强大的支持。

### 案例：构建一个博客网站

假设你想构建一个博客网站，你可以利用 Next.js 的静态生成功能来预渲染博客文章。以下是一个简单的示例：

1. 在 `pages/` 目录下创建一个 `posts/` 目录。
2. 在 `posts/` 目录下创建一个 `[id].js` 文件，用于动态生成博客文章页面。
3. 使用 `getStaticPaths` 和 `getStaticProps` 来预渲染页面。

```javascript
import { useRouter } from 'next/router';

export default function Post() {
  const router = useRouter();
  const { id } = router.query;

  return <p>Post: {id}</p>;
}

export async function getStaticPaths() {
  return {
    paths: [{ params: { id: '1' } }, { params: { id: '2' } }],
    fallback: false,
  };
}

export async function getStaticProps({ params }) {
  return {
    props: {
      id: params.id,
    },
  };
}
```

在这个示例中，`getStaticPaths` 定义了预渲染的路径，而 `getStaticProps` 用于在构建时获取数据。

## 总结

通过本文，你已经学会了如何从零开始搭建 Next.js 开发环境，并创建了一个简单的 Next.js 项目。我们还探讨了如何自定义页面以及如何在实际项目中应用 Next.js 的功能。

:::tip
如果你想深入学习 Next.js，可以参考 [Next.js 官方文档](https://nextjs.org/docs)。
:::

## 附加资源

- [Next.js 官方文档](https://nextjs.org/docs)
- [React 官方文档](https://reactjs.org/docs/getting-started.html)
- [Node.js 官方文档](https://nodejs.org/en/docs/)

## 练习

1. 尝试创建一个新的 Next.js 项目，并添加一个 `contact.js` 页面。
2. 使用 `getStaticProps` 和 `getStaticPaths` 预渲染一个包含多个动态路由的页面。
3. 探索 Next.js 的其他功能，如 API 路由和 CSS 模块。

祝你学习愉快！