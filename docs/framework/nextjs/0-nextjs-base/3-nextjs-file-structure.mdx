---
title: Next.js 文件结构
description: 了解 Next.js 项目的文件结构，掌握如何组织代码以实现高效开发。
---

Next.js 是一个功能强大的 React 框架，提供了开箱即用的功能，如服务器端渲染（SSR）、静态生成（SSG）和 API 路由。为了充分利用这些功能，理解 Next.js 的文件结构至关重要。本文将详细介绍 Next.js 项目的文件结构，帮助你快速上手并高效组织代码。

## 1. 项目根目录

当你使用 `npx create-next-app` 创建一个新的 Next.js 项目时，会生成以下文件和文件夹：

```
my-next-app/
├── node_modules/
├── public/
├── styles/
├── pages/
├── .gitignore
├── package.json
├── README.md
└── next.config.js
```

### 1.1 `node_modules/`
这是存放项目依赖的文件夹。所有通过 `npm` 或 `yarn` 安装的包都会存储在这里。

### 1.2 `public/`
`public` 文件夹用于存放静态资源，如图片、字体和图标。这些资源可以通过 `/` 路径直接访问。例如，`public/logo.png` 可以通过 `/logo.png` 访问。

### 1.3 `styles/`
`styles` 文件夹通常用于存放全局样式文件。Next.js 默认支持 CSS 模块，因此你可以为每个组件创建独立的样式文件。

### 1.4 `pages/`
`pages` 文件夹是 Next.js 的核心部分。每个文件都会自动映射为一个路由。例如，`pages/index.js` 对应根路径 `/`，而 `pages/about.js` 对应 `/about` 路径。

### 1.5 `package.json`
`package.json` 文件包含了项目的依赖和脚本配置。你可以在这里定义启动、构建和测试项目的命令。

### 1.6 `next.config.js`
`next.config.js` 是 Next.js 的配置文件。你可以在这里自定义 Webpack 配置、环境变量等。

## 2. `pages/` 文件夹详解

`pages` 文件夹是 Next.js 项目的核心，它决定了项目的路由结构。以下是一些常见的文件和文件夹：

### 2.1 基本路由
- `pages/index.js`：对应根路径 `/`。
- `pages/about.js`：对应 `/about` 路径。

### 2.2 动态路由
Next.js 支持动态路由，允许你根据 URL 参数动态生成页面。例如，`pages/posts/[id].js` 可以匹配 `/posts/1`、`/posts/2` 等路径。

```javascript
// pages/posts/[id].js
import { useRouter } from 'next/router';

export default function Post() {
  const router = useRouter();
  const { id } = router.query;

  return <p>Post: {id}</p>;
}
```

### 2.3 API 路由
Next.js 允许你在 `pages/api/` 文件夹下创建 API 路由。这些路由会自动映射为 `/api/*` 路径。

```javascript
// pages/api/hello.js
export default function handler(req, res) {
  res.status(200).json({ message: 'Hello, world!' });
}
```

## 3. `public/` 文件夹详解

`public` 文件夹用于存放静态资源。你可以通过 `/` 路径直接访问这些资源。

```javascript
// 访问 public/logo.png
<img src="/logo.png" alt="Logo" />
```

## 4. `styles/` 文件夹详解

Next.js 支持多种样式解决方案，包括 CSS 模块、Sass 和 CSS-in-JS。你可以在 `styles` 文件夹中组织你的样式文件。

```css
/* styles/globals.css */
body {
  font-family: Arial, sans-serif;
}
```

```javascript
// pages/index.js
import styles from '../styles/Home.module.css';

export default function Home() {
  return <h1 className={styles.title}>Welcome to Next.js!</h1>;
}
```

## 5. 实际案例

假设你正在开发一个博客网站，以下是一个可能的文件结构：

```
my-blog/
├── public/
│   ├── images/
│   └── favicon.ico
├── pages/
│   ├── index.js
│   ├── about.js
│   ├── posts/
│   │   ├── [id].js
│   │   └── index.js
│   └── api/
│       └── posts.js
├── styles/
│   ├── globals.css
│   └── Home.module.css
└── next.config.js
```

在这个结构中：
- `pages/index.js` 是博客的主页。
- `pages/posts/[id].js` 用于显示单个博客文章。
- `pages/api/posts.js` 是一个 API 路由，用于获取博客文章数据。

## 6. 总结

Next.js 的文件结构设计得非常直观，使得开发者可以轻松组织代码并快速构建应用。通过理解 `pages`、`public` 和 `styles` 文件夹的作用，你可以更好地利用 Next.js 的功能，提高开发效率。

## 7. 附加资源与练习

- **练习**：尝试创建一个新的 Next.js 项目，并添加一个动态路由页面。
- **资源**：阅读 [Next.js 官方文档](https://nextjs.org/docs) 以深入了解文件结构和路由机制。

:::tip
如果你在开发过程中遇到问题，可以随时查阅 Next.js 的官方文档或社区论坛，获取帮助和支持。
:::