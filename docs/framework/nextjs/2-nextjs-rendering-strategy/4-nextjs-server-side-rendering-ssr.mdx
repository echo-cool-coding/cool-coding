---
title: Next.js 服务器端渲染 (SSR)
description: "了解 Next.js 中的服务器端渲染 (SSR) 是什么，为什么它很重要，以及如何在你的项目中实现它。"
---

## 什么是服务器端渲染 (SSR)？

服务器端渲染（Server-Side Rendering，简称 SSR）是一种在服务器上生成 HTML 页面并将其发送到客户端的技术。与客户端渲染（CSR）不同，SSR 在服务器上完成页面的渲染工作，然后将完整的 HTML 页面发送给浏览器。这使得页面在加载时已经包含了所有必要的内容，从而提高了页面的初始加载速度和搜索引擎优化（SEO）。

在 Next.js 中，SSR 是一种默认支持的渲染策略，允许你在服务器上动态生成页面内容。

## 为什么使用 SSR？

1. **更快的初始加载速度**：由于页面在服务器上已经渲染完成，浏览器只需显示 HTML，而不需要等待 JavaScript 加载和执行。
2. **更好的 SEO**：搜索引擎可以更好地抓取和索引 SSR 页面，因为页面内容在服务器上已经生成。
3. **更好的用户体验**：用户可以看到页面的内容更快，尤其是在网络较慢或设备性能较低的情况下。

## 如何在 Next.js 中实现 SSR？

在 Next.js 中，你可以通过 `getServerSideProps` 函数来实现 SSR。这个函数在每次请求时都会在服务器上运行，并返回页面所需的数据。

### 示例代码

以下是一个简单的 Next.js 页面示例，展示了如何使用 `getServerSideProps` 实现 SSR：

```jsx
import React from 'react';

export default function Home({ data }) {
  return (
    <div>
      <h1>服务器端渲染示例</h1>
      <p>数据: {data}</p>
    </div>
  );
}

export async function getServerSideProps() {
  // 模拟从 API 获取数据
  const res = await fetch('https://api.example.com/data');
  const data = await res.json();

  return {
    props: {
      data,
    },
  };
}
```

### 代码解释

1. **`getServerSideProps` 函数**：这个函数在每次请求时都会在服务器上运行。它可以从 API 或其他数据源获取数据，并将数据作为 `props` 传递给页面组件。
2. **页面组件**：页面组件接收 `getServerSideProps` 返回的数据，并将其渲染到页面上。

### 输入与输出

- **输入**：用户在浏览器中访问页面时，Next.js 服务器会调用 `getServerSideProps` 函数。
- **输出**：服务器生成包含数据的 HTML 页面，并将其发送给浏览器。

## 实际应用场景

SSR 在许多实际场景中非常有用，例如：

1. **动态内容页面**：如新闻网站、博客等，这些页面的内容经常变化，需要在每次请求时从服务器获取最新数据。
2. **SEO 关键页面**：如产品详情页、公司介绍页等，这些页面需要被搜索引擎很好地索引。
3. **用户个性化页面**：如用户仪表盘、个人资料页等，这些页面需要根据用户的不同显示不同的内容。

## 总结

服务器端渲染（SSR）是 Next.js 中一种强大的渲染策略，能够显著提高页面的初始加载速度和 SEO 表现。通过 `getServerSideProps` 函数，你可以轻松地在 Next.js 中实现 SSR，并根据需要动态生成页面内容。

## 附加资源与练习

- **官方文档**：[Next.js 服务器端渲染文档](https://nextjs.org/docs/basic-features/data-fetching/get-server-side-props)
- **练习**：尝试创建一个 Next.js 项目，并使用 `getServerSideProps` 从公共 API 获取数据并渲染到页面上。

:::tip
如果你对 SSR 还有其他疑问，可以参考 Next.js 官方文档或加入社区讨论，获取更多帮助。
:::