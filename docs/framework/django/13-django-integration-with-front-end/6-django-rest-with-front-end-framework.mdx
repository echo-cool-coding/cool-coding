---
title: Django REST与前端框架
description: 了解如何使用Django REST框架与前端框架（如React、Vue.js）集成，构建现代化的全栈Web应用程序。
---

# Django REST与前端框架

在现代Web开发中，后端和前端通常被分离为独立的组件。后端负责处理数据和业务逻辑，而前端则负责用户界面和交互。Django REST框架（DRF）是一个强大的工具，用于构建RESTful API，而前端框架（如React或Vue.js）则用于构建动态的用户界面。本文将介绍如何将Django REST框架与前端框架集成，构建一个完整的全栈应用程序。

## 什么是Django REST框架？

Django REST框架（DRF）是Django的一个扩展，用于快速构建RESTful API。它提供了序列化、视图、认证、权限等功能，使得开发者可以轻松地将Django模型暴露为API端点。

## 为什么需要与前端框架集成？

前端框架（如React、Vue.js、Angular）提供了强大的工具来构建动态、响应式的用户界面。通过将Django REST框架与前端框架集成，我们可以构建一个前后端分离的应用程序，后端负责提供数据，前端负责展示和交互。

## 如何集成Django REST与前端框架？

### 1. 创建Django REST API

首先，我们需要创建一个Django项目，并设置Django REST框架来提供API。

```bash
# 创建Django项目
django-admin startproject myproject
cd myproject

# 创建Django应用
python manage.py startapp myapp
```

接下来，安装Django REST框架：

```bash
pip install djangorestframework
```

在`settings.py`中，将`rest_framework`添加到`INSTALLED_APPS`：

```python
INSTALLED_APPS = [
    ...
    'rest_framework',
    'myapp',
]
```

然后，创建一个简单的模型和序列化器：

```python
# myapp/models.py
from django.db import models

class Task(models.Model):
    title = models.CharField(max_length=200)
    completed = models.BooleanField(default=False)

    def __str__(self):
        return self.title

# myapp/serializers.py
from rest_framework import serializers
from .models import Task

class TaskSerializer(serializers.ModelSerializer):
    class Meta:
        model = Task
        fields = '__all__'
```

接下来，创建视图和URL：

```python
# myapp/views.py
from rest_framework import viewsets
from .models import Task
from .serializers import TaskSerializer

class TaskViewSet(viewsets.ModelViewSet):
    queryset = Task.objects.all()
    serializer_class = TaskSerializer

# myapp/urls.py
from django.urls import path, include
from rest_framework.routers import DefaultRouter
from .views import TaskViewSet

router = DefaultRouter()
router.register(r'tasks', TaskViewSet)

urlpatterns = [
    path('', include(router.urls)),
]
```

最后，将应用的URL包含到项目的URL配置中：

```python
# myproject/urls.py
from django.contrib import admin
from django.urls import path, include

urlpatterns = [
    path('admin/', admin.site.urls),
    path('api/', include('myapp.urls')),
]
```

现在，你可以运行Django开发服务器并访问`http://localhost:8000/api/tasks/`来查看API。

### 2. 创建前端应用

接下来，我们使用React作为前端框架来展示如何与Django REST API集成。

首先，创建一个React应用：

```bash
npx create-react-app myfrontend
cd myfrontend
```

在`src/App.js`中，编写代码来获取并展示任务列表：

```javascript
import React, { useEffect, useState } from 'react';

function App() {
  const [tasks, setTasks] = useState([]);

  useEffect(() => {
    fetch('http://localhost:8000/api/tasks/')
      .then(response => response.json())
      .then(data => setTasks(data));
  }, []);

  return (
    <div>
      <h1>Tasks</h1>
      <ul>
        {tasks.map(task => (
          <li key={task.id}>
            {task.title} - {task.completed ? 'Completed' : 'Not Completed'}
          </li>
        ))}
      </ul>
    </div>
  );
}

export default App;
```

### 3. 处理跨域请求

由于前端和后端运行在不同的端口上（React默认运行在3000端口，Django运行在8000端口），我们需要处理跨域请求。可以使用`django-cors-headers`库来解决这个问题。

首先，安装`django-cors-headers`：

```bash
pip install django-cors-headers
```

然后，在`settings.py`中进行配置：

```python
INSTALLED_APPS = [
    ...
    'corsheaders',
    ...
]

MIDDLEWARE = [
    ...
    'corsheaders.middleware.CorsMiddleware',
    'django.middleware.common.CommonMiddleware',
    ...
]

CORS_ORIGIN_ALLOW_ALL = True
```

### 4. 运行应用程序

现在，你可以同时运行Django和React应用：

```bash
# 在Django项目目录中运行
python manage.py runserver

# 在React项目目录中运行
npm start
```

访问`http://localhost:3000`，你应该能够看到从Django REST API获取的任务列表。

## 实际应用场景

假设你正在构建一个任务管理应用程序。后端使用Django REST框架来管理任务数据，前端使用React来展示任务列表并允许用户添加、编辑和删除任务。通过这种前后端分离的架构，你可以轻松地扩展和维护应用程序。

## 总结

通过将Django REST框架与前端框架（如React）集成，你可以构建现代化的全栈Web应用程序。Django REST框架提供了强大的API功能，而前端框架则提供了丰富的用户界面和交互功能。这种前后端分离的架构使得应用程序更易于扩展和维护。

## 附加资源与练习

- **练习**：尝试在React应用中添加一个表单，允许用户创建新的任务并将其保存到Django后端。
- **资源**：
  - [Django REST框架官方文档](https://www.django-rest-framework.org/)
  - [React官方文档](https://reactjs.org/docs/getting-started.html)
  - [django-cors-headers文档](https://pypi.org/project/django-cors-headers/)

通过不断练习和探索，你将能够掌握Django REST与前端框架的集成，并构建出功能强大的全栈应用程序。