---
title: Django 静态文件
description: 了解如何在Django项目中管理和使用静态文件，包括CSS、JavaScript和图片等资源。
---

# Django 静态文件

在开发Web应用程序时，静态文件（如CSS、JavaScript和图片）是不可或缺的。Django提供了一个强大的静态文件管理系统，使得开发者可以轻松地在项目中管理和使用这些资源。本文将详细介绍如何在Django项目中处理静态文件，并通过实际案例展示其应用。

## 什么是静态文件？

静态文件是指那些在服务器端不会发生变化的文件，通常包括：

- **CSS文件**：用于定义网页的样式。
- **JavaScript文件**：用于实现网页的交互功能。
- **图片**：用于展示在网页中的图像资源。

在Django中，静态文件通常存储在项目的`static`目录中，并通过模板系统在HTML页面中引用。

## 配置静态文件

在Django项目中，首先需要在`settings.py`文件中配置静态文件的路径。以下是配置静态文件的基本步骤：

1. **设置`STATIC_URL`**：这是静态文件的URL前缀，通常设置为`/static/`。

   ```python
   STATIC_URL = '/static/'
   ```

2. **设置`STATICFILES_DIRS`**：这是一个列表，用于指定静态文件的存储路径。通常，我们会将静态文件放在项目的`static`目录中。

   ```python
   STATICFILES_DIRS = [
       BASE_DIR / "static",
   ]
   ```

3. **设置`STATIC_ROOT`**：这是在生产环境中收集静态文件的目录。在开发环境中，通常不需要设置这个变量。

   ```python
   STATIC_ROOT = BASE_DIR / "staticfiles"
   ```

## 在模板中使用静态文件

在Django模板中，可以使用`{% static %}`模板标签来引用静态文件。以下是一个简单的示例：

```html
{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Django Project</title>
    <link rel="stylesheet" href="{% static 'css/styles.css' %}">
</head>
<body>
    <h1>Welcome to My Django Project</h1>
    <img src="{% static 'images/logo.png' %}" alt="Logo">
    <script src="{% static 'js/scripts.js' %}"></script>
</body>
</html>
```

在这个示例中，`{% load static %}`用于加载静态文件标签，`{% static 'path/to/file' %}`用于生成静态文件的URL。

## 实际案例

假设我们正在开发一个博客网站，需要在首页展示一些图片和样式。我们可以按照以下步骤操作：

1. **创建静态文件目录**：在项目根目录下创建`static`目录，并在其中创建`css`、`js`和`images`子目录。

2. **添加静态文件**：将CSS文件放入`static/css`目录，JavaScript文件放入`static/js`目录，图片放入`static/images`目录。

3. **在模板中引用静态文件**：在首页模板中引用这些静态文件，如下所示：

   ```html
   {% load static %}
   <!DOCTYPE html>
   <html lang="en">
   <head>
       <meta charset="UTF-8">
       <meta name="viewport" content="width=device-width, initial-scale=1.0">
       <title>My Blog</title>
       <link rel="stylesheet" href="{% static 'css/styles.css' %}">
   </head>
   <body>
       <h1>Welcome to My Blog</h1>
       <img src="{% static 'images/header.jpg' %}" alt="Header Image">
       <script src="{% static 'js/scripts.js' %}"></script>
   </body>
   </html>
   ```

## 总结

通过本文，我们了解了如何在Django项目中管理和使用静态文件。我们学习了如何配置静态文件的路径，如何在模板中引用静态文件，并通过一个实际案例展示了静态文件的应用场景。

:::tip
在生产环境中，记得使用`collectstatic`命令将所有静态文件收集到`STATIC_ROOT`目录中，以便Web服务器能够正确提供这些文件。
:::

## 附加资源

- [Django官方文档 - 静态文件](https://docs.djangoproject.com/en/stable/howto/static-files/)
- [Django模板语言 - 静态文件标签](https://docs.djangoproject.com/en/stable/ref/templates/builtins/#static)

## 练习

1. 在你的Django项目中创建一个`static`目录，并添加一些CSS、JavaScript和图片文件。
2. 在模板中使用`{% static %}`标签引用这些静态文件，并在浏览器中查看效果。
3. 尝试在生产环境中使用`collectstatic`命令，并配置Web服务器以提供静态文件。

通过完成这些练习，你将更好地掌握Django中静态文件的使用方法。