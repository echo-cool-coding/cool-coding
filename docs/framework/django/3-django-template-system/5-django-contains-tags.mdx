---
title: Django 包含标签
description: "了解Django模板系统中的包含标签（include tag），掌握如何在模板中复用代码片段，提升开发效率。"
---

## 介绍

在Django模板系统中，**包含标签**（`{% include %}`）是一种强大的工具，它允许你将一个模板文件的内容嵌入到另一个模板中。这种机制非常适合用于复用代码片段，例如页眉、页脚、导航栏等常见的页面组件。通过使用包含标签，你可以避免重复代码，使模板更加模块化和易于维护。

## 基本语法

包含标签的基本语法如下：

```django
{% include "模板路径" %}
```

其中，`模板路径`是你要包含的模板文件的路径。这个路径可以是相对路径，也可以是绝对路径。

### 示例

假设我们有一个名为 `header.html` 的模板文件，内容如下：

```html
<header>
    <h1>欢迎来到我的网站</h1>
    <nav>
        <a href="/">首页</a>
        <a href="/about/">关于我们</a>
    </nav>
</header>
```

我们可以在另一个模板中使用包含标签来引入这个 `header.html` 文件：

```django
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>我的网站</title>
</head>
<body>
    {% include "header.html" %}
    <main>
        <p>这是网站的主要内容。</p>
    </main>
</body>
</html>
```

### 输出结果

渲染后的HTML将如下所示：

```html
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>我的网站</title>
</head>
<body>
    <header>
        <h1>欢迎来到我的网站</h1>
        <nav>
            <a href="/">首页</a>
            <a href="/about/">关于我们</a>
        </nav>
    </header>
    <main>
        <p>这是网站的主要内容。</p>
    </main>
</body>
</html>
```

## 传递上下文变量

包含标签不仅可以包含静态模板，还可以传递上下文变量。你可以在包含标签中使用 `with` 关键字来传递变量。

### 示例

假设我们有一个 `greeting.html` 模板文件，内容如下：

```html
<p>你好，{{ name }}！</p>
```

我们可以在另一个模板中传递 `name` 变量：

```django
{% include "greeting.html" with name="张三" %}
```

### 输出结果

渲染后的HTML将如下所示：

```html
<p>你好，张三！</p>
```

## 实际应用场景

### 1. 复用页面组件

在大多数网站中，页眉和页脚通常是多个页面共享的组件。通过使用包含标签，你可以将这些组件提取到单独的模板文件中，然后在每个页面中引入它们。

### 2. 动态加载内容

你可以根据不同的条件动态加载不同的模板。例如，根据用户的登录状态显示不同的导航栏：

```django
{% if user.is_authenticated %}
    {% include "navbar_authenticated.html" %}
{% else %}
    {% include "navbar_anonymous.html" %}
{% endif %}
```

### 3. 模块化开发

在大型项目中，模板文件可能会变得非常复杂。通过使用包含标签，你可以将模板拆分为多个小模块，每个模块负责一个特定的功能。这样不仅提高了代码的可读性，还便于团队协作。

## 总结

Django的包含标签是一个非常实用的功能，它可以帮助你复用代码片段，使模板更加模块化和易于维护。通过传递上下文变量，你还可以实现更灵活的模板渲染。在实际开发中，合理使用包含标签可以显著提高开发效率。

## 附加资源与练习

- **官方文档**: [Django模板语言 - 包含标签](https://docs.djangoproject.com/en/stable/ref/templates/builtins/#include)
- **练习**: 尝试创建一个包含多个页面的Django项目，使用包含标签来复用页眉和页脚组件。

:::tip
**小提示**: 在使用包含标签时，尽量避免嵌套过深，以免影响模板的渲染性能。
:::