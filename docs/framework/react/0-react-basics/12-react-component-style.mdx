---
title: React 组件样式
description: 学习如何在React中为组件添加样式，包括内联样式、CSS模块和CSS-in-JS等方法的详细讲解和实际应用。
---

# React 组件样式

在React中，组件的样式是构建用户界面的重要部分。通过样式，我们可以控制组件的外观和布局，使其更具吸引力和可读性。本文将介绍几种在React中为组件添加样式的常见方法，包括内联样式、CSS模块和CSS-in-JS。

## 1. 内联样式

内联样式是最直接的方式，它允许你在JSX中直接为元素添加样式。内联样式使用JavaScript对象表示，属性名采用驼峰命名法。

### 示例

```jsx
function MyComponent() {
  const style = {
    color: 'blue',
    fontSize: '20px',
    backgroundColor: 'lightgray',
  };

  return <div style={style}>这是一个带有内联样式的组件</div>;
}
```

### 输出

```html
<div style="color: blue; font-size: 20px; background-color: lightgray;">
  这是一个带有内联样式的组件
</div>
```

:::note
内联样式的优点是简单直接，但缺点是难以复用和维护，尤其是在大型项目中。
:::

## 2. CSS模块

CSS模块是一种将CSS文件与组件关联起来的方式，它可以避免全局样式污染，并且支持局部作用域。

### 示例

首先，创建一个CSS文件 `MyComponent.module.css`：

```css
.myClass {
  color: green;
  font-size: 18px;
  padding: 10px;
}
```

然后在React组件中引入并使用它：

```jsx
import styles from './MyComponent.module.css';

function MyComponent() {
  return <div className={styles.myClass}>这是一个使用CSS模块的组件</div>;
}
```

### 输出

```html
<div class="MyComponent_myClass_1a2b3c">
  这是一个使用CSS模块的组件
</div>
```

:::tip
CSS模块的类名会被自动转换为唯一的名称，从而避免了样式冲突。
:::

## 3. CSS-in-JS

CSS-in-JS是一种将CSS直接写入JavaScript代码中的方法，它提供了更强大的动态样式能力。常用的库包括 `styled-components` 和 `emotion`。

### 示例

使用 `styled-components` 创建一个带有样式的组件：

```jsx
import styled from 'styled-components';

const StyledDiv = styled.div`
  color: red;
  font-size: 22px;
  border: 1px solid black;
  padding: 15px;
`;

function MyComponent() {
  return <StyledDiv>这是一个使用CSS-in-JS的组件</StyledDiv>;
}
```

### 输出

```html
<div class="sc-bdVaJa">
  这是一个使用CSS-in-JS的组件
</div>
```

:::caution
CSS-in-JS虽然功能强大，但可能会增加项目的复杂性，尤其是在需要处理大量动态样式时。
:::

## 4. 实际应用场景

### 场景1：动态主题切换

假设你需要根据用户的选择动态切换主题，可以使用CSS-in-JS来实现：

```jsx
import styled, { ThemeProvider } from 'styled-components';

const themes = {
  light: {
    background: '#fff',
    color: '#000',
  },
  dark: {
    background: '#333',
    color: '#fff',
  },
};

const StyledDiv = styled.div`
  background: ${(props) => props.theme.background};
  color: ${(props) => props.theme.color};
  padding: 20px;
`;

function ThemeSwitcher({ theme }) {
  return (
    <ThemeProvider theme={themes[theme]}>
      <StyledDiv>当前主题：{theme}</StyledDiv>
    </ThemeProvider>
  );
}
```

### 场景2：响应式布局

使用CSS模块和媒体查询来实现响应式布局：

```css
/* MyComponent.module.css */
.container {
  display: flex;
  flex-direction: column;
}

@media (min-width: 768px) {
  .container {
    flex-direction: row;
  }
}
```

```jsx
import styles from './MyComponent.module.css';

function MyComponent() {
  return (
    <div className={styles.container}>
      <div>左侧内容</div>
      <div>右侧内容</div>
    </div>
  );
}
```

## 总结

在React中，有多种方式可以为组件添加样式，每种方法都有其优缺点。内联样式适合简单的样式需求，CSS模块适合需要局部作用域的场景，而CSS-in-JS则提供了更强大的动态样式能力。根据项目的需求和复杂度，选择合适的方法来管理样式。

## 附加资源

- [React官方文档 - 样式和CSS](https://reactjs.org/docs/faq-styling.html)
- [styled-components官方文档](https://styled-components.com/)
- [CSS Modules官方文档](https://github.com/css-modules/css-modules)

## 练习

1. 创建一个React组件，使用内联样式为其添加背景颜色和字体大小。
2. 使用CSS模块为一个按钮组件添加样式，并确保样式不会影响其他组件。
3. 使用 `styled-components` 创建一个带有悬停效果的按钮组件。

通过以上练习，你将更好地掌握React中的样式管理技巧。