---
title: Styled-components
description: 学习如何使用 styled-components 在 React 中创建可重用的样式化组件。
---

# Styled-components

在现代前端开发中，样式管理是一个重要的部分。`styled-components` 是一个流行的库，它允许你在 React 中使用 CSS-in-JS 的方式来编写样式。通过 `styled-components`，你可以将样式直接嵌入到组件中，从而创建出更加模块化和可维护的代码。

## 什么是 styled-components？

`styled-components` 是一个用于 React 和 React Native 的库，它允许你使用模板字符串语法来编写 CSS 样式，并将这些样式直接应用到组件中。它的核心思想是将样式与组件紧密绑定，从而避免全局样式冲突，并提高代码的可读性和可维护性。

### 安装 styled-components

要开始使用 `styled-components`，首先需要安装它。你可以通过 npm 或 yarn 来安装：

```bash
npm install styled-components
```

或者

```bash
yarn add styled-components
```

## 基本用法

### 创建一个样式化组件

使用 `styled-components` 创建一个样式化组件非常简单。你可以使用 `styled` 函数来定义一个组件，并在模板字符串中编写 CSS 样式。

```jsx
import styled from 'styled-components';

const Button = styled.button`
  background-color: #007bff;
  color: white;
  padding: 10px 20px;
  border: none;
  border-radius: 5px;
  cursor: pointer;

  &:hover {
    background-color: #0056b3;
  }
`;

function App() {
  return <Button>Click Me</Button>;
}

export default App;
```

在这个例子中，我们创建了一个 `Button` 组件，它应用了一些基本的样式。当用户将鼠标悬停在按钮上时，背景颜色会发生变化。

### 动态样式

`styled-components` 还支持根据组件的 props 动态调整样式。你可以在模板字符串中使用插值函数来访问组件的 props。

```jsx
const Button = styled.button`
  background-color: ${(props) => (props.primary ? '#007bff' : '#6c757d')};
  color: white;
  padding: 10px 20px;
  border: none;
  border-radius: 5px;
  cursor: pointer;

  &:hover {
    background-color: ${(props) => (props.primary ? '#0056b3' : '#5a6268')};
  }
`;

function App() {
  return (
    <div>
      <Button primary>Primary Button</Button>
      <Button>Secondary Button</Button>
    </div>
  );
}

export default App;
```

在这个例子中，`Button` 组件的背景颜色会根据 `primary` prop 的值动态变化。

## 实际应用场景

### 主题化

`styled-components` 支持主题化，允许你轻松地在应用中切换主题。你可以使用 `ThemeProvider` 组件来提供主题，并在样式化组件中访问主题变量。

```jsx
import styled, { ThemeProvider } from 'styled-components';

const theme = {
  primary: '#007bff',
  secondary: '#6c757d',
};

const Button = styled.button`
  background-color: ${(props) => props.theme.primary};
  color: white;
  padding: 10px 20px;
  border: none;
  border-radius: 5px;
  cursor: pointer;

  &:hover {
    background-color: ${(props) => props.theme.secondary};
  }
`;

function App() {
  return (
    <ThemeProvider theme={theme}>
      <Button>Click Me</Button>
    </ThemeProvider>
  );
}

export default App;
```

在这个例子中，我们定义了一个主题，并使用 `ThemeProvider` 将其提供给应用中的所有组件。`Button` 组件的样式会根据主题中的颜色动态调整。

### 全局样式

虽然 `styled-components` 鼓励将样式与组件绑定，但你仍然可以使用 `createGlobalStyle` 来定义全局样式。

```jsx
import { createGlobalStyle } from 'styled-components';

const GlobalStyle = createGlobalStyle`
  body {
    margin: 0;
    padding: 0;
    font-family: Arial, sans-serif;
  }
`;

function App() {
  return (
    <>
      <GlobalStyle />
      <div>Hello, World!</div>
    </>
  );
}

export default App;
```

在这个例子中，我们使用 `createGlobalStyle` 定义了全局样式，并将其应用到整个应用中。

## 总结

`styled-components` 是一个强大的工具，它允许你在 React 中以组件化的方式管理样式。通过将样式与组件紧密绑定，你可以创建出更加模块化和可维护的代码。无论是动态样式、主题化还是全局样式，`styled-components` 都提供了灵活的解决方案。

## 附加资源

- [styled-components 官方文档](https://styled-components.com/)
- [CSS-in-JS 简介](https://css-tricks.com/a-thorough-analysis-of-css-in-js/)
- [React 样式管理最佳实践](https://www.smashingmagazine.com/2020/04/styling-components-react/)

## 练习

1. 创建一个 `Card` 组件，并使用 `styled-components` 为其添加样式。
2. 尝试使用 `ThemeProvider` 为你的应用添加一个暗色主题。
3. 使用 `createGlobalStyle` 为你的应用添加全局字体样式。

通过实践这些练习，你将更好地掌握 `styled-components` 的使用方法。