---
title: Java国际化
description: 了解如何在Java中实现国际化（i18n），使应用程序能够支持多种语言和区域设置。本文适合初学者，包含代码示例和实际应用场景。
---

# Java国际化

## 介绍

国际化（Internationalization，简称i18n）是指设计和开发应用程序时，使其能够轻松适应不同的语言和区域设置，而无需修改核心代码。Java提供了强大的工具和API来实现国际化，使开发者能够创建支持多语言的应用程序。

在本文中，我们将逐步介绍如何在Java中实现国际化，包括如何使用资源包（ResourceBundle）、格式化日期和数字，以及处理不同语言的文本。

## 资源包（ResourceBundle）

资源包是Java国际化的核心工具之一。它允许你将应用程序中的文本内容存储在外部文件中，并根据用户的语言和区域设置动态加载相应的资源。

### 创建资源文件

首先，我们需要为每种支持的语言创建一个资源文件。资源文件的命名格式为 `basename_language_country.properties`，其中 `basename` 是资源包的基本名称，`language` 是语言代码，`country` 是国家代码。

例如，我们创建以下两个资源文件：

- `messages_en_US.properties`（英语，美国）
- `messages_zh_CN.properties`（中文，中国）

```properties
# messages_en_US.properties
greeting=Hello!
farewell=Goodbye!

# messages_zh_CN.properties
greeting=你好！
farewell=再见！
```

### 加载资源包

在Java代码中，我们可以使用 `ResourceBundle` 类来加载资源包，并根据当前的语言环境获取相应的文本。

```java
import java.util.Locale;
import java.util.ResourceBundle;

public class InternationalizationExample {
    public static void main(String[] args) {
        // 设置语言环境为中文（中国）
        Locale locale = new Locale("zh", "CN");
        ResourceBundle bundle = ResourceBundle.getBundle("messages", locale);

        // 获取并打印问候语
        String greeting = bundle.getString("greeting");
        System.out.println(greeting); // 输出: 你好！

        // 获取并打印告别语
        String farewell = bundle.getString("farewell");
        System.out.println(farewell); // 输出: 再见！
    }
}
```

:::note
如果未找到与指定语言环境完全匹配的资源文件，Java会尝试查找最接近的匹配。例如，如果找不到 `messages_zh_CN.properties`，Java会尝试加载 `messages_zh.properties` 或 `messages.properties`。
:::

## 格式化日期和数字

国际化不仅涉及文本翻译，还包括日期、时间和数字的格式化。Java提供了 `DateFormat` 和 `NumberFormat` 类来处理这些需求。

### 格式化日期

```java
import java.text.DateFormat;
import java.util.Date;
import java.util.Locale;

public class DateFormatExample {
    public static void main(String[] args) {
        Date date = new Date();
        Locale locale = new Locale("zh", "CN");

        // 获取日期格式化器
        DateFormat dateFormat = DateFormat.getDateInstance(DateFormat.FULL, locale);

        // 格式化并打印日期
        String formattedDate = dateFormat.format(date);
        System.out.println(formattedDate); // 输出: 2023年10月5日星期四
    }
}
```

### 格式化数字

```java
import java.text.NumberFormat;
import java.util.Locale;

public class NumberFormatExample {
    public static void main(String[] args) {
        double number = 1234567.89;
        Locale locale = new Locale("zh", "CN");

        // 获取数字格式化器
        NumberFormat numberFormat = NumberFormat.getNumberInstance(locale);

        // 格式化并打印数字
        String formattedNumber = numberFormat.format(number);
        System.out.println(formattedNumber); // 输出: 1,234,567.89
    }
}
```

## 实际应用场景

### 多语言网站

假设你正在开发一个多语言网站，用户可以选择不同的语言来浏览内容。通过使用 `ResourceBundle`，你可以根据用户的语言偏好动态加载相应的文本内容。

```java
import java.util.Locale;
import java.util.ResourceBundle;

public class MultiLanguageWebsite {
    public static void main(String[] args) {
        // 模拟用户选择的语言环境
        Locale userLocale = new Locale("en", "US");

        // 加载资源包
        ResourceBundle bundle = ResourceBundle.getBundle("messages", userLocale);

        // 显示欢迎信息
        String welcomeMessage = bundle.getString("welcome");
        System.out.println(welcomeMessage); // 输出: Welcome!
    }
}
```

### 国际化日志

在日志记录中，国际化可以帮助你根据用户的语言环境生成不同语言的日志消息。例如，错误消息可以根据用户的语言显示为不同的文本。

```java
import java.util.Locale;
import java.util.ResourceBundle;

public class InternationalizedLogger {
    public static void main(String[] args) {
        Locale locale = new Locale("zh", "CN");
        ResourceBundle bundle = ResourceBundle.getBundle("messages", locale);

        // 记录错误日志
        String errorMessage = bundle.getString("error.fileNotFound");
        System.out.println(errorMessage); // 输出: 文件未找到！
    }
}
```

## 总结

Java国际化是一个强大的功能，允许开发者创建支持多语言和区域设置的应用程序。通过使用 `ResourceBundle`、`DateFormat` 和 `NumberFormat` 等工具，你可以轻松实现文本翻译、日期和数字的格式化。

在实际应用中，国际化不仅提高了应用程序的可用性，还增强了用户体验。无论是多语言网站还是国际化日志，Java的国际化功能都能帮助你轻松应对多语言环境的需求。

## 附加资源

- [Java官方文档：ResourceBundle](https://docs.oracle.com/javase/8/docs/api/java/util/ResourceBundle.html)
- [Java官方文档：DateFormat](https://docs.oracle.com/javase/8/docs/api/java/text/DateFormat.html)
- [Java官方文档：NumberFormat](https://docs.oracle.com/javase/8/docs/api/java/text/NumberFormat.html)

## 练习

1. 创建一个支持英语和法语的资源包，并在Java程序中加载并显示问候语。
2. 编写一个程序，根据用户选择的语言环境格式化当前日期和时间。
3. 扩展多语言网站示例，使其支持更多语言（如西班牙语、德语等）。

通过完成这些练习，你将更深入地理解Java国际化的概念和应用。