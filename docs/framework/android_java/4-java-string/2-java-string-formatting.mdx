---
title: Java字符串格式化
description: 学习如何在Java中使用字符串格式化，掌握格式化字符串的基本语法和实际应用场景。
---

# Java字符串格式化

在Java编程中，字符串格式化是一个非常重要的概念。它允许我们以特定的格式输出字符串，使得输出更加美观和易读。本文将详细介绍Java中的字符串格式化方法，并通过代码示例和实际案例帮助你掌握这一技能。

## 什么是字符串格式化？

字符串格式化是指将数据按照特定的格式转换为字符串的过程。在Java中，我们通常使用 `String.format()` 方法或 `System.out.printf()` 方法来实现字符串格式化。这些方法允许我们使用格式化字符串来指定输出的格式。

## 基本语法

Java中的字符串格式化使用格式化字符串（format string）来指定输出的格式。格式化字符串中包含格式说明符（format specifiers），这些说明符以 `%` 开头，后面跟着一个或多个字符，用于指定输出的格式。

### 常见的格式说明符

- `%s`：字符串
- `%d`：十进制整数
- `%f`：浮点数
- `%c`：字符
- `%b`：布尔值
- `%n`：换行符

### 示例代码

```java
public class StringFormattingExample {
    public static void main(String[] args) {
        String name = "Alice";
        int age = 25;
        double height = 1.68;

        // 使用 String.format() 方法
        String formattedString = String.format("Name: %s, Age: %d, Height: %.2f", name, age, height);
        System.out.println(formattedString);

        // 使用 System.out.printf() 方法
        System.out.printf("Name: %s, Age: %d, Height: %.2f%n", name, age, height);
    }
}
```

**输出：**
```
Name: Alice, Age: 25, Height: 1.68
Name: Alice, Age: 25, Height: 1.68
```

:::note
注意：`%.2f` 表示浮点数保留两位小数。
:::

## 格式化字符串的详细用法

### 1. 宽度和对齐

你可以指定输出的宽度和对齐方式。例如，`%10s` 表示输出宽度为10个字符，右对齐；`%-10s` 表示左对齐。

```java
System.out.printf("%10s%n", "Hello");  // 右对齐
System.out.printf("%-10s%n", "Hello"); // 左对齐
```

**输出：**
```
     Hello
Hello     
```

### 2. 精度

对于浮点数，你可以使用精度来控制小数位数。例如，`%.3f` 表示保留三位小数。

```java
double pi = 3.1415926535;
System.out.printf("Pi: %.3f%n", pi);
```

**输出：**
```
Pi: 3.142
```

### 3. 格式化日期和时间

Java还支持格式化日期和时间。你可以使用 `%t` 开头的格式说明符来格式化日期和时间。

```java
import java.util.Date;

public class DateFormattingExample {
    public static void main(String[] args) {
        Date now = new Date();
        System.out.printf("Current date and time: %tc%n", now);
    }
}
```

**输出：**
```
Current date and time: Mon Oct 09 12:34:56 CST 2023
```

:::tip
提示：`%tc` 表示完整的日期和时间格式。
:::

## 实际应用场景

### 1. 生成报告

在生成报告时，字符串格式化可以帮助你将数据以整齐的表格形式输出。

```java
public class ReportExample {
    public static void main(String[] args) {
        String[] names = {"Alice", "Bob", "Charlie"};
        int[] ages = {25, 30, 35};
        double[] heights = {1.68, 1.75, 1.80};

        System.out.printf("%-10s %-5s %-6s%n", "Name", "Age", "Height");
        for (int i = 0; i < names.length; i++) {
            System.out.printf("%-10s %-5d %-6.2f%n", names[i], ages[i], heights[i]);
        }
    }
}
```

**输出：**
```
Name       Age   Height
Alice      25    1.68  
Bob        30    1.75  
Charlie    35    1.80  
```

### 2. 日志记录

在日志记录中，字符串格式化可以帮助你生成格式化的日志信息。

```java
public class LoggingExample {
    public static void main(String[] args) {
        String user = "Alice";
        String action = "login";
        String timestamp = "2023-10-09 12:34:56";

        String logMessage = String.format("[%s] User '%s' performed action '%s'", timestamp, user, action);
        System.out.println(logMessage);
    }
}
```

**输出：**
```
[2023-10-09 12:34:56] User 'Alice' performed action 'login'
```

## 总结

Java字符串格式化是一个非常强大的工具，它可以帮助你以特定的格式输出字符串，使得输出更加美观和易读。通过本文的学习，你应该已经掌握了字符串格式化的基本语法和实际应用场景。

:::caution
注意：在使用字符串格式化时，务必确保格式说明符与参数类型匹配，否则会导致运行时错误。
:::

## 附加资源

- [Java官方文档 - Formatter](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Formatter.html)
- [Java字符串格式化教程](https://www.baeldung.com/java-string-formatting)

## 练习

1. 编写一个程序，使用字符串格式化输出一个包含姓名、年龄和身高的表格。
2. 修改上面的程序，使得表格中的每一列都左对齐。
3. 编写一个程序，使用字符串格式化输出当前日期和时间。

通过完成这些练习，你将进一步巩固对Java字符串格式化的理解。