---
title: Android选择控件
description: 了解Android中的选择控件，包括单选按钮、复选框和下拉列表，以及如何在应用中使用它们实现用户交互。
---

# Android选择控件

在Android应用开发中，选择控件是用户交互的重要组成部分。它们允许用户从一组选项中进行选择，从而与应用进行交互。常见的选择控件包括单选按钮（RadioButton）、复选框（CheckBox）和下拉列表（Spinner）。本文将详细介绍这些控件的使用方法，并通过实际案例展示它们的应用场景。

## 1. 单选按钮（RadioButton）

单选按钮用于从一组互斥的选项中选择一个选项。通常，单选按钮会与 `RadioGroup` 结合使用，以确保用户只能选择一个选项。

### 示例代码

```xml
<RadioGroup
    android:id="@+id/radioGroup"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content">

    <RadioButton
        android:id="@+id/radioButton1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="选项1" />

    <RadioButton
        android:id="@+id/radioButton2"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="选项2" />

    <RadioButton
        android:id="@+id/radioButton3"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="选项3" />
</RadioGroup>
```

### 处理用户选择

在代码中，你可以通过监听 `RadioGroup` 的 `OnCheckedChangeListener` 来处理用户的选择。

```kotlin
val radioGroup = findViewById<RadioGroup>(R.id.radioGroup)
radioGroup.setOnCheckedChangeListener { group, checkedId ->
    when (checkedId) {
        R.id.radioButton1 -> {
            // 用户选择了选项1
        }
        R.id.radioButton2 -> {
            // 用户选择了选项2
        }
        R.id.radioButton3 -> {
            // 用户选择了选项3
        }
    }
}
```

:::tip
单选按钮通常用于需要用户从一组互斥选项中选择一个的场景，例如选择性别或支付方式。
:::

## 2. 复选框（CheckBox）

复选框允许用户从一组选项中选择多个选项。与单选按钮不同，复选框之间是独立的，用户可以同时选择多个选项。

### 示例代码

```xml
<CheckBox
    android:id="@+id/checkBox1"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:text="选项1" />

<CheckBox
    android:id="@+id/checkBox2"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:text="选项2" />

<CheckBox
    android:id="@+id/checkBox3"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:text="选项3" />
```

### 处理用户选择

你可以通过监听每个复选框的 `OnCheckedChangeListener` 来处理用户的选择。

```kotlin
val checkBox1 = findViewById<CheckBox>(R.id.checkBox1)
val checkBox2 = findViewById<CheckBox>(R.id.checkBox2)
val checkBox3 = findViewById<CheckBox>(R.id.checkBox3)

checkBox1.setOnCheckedChangeListener { buttonView, isChecked ->
    if (isChecked) {
        // 用户选择了选项1
    }
}

checkBox2.setOnCheckedChangeListener { buttonView, isChecked ->
    if (isChecked) {
        // 用户选择了选项2
    }
}

checkBox3.setOnCheckedChangeListener { buttonView, isChecked ->
    if (isChecked) {
        // 用户选择了选项3
    }
}
```

:::note
复选框通常用于需要用户选择多个选项的场景，例如选择兴趣爱好或设置偏好。
:::

## 3. 下拉列表（Spinner）

下拉列表允许用户从一组选项中选择一个选项。与单选按钮不同，下拉列表在未展开时只显示当前选中的选项，从而节省屏幕空间。

### 示例代码

```xml
<Spinner
    android:id="@+id/spinner"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content" />
```

### 填充下拉列表

你可以使用 `ArrayAdapter` 来填充下拉列表的选项。

```kotlin
val spinner = findViewById<Spinner>(R.id.spinner)
val options = arrayOf("选项1", "选项2", "选项3")
val adapter = ArrayAdapter(this, android.R.layout.simple_spinner_item, options)
adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item)
spinner.adapter = adapter
```

### 处理用户选择

你可以通过监听 `Spinner` 的 `OnItemSelectedListener` 来处理用户的选择。

```kotlin
spinner.onItemSelectedListener = object : AdapterView.OnItemSelectedListener {
    override fun onItemSelected(parent: AdapterView<*>?, view: View?, position: Int, id: Long) {
        val selectedItem = options[position]
        // 处理用户选择的选项
    }

    override fun onNothingSelected(parent: AdapterView<*>?) {
        // 没有选择任何选项
    }
}
```

:::caution
下拉列表通常用于选项较多且需要节省屏幕空间的场景，例如选择国家或城市。
:::

## 实际案例

假设你正在开发一个简单的调查问卷应用，用户需要选择他们的性别（单选按钮）、兴趣爱好（复选框）和居住城市（下拉列表）。你可以使用上述控件来实现这些功能。

```xml
<RadioGroup
    android:id="@+id/genderGroup"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content">

    <RadioButton
        android:id="@+id/male"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="男" />

    <RadioButton
        android:id="@+id/female"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="女" />
</RadioGroup>

<CheckBox
    android:id="@+id/hobby1"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:text="阅读" />

<CheckBox
    android:id="@+id/hobby2"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:text="运动" />

<CheckBox
    android:id="@+id/hobby3"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:text="旅行" />

<Spinner
    android:id="@+id/citySpinner"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content" />
```

在代码中，你可以分别处理用户的选择并收集数据。

## 总结

Android选择控件是用户交互的重要组成部分。通过使用单选按钮、复选框和下拉列表，你可以为用户提供丰富的选择体验。在实际开发中，根据具体需求选择合适的控件，并确保正确处理用户的选择。

## 附加资源

- [Android官方文档 - RadioButton](https://developer.android.com/reference/android/widget/RadioButton)
- [Android官方文档 - CheckBox](https://developer.android.com/reference/android/widget/CheckBox)
- [Android官方文档 - Spinner](https://developer.android.com/reference/android/widget/Spinner)

## 练习

1. 创建一个简单的表单，包含单选按钮、复选框和下拉列表，并处理用户的选择。
2. 尝试将用户的选择保存到SharedPreferences中，并在应用重新启动时恢复这些选择。
