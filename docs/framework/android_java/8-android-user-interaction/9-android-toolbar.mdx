---
title: Android ToolBar
description: 了解如何在 Android 应用中使用 ToolBar 实现用户交互，包括基本设置、自定义样式和实际应用场景。
---

# Android ToolBar

ToolBar 是 Android 应用中用于替代传统 ActionBar 的组件，它提供了更灵活的布局和自定义选项。通过 ToolBar，开发者可以轻松实现导航、菜单、标题等功能，同时保持应用的一致性和美观性。

## 什么是 ToolBar？

ToolBar 是 Android 支持库中的一个组件，用于替代传统的 ActionBar。它允许开发者将工具栏放置在布局中的任何位置，并支持自定义视图、图标、标题等。ToolBar 提供了比 ActionBar 更多的灵活性，是现代 Android 应用开发中的重要组件。

## 基本设置

要在应用中使用 ToolBar，首先需要在布局文件中定义它。以下是一个简单的示例：

```xml
<androidx.appcompat.widget.Toolbar
    android:id="@+id/toolbar"
    android:layout_width="match_parent"
    android:layout_height="?attr/actionBarSize"
    android:background="?attr/colorPrimary"
    android:elevation="4dp"
    android:theme="@style/ThemeOverlay.AppCompat.Dark.ActionBar"
    app:popupTheme="@style/ThemeOverlay.AppCompat.Light" />
```

在 Activity 中，我们需要将 ToolBar 设置为应用的 ActionBar：

```kotlin
class MainActivity : AppCompatActivity() {
    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        setContentView(R.layout.activity_main)

        val toolbar: Toolbar = findViewById(R.id.toolbar)
        setSupportActionBar(toolbar)
    }
}
```

## 自定义 ToolBar

ToolBar 的强大之处在于它的可定制性。你可以通过 XML 或代码来修改 ToolBar 的外观和行为。

### 修改标题和图标

你可以通过以下代码修改 ToolBar 的标题和图标：

```kotlin
supportActionBar?.title = "My Custom Title"
supportActionBar?.setDisplayHomeAsUpEnabled(true)
supportActionBar?.setHomeAsUpIndicator(R.drawable.ic_back)
```

### 添加菜单项

在 `res/menu` 目录下创建一个菜单资源文件，例如 `menu_main.xml`：

```xml
<menu xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto">
    <item
        android:id="@+id/action_search"
        android:icon="@drawable/ic_search"
        android:title="Search"
        app:showAsAction="ifRoom" />
    <item
        android:id="@+id/action_settings"
        android:title="Settings"
        app:showAsAction="never" />
</menu>
```

在 Activity 中重写 `onCreateOptionsMenu` 方法来加载菜单：

```kotlin
override fun onCreateOptionsMenu(menu: Menu): Boolean {
    menuInflater.inflate(R.menu.menu_main, menu)
    return true
}
```

### 处理菜单项点击事件

重写 `onOptionsItemSelected` 方法来处理菜单项的点击事件：

```kotlin
override fun onOptionsItemSelected(item: MenuItem): Boolean {
    return when (item.itemId) {
        R.id.action_search -> {
            // 处理搜索操作
            true
        }
        R.id.action_settings -> {
            // 处理设置操作
            true
        }
        else -> super.onOptionsItemSelected(item)
    }
}
```

## 实际应用场景

ToolBar 在实际应用中有多种用途，以下是一些常见的应用场景：

1. **导航**：ToolBar 可以包含返回按钮，用于导航到上一个界面。
2. **搜索**：在 ToolBar 中添加搜索图标，点击后展开搜索框。
3. **设置**：通过菜单项提供应用的设置选项。
4. **自定义视图**：在 ToolBar 中添加自定义视图，如进度条或按钮。

## 总结

ToolBar 是 Android 应用中实现用户交互的重要组件。通过本文，你学习了如何设置 ToolBar、自定义其外观和行为，并了解了它在实际应用中的多种用途。希望这些知识能帮助你在开发中更好地使用 ToolBar。

## 附加资源

- [Android 官方文档：ToolBar](https://developer.android.com/reference/androidx/appcompat/widget/Toolbar)
- [Android 开发者指南：添加 App Bar](https://developer.android.com/training/appbar)

## 练习

1. 在你的应用中添加一个 ToolBar，并设置自定义标题和图标。
2. 创建一个菜单资源文件，并在 ToolBar 中添加菜单项。
3. 处理菜单项的点击事件，实现简单的操作，如显示 Toast 消息。

通过完成这些练习，你将更深入地理解 ToolBar 的使用方法，并能够在实际项目中灵活应用。