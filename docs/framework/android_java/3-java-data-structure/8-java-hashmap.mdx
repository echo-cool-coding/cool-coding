---
title: Java HashMap
description: 了解 Java 中的 HashMap，掌握其基本概念、使用方法以及实际应用场景。
---

# Java HashMap

## 介绍

在 Java 中，`HashMap` 是一种基于哈希表实现的集合类，用于存储键值对（key-value pairs）。它是 `java.util` 包的一部分，允许我们通过键（key）快速查找对应的值（value）。`HashMap` 的特点是查找速度快，时间复杂度接近 O(1)，但它的元素是无序的。

`HashMap` 的工作原理是通过哈希函数将键映射到哈希表中的特定位置。如果两个键的哈希值相同（哈希冲突），`HashMap` 会使用链表或红黑树来处理冲突。

:::tip
`HashMap` 是非线程安全的。如果需要在多线程环境中使用，可以考虑使用 `ConcurrentHashMap` 或通过 `Collections.synchronizedMap` 方法包装 `HashMap`。
:::

## 基本用法

### 创建 HashMap

要使用 `HashMap`，首先需要导入 `java.util.HashMap` 包，然后创建一个 `HashMap` 实例。

```java
import java.util.HashMap;

public class Main {
    public static void main(String[] args) {
        // 创建一个 HashMap 实例
        HashMap<String, Integer> map = new HashMap<>();

        // 添加键值对
        map.put("apple", 10);
        map.put("banana", 5);
        map.put("orange", 8);

        // 输出 HashMap
        System.out.println(map);
    }
}
```

**输出：**
```
{apple=10, banana=5, orange=8}
```

### 常用方法

以下是 `HashMap` 的一些常用方法：

- `put(key, value)`：将指定的键值对添加到 `HashMap` 中。
- `get(key)`：根据键获取对应的值。
- `remove(key)`：根据键删除对应的键值对。
- `containsKey(key)`：检查 `HashMap` 中是否包含指定的键。
- `containsValue(value)`：检查 `HashMap` 中是否包含指定的值。
- `size()`：返回 `HashMap` 中键值对的数量。
- `isEmpty()`：检查 `HashMap` 是否为空。

```java
import java.util.HashMap;

public class Main {
    public static void main(String[] args) {
        HashMap<String, Integer> map = new HashMap<>();

        map.put("apple", 10);
        map.put("banana", 5);
        map.put("orange", 8);

        // 获取值
        System.out.println("apple 的数量: " + map.get("apple")); // 输出: 10

        // 删除键值对
        map.remove("banana");
        System.out.println("删除 banana 后的 HashMap: " + map); // 输出: {apple=10, orange=8}

        // 检查键是否存在
        System.out.println("是否包含 orange: " + map.containsKey("orange")); // 输出: true

        // 检查值是否存在
        System.out.println("是否包含值 8: " + map.containsValue(8)); // 输出: true

        // 获取 HashMap 的大小
        System.out.println("HashMap 的大小: " + map.size()); // 输出: 2

        // 检查 HashMap 是否为空
        System.out.println("HashMap 是否为空: " + map.isEmpty()); // 输出: false
    }
}
```

## 实际应用场景

### 统计单词频率

`HashMap` 非常适合用于统计一段文本中每个单词出现的频率。以下是一个简单的示例：

```java
import java.util.HashMap;

public class WordFrequency {
    public static void main(String[] args) {
        String text = "apple banana apple orange banana apple";
        String[] words = text.split(" ");

        HashMap<String, Integer> frequencyMap = new HashMap<>();

        for (String word : words) {
            frequencyMap.put(word, frequencyMap.getOrDefault(word, 0) + 1);
        }

        System.out.println(frequencyMap);
    }
}
```

**输出：**
```
{apple=3, banana=2, orange=1}
```

在这个例子中，我们使用 `HashMap` 来统计每个单词在文本中出现的次数。`getOrDefault` 方法用于获取当前单词的计数，如果单词不存在，则返回默认值 0。

### 缓存机制

`HashMap` 也可以用于实现简单的缓存机制。例如，我们可以缓存一些计算结果，以避免重复计算。

```java
import java.util.HashMap;

public class Fibonacci {
    private static HashMap<Integer, Long> cache = new HashMap<>();

    public static long fibonacci(int n) {
        if (n <= 1) {
            return n;
        }

        // 检查缓存中是否已经计算过
        if (cache.containsKey(n)) {
            return cache.get(n);
        }

        // 计算并缓存结果
        long result = fibonacci(n - 1) + fibonacci(n - 2);
        cache.put(n, result);
        return result;
    }

    public static void main(String[] args) {
        System.out.println("Fibonacci(10): " + fibonacci(10)); // 输出: 55
    }
}
```

在这个例子中，我们使用 `HashMap` 来缓存斐波那契数列的计算结果，从而避免重复计算，提高效率。

## 总结

`HashMap` 是 Java 中非常常用的数据结构，适用于需要快速查找、插入和删除的场景。它的底层实现基于哈希表，具有接近 O(1) 的时间复杂度。通过本文的学习，你应该已经掌握了 `HashMap` 的基本用法和实际应用场景。

:::note
`HashMap` 的键和值都可以为 `null`，但键只能有一个 `null` 值。
:::

## 附加资源与练习

- **练习 1**：编写一个程序，使用 `HashMap` 统计一段文本中每个字符出现的次数。
- **练习 2**：实现一个简单的电话簿程序，使用 `HashMap` 存储姓名和电话号码，并支持添加、删除和查找功能。
- **进一步阅读**：了解 `LinkedHashMap` 和 `TreeMap`，它们分别是 `HashMap` 的有序版本和基于红黑树实现的版本。

通过不断练习和探索，你将更加熟练地掌握 `HashMap` 的使用，并能够在实际项目中灵活应用。