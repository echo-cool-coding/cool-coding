---
title: Java输入输出
description: 了解Java中的输入输出（I/O）操作，掌握如何从控制台读取输入和输出数据，以及文件读写的基本操作。
---

## 介绍

在Java编程中，输入输出（I/O）操作是与用户交互或与外部文件系统通信的重要部分。无论是从控制台读取用户输入，还是将数据写入文件，Java都提供了丰富的类和方法来处理这些任务。本文将详细介绍Java中的基本输入输出操作，并通过实际案例帮助你理解这些概念。

## 控制台输入输出

### 输出到控制台

在Java中，最常用的输出方式是使用 `System.out.println()` 方法。这个方法会将数据输出到控制台，并在末尾添加一个换行符。

```java
public class HelloWorld {
    public static void main(String[] args) {
        System.out.println("Hello, World!");
    }
}
```

运行上述代码，控制台将输出：

```
Hello, World!
```

:::tip
如果你不想在输出后换行，可以使用 `System.out.print()` 方法。
:::

### 从控制台读取输入

Java提供了多种方式从控制台读取输入，最常用的是使用 `Scanner` 类。`Scanner` 类可以读取各种类型的输入，如整数、浮点数、字符串等。

```java
import java.util.Scanner;

public class UserInput {
    public static void main(String[] args) {
        Scanner scanner = new Scanner(System.in);
        System.out.print("请输入你的名字: ");
        String name = scanner.nextLine();
        System.out.println("你好, " + name + "!");
    }
}
```

运行上述代码，程序会提示你输入名字，并在控制台输出问候语。

:::caution
在使用 `Scanner` 类时，记得在程序结束时调用 `scanner.close()` 来释放资源。
:::

## 文件输入输出

### 写入文件

Java中的 `FileWriter` 类可以用来将数据写入文件。以下是一个简单的示例，展示了如何将字符串写入文件。

```java
import java.io.FileWriter;
import java.io.IOException;

public class WriteToFile {
    public static void main(String[] args) {
        try {
            FileWriter writer = new FileWriter("output.txt");
            writer.write("这是写入文件的内容。");
            writer.close();
            System.out.println("文件写入成功！");
        } catch (IOException e) {
            System.out.println("发生错误: " + e.getMessage());
        }
    }
}
```

运行上述代码后，当前目录下会生成一个名为 `output.txt` 的文件，内容为 `这是写入文件的内容。`。

### 读取文件

要从文件中读取数据，可以使用 `FileReader` 和 `BufferedReader` 类。以下是一个示例，展示了如何逐行读取文件内容。

```java
import java.io.BufferedReader;
import java.io.FileReader;
import java.io.IOException;

public class ReadFromFile {
    public static void main(String[] args) {
        try {
            BufferedReader reader = new BufferedReader(new FileReader("output.txt"));
            String line;
            while ((line = reader.readLine()) != null) {
                System.out.println(line);
            }
            reader.close();
        } catch (IOException e) {
            System.out.println("发生错误: " + e.getMessage());
        }
    }
}
```

运行上述代码，程序会读取 `output.txt` 文件的内容并输出到控制台。

:::note
在处理文件I/O时，务必使用 `try-catch` 块来捕获可能的 `IOException`。
:::

## 实际案例

### 案例1：用户注册系统

假设你正在开发一个简单的用户注册系统，用户需要输入用户名和密码，并将这些信息保存到文件中。

```java
import java.io.FileWriter;
import java.io.IOException;
import java.util.Scanner;

public class UserRegistration {
    public static void main(String[] args) {
        Scanner scanner = new Scanner(System.in);
        System.out.print("请输入用户名: ");
        String username = scanner.nextLine();
        System.out.print("请输入密码: ");
        String password = scanner.nextLine();

        try {
            FileWriter writer = new FileWriter("users.txt", true);
            writer.write("用户名: " + username + ", 密码: " + password + "\n");
            writer.close();
            System.out.println("注册成功！");
        } catch (IOException e) {
            System.out.println("发生错误: " + e.getMessage());
        } finally {
            scanner.close();
        }
    }
}
```

### 案例2：日志记录系统

在开发应用程序时，日志记录是非常重要的。以下是一个简单的日志记录系统，将日志信息写入文件。

```java
import java.io.FileWriter;
import java.io.IOException;
import java.text.SimpleDateFormat;
import java.util.Date;

public class Logger {
    public static void log(String message) {
        try {
            FileWriter writer = new FileWriter("log.txt", true);
            SimpleDateFormat dateFormat = new SimpleDateFormat("yyyy-MM-dd HH:mm:ss");
            String timestamp = dateFormat.format(new Date());
            writer.write(timestamp + " - " + message + "\n");
            writer.close();
        } catch (IOException e) {
            System.out.println("发生错误: " + e.getMessage());
        }
    }

    public static void main(String[] args) {
        log("应用程序启动");
        log("用户登录成功");
        log("应用程序关闭");
    }
}
```

## 总结

Java的输入输出操作是编程中的基础技能。通过本文，你学习了如何在控制台进行输入输出，以及如何读写文件。这些技能在实际开发中非常有用，尤其是在处理用户交互和数据持久化时。

## 附加资源与练习

- **练习1**：编写一个程序，要求用户输入两个数字，并输出它们的和。
- **练习2**：扩展用户注册系统，使其能够读取并显示所有已注册用户的信息。
- **附加资源**：
  - [Java I/O 官方文档](https://docs.oracle.com/javase/tutorial/essential/io/)
  - [Java Scanner 类文档](https://docs.oracle.com/javase/8/docs/api/java/util/Scanner.html)

通过不断练习和探索，你将更加熟练地掌握Java的输入输出操作。祝你编程愉快！