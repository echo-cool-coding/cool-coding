---
title: Android表格布局
description: 了解如何使用Android中的表格布局（TableLayout）来创建结构化的用户界面。本教程将逐步讲解表格布局的基本概念、使用方法以及实际应用场景。
---

# Android表格布局

在Android开发中，表格布局（TableLayout）是一种用于在屏幕上以表格形式排列子视图的布局管理器。它允许开发者将界面元素组织成行和列，类似于HTML中的表格。表格布局非常适合用于需要对齐数据的场景，例如表单、数据列表或网格布局。

## 表格布局的基本概念

表格布局由行（`TableRow`）和列组成。每一行可以包含多个子视图，每个子视图占据一列。表格布局会自动调整列的宽度以适应内容，或者可以通过设置权重（weight）来控制列的宽度。

### 表格布局的特点
- **自动调整列宽**：表格布局会根据内容自动调整列的宽度。
- **跨列支持**：子视图可以跨越多列。
- **权重控制**：可以通过设置权重来控制列的宽度比例。

## 创建表格布局

以下是一个简单的表格布局示例，展示了如何在XML中定义表格布局：

```xml
<TableLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:stretchColumns="*">

    <TableRow>
        <TextView
            android:text="姓名"
            android:padding="10dp"
            android:gravity="center" />
        <TextView
            android:text="年龄"
            android:padding="10dp"
            android:gravity="center" />
        <TextView
            android:text="职业"
            android:padding="10dp"
            android:gravity="center" />
    </TableRow>

    <TableRow>
        <TextView
            android:text="张三"
            android:padding="10dp"
            android:gravity="center" />
        <TextView
            android:text="25"
            android:padding="10dp"
            android:gravity="center" />
        <TextView
            android:text="工程师"
            android:padding="10dp"
            android:gravity="center" />
    </TableRow>

    <TableRow>
        <TextView
            android:text="李四"
            android:padding="10dp"
            android:gravity="center" />
        <TextView
            android:text="30"
            android:padding="10dp"
            android:gravity="center" />
        <TextView
            android:text="设计师"
            android:padding="10dp"
            android:gravity="center" />
    </TableRow>
</TableLayout>
```

### 代码解析
- `TableLayout`：定义了一个表格布局容器。
- `TableRow`：定义表格中的一行。
- `TextView`：每一行中的列内容。
- `android:stretchColumns="*"`：使所有列均匀拉伸以填充可用空间。

## 跨列与权重控制

表格布局支持跨列和权重控制，以便更灵活地调整布局。

### 跨列示例
以下示例展示了如何让一个视图跨越多列：

```xml
<TableRow>
    <TextView
        android:text="跨列示例"
        android:layout_span="2"
        android:padding="10dp"
        android:gravity="center" />
    <TextView
        android:text="第三列"
        android:padding="10dp"
        android:gravity="center" />
</TableRow>
```

### 权重控制示例
以下示例展示了如何使用权重控制列的宽度：

```xml
<TableRow>
    <TextView
        android:text="列1"
        android:layout_weight="1"
        android:padding="10dp"
        android:gravity="center" />
    <TextView
        android:text="列2"
        android:layout_weight="2"
        android:padding="10dp"
        android:gravity="center" />
</TableRow>
```

:::tip
权重（`layout_weight`）用于控制列的宽度比例。权重值越大，列占据的空间越多。
:::

## 实际应用场景

表格布局非常适合用于以下场景：
- **表单**：例如用户注册表单，需要对齐输入框和标签。
- **数据展示**：例如展示表格数据，如成绩单、财务报表等。
- **网格布局**：例如展示图片或图标的网格。

### 表单示例
以下是一个简单的用户注册表单示例：

```xml
<TableLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:stretchColumns="*">

    <TableRow>
        <TextView
            android:text="用户名"
            android:padding="10dp"
            android:gravity="center" />
        <EditText
            android:hint="请输入用户名"
            android:padding="10dp" />
    </TableRow>

    <TableRow>
        <TextView
            android:text="密码"
            android:padding="10dp"
            android:gravity="center" />
        <EditText
            android:hint="请输入密码"
            android:inputType="textPassword"
            android:padding="10dp" />
    </TableRow>

    <TableRow>
        <Button
            android:text="注册"
            android:layout_span="2"
            android:padding="10dp"
            android:gravity="center" />
    </TableRow>
</TableLayout>
```

## 总结

表格布局是Android中一种强大的布局管理器，特别适合用于需要对齐数据的场景。通过使用表格布局，开发者可以轻松创建结构化的用户界面。本文介绍了表格布局的基本概念、使用方法以及实际应用场景，希望能帮助你在Android开发中更好地使用表格布局。

:::note
**附加资源**
- [Android官方文档：TableLayout](https://developer.android.com/reference/android/widget/TableLayout)
- [Android布局教程](https://developer.android.com/guide/topics/ui/declaring-layout)
:::

:::caution
**练习**
1. 创建一个包含3行4列的表格布局，并设置每列的权重为1:2:1:2。
2. 尝试在表格布局中实现一个跨列的按钮，并使其居中显示。
:::