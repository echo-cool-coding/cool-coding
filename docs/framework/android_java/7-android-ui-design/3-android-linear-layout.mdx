---
title: Android线性布局
description: 了解Android中的线性布局（LinearLayout），掌握如何使用它来创建简单且灵活的UI界面。
---

# Android线性布局

在Android应用开发中，布局是构建用户界面的基础。线性布局（LinearLayout）是最常用的布局之一，它允许你以线性方式排列子视图，可以是水平（horizontal）或垂直（vertical）方向。本文将详细介绍线性布局的使用方法，并通过代码示例和实际案例帮助你掌握这一概念。

## 什么是线性布局？

线性布局是一种视图组（ViewGroup），它将子视图按照单一方向（水平或垂直）依次排列。每个子视图会根据布局的方向依次堆叠，形成一个线性结构。线性布局非常适合用于创建简单的界面，例如表单、列表或工具栏。

### 线性布局的方向

线性布局有两个主要方向：
- **水平方向（horizontal）**：子视图从左到右依次排列。
- **垂直方向（vertical）**：子视图从上到下依次排列。

你可以通过设置 `android:orientation` 属性来指定布局的方向。

## 线性布局的基本用法

以下是一个简单的线性布局示例，展示了如何在垂直方向上排列三个按钮：

```xml
<LinearLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical"
    android:padding="16dp">

    <Button
        android:id="@+id/button1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="Button 1" />

    <Button
        android:id="@+id/button2"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="Button 2" />

    <Button
        android:id="@+id/button3"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="Button 3" />
</LinearLayout>
```

在这个示例中，`android:orientation="vertical"` 指定了布局方向为垂直，三个按钮会从上到下依次排列。

:::note
**注意**：`android:layout_width` 和 `android:layout_height` 是每个视图的必需属性，分别用于设置视图的宽度和高度。常用的值包括 `match_parent`（填充父容器）和 `wrap_content`（根据内容调整大小）。
:::

## 权重（Weight）的使用

线性布局的一个重要特性是权重（`android:layout_weight`）。权重允许你根据比例分配子视图的剩余空间。这在需要动态调整视图大小时非常有用。

以下是一个使用权重的示例，展示了如何让两个按钮平分屏幕宽度：

```xml
<LinearLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="horizontal"
    android:padding="16dp">

    <Button
        android:id="@+id/button1"
        android:layout_width="0dp"
        android:layout_height="wrap_content"
        android:layout_weight="1"
        android:text="Button 1" />

    <Button
        android:id="@+id/button2"
        android:layout_width="0dp"
        android:layout_height="wrap_content"
        android:layout_weight="1"
        android:text="Button 2" />
</LinearLayout>
```

在这个示例中，`android:layout_width="0dp"` 表示按钮的宽度由权重决定。`android:layout_weight="1"` 表示两个按钮平分剩余空间。

:::tip
**提示**：权重可以用于创建灵活的布局，例如在表单中让输入框占据更多空间，而按钮保持固定大小。
:::

## 实际应用场景

### 案例1：登录表单

以下是一个简单的登录表单示例，使用了垂直方向的线性布局：

```xml
<LinearLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical"
    android:padding="16dp">

    <EditText
        android:id="@+id/username"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:hint="用户名" />

    <EditText
        android:id="@+id/password"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:hint="密码"
        android:inputType="textPassword" />

    <Button
        android:id="@+id/loginButton"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:text="登录" />
</LinearLayout>
```

在这个表单中，用户名和密码输入框垂直排列，登录按钮位于底部。

### 案例2：工具栏

以下是一个水平方向的线性布局示例，用于创建一个简单的工具栏：

```xml
<LinearLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:orientation="horizontal"
    android:padding="8dp">

    <Button
        android:id="@+id/homeButton"
        android:layout_width="0dp"
        android:layout_height="wrap_content"
        android:layout_weight="1"
        android:text="首页" />

    <Button
        android:id="@+id/searchButton"
        android:layout_width="0dp"
        android:layout_height="wrap_content"
        android:layout_weight="1"
        android:text="搜索" />

    <Button
        android:id="@+id/settingsButton"
        android:layout_width="0dp"
        android:layout_height="wrap_content"
        android:layout_weight="1"
        android:text="设置" />
</LinearLayout>
```

在这个工具栏中，三个按钮平分屏幕宽度。

## 总结

线性布局是Android开发中最常用的布局之一，适合用于创建简单的界面。通过设置方向、权重等属性，你可以轻松实现灵活的UI设计。本文介绍了线性布局的基本用法，并通过实际案例展示了其应用场景。

:::caution
**注意**：虽然线性布局简单易用，但在复杂界面中可能会导致嵌套过多，影响性能。在这种情况下，建议使用更高效的布局（如 `ConstraintLayout`）。
:::

## 附加资源与练习

- **练习1**：尝试创建一个包含多个输入框和按钮的注册表单，使用垂直方向的线性布局。
- **练习2**：使用权重属性，创建一个水平方向的工具栏，包含四个按钮，其中第三个按钮占据两倍的空间。

通过不断练习，你将更好地掌握线性布局的使用技巧！