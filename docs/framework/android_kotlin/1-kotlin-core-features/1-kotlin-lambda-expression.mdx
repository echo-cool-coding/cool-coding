---
title: Kotlin Lambda表达式
description: 了解Kotlin中的Lambda表达式，掌握其语法、使用场景以及实际应用。
---

## 介绍

Lambda表达式是Kotlin中一种简洁且强大的功能，它允许你将函数作为参数传递，或者将函数赋值给变量。Lambda表达式是匿名函数的一种形式，通常用于简化代码，尤其是在处理集合或高阶函数时。

在Kotlin中，Lambda表达式的基本语法如下：

```kotlin
{ 参数 -> 函数体 }
```

其中，`参数`是Lambda表达式的输入，`函数体`是Lambda表达式的执行逻辑。Lambda表达式可以没有参数，也可以有多个参数。

## 基本语法

让我们从一个简单的例子开始：

```kotlin
val sum = { a: Int, b: Int -> a + b }
println(sum(3, 5)) // 输出: 8
```

在这个例子中，我们定义了一个Lambda表达式 `sum`，它接受两个整数参数 `a` 和 `b`，并返回它们的和。然后我们调用这个Lambda表达式，并打印结果。

### 无参数的Lambda表达式

如果Lambda表达式没有参数，可以省略 `->`：

```kotlin
val greet = { println("Hello, World!") }
greet() // 输出: Hello, World!
```

### 单参数的Lambda表达式

当Lambda表达式只有一个参数时，可以使用 `it` 关键字来引用这个参数：

```kotlin
val square = { it * it }
println(square(4)) // 输出: 16
```

## 高阶函数中的Lambda表达式

Lambda表达式通常用于高阶函数中，即接受函数作为参数或返回函数的函数。例如，Kotlin标准库中的 `map` 函数就是一个高阶函数，它接受一个Lambda表达式作为参数：

```kotlin
val numbers = listOf(1, 2, 3, 4, 5)
val squares = numbers.map { it * it }
println(squares) // 输出: [1, 4, 9, 16, 25]
```

在这个例子中，`map` 函数对列表中的每个元素应用了Lambda表达式 `{ it * it }`，并返回一个新的列表。

## 实际应用场景

### 1. 事件处理

在Android开发中，Lambda表达式常用于事件处理。例如，为按钮设置点击事件：

```kotlin
button.setOnClickListener { 
    println("Button clicked!")
}
```

### 2. 集合操作

Lambda表达式在集合操作中非常有用。例如，过滤一个列表：

```kotlin
val numbers = listOf(1, 2, 3, 4, 5)
val evenNumbers = numbers.filter { it % 2 == 0 }
println(evenNumbers) // 输出: [2, 4]
```

### 3. 线程操作

在Kotlin中，可以使用Lambda表达式来简化线程操作：

```kotlin
Thread {
    println("Running in a separate thread")
}.start()
```

## 总结

Lambda表达式是Kotlin中一个非常强大的特性，它使得代码更加简洁和易读。通过Lambda表达式，你可以轻松地将函数作为参数传递，或者将函数赋值给变量。Lambda表达式在高阶函数、集合操作、事件处理等场景中都有广泛的应用。

## 附加资源与练习

- **官方文档**: [Kotlin Lambda表达式](https://kotlinlang.org/docs/lambdas.html)
- **练习**: 尝试使用Lambda表达式实现一个简单的计算器，支持加、减、乘、除操作。

:::tip
在编写Lambda表达式时，尽量保持简洁，避免过于复杂的逻辑。如果Lambda表达式变得复杂，考虑将其提取为一个独立的函数。
:::