---
title: Kotlin语法基础
description: 了解Kotlin编程语言的基本语法，包括变量、函数、控制流等核心概念，适合初学者入门。
---

## 介绍

Kotlin 是一种现代、简洁且安全的编程语言，广泛应用于 Android 开发、服务器端开发以及其他领域。它的语法设计旨在减少样板代码，同时提供强大的功能。本文将带你了解 Kotlin 的基础语法，帮助你快速上手。

---

## 变量与常量

在 Kotlin 中，变量和常量的声明非常简单。使用 `var` 声明可变变量，使用 `val` 声明不可变常量。

```kotlin
var name = "Kotlin" // 可变变量
val pi = 3.14       // 不可变常量
```

:::note
- `var` 声明的变量可以重新赋值。
- `val` 声明的常量一旦赋值后不可更改。
:::

---

## 数据类型

Kotlin 是一种静态类型语言，但它支持类型推断。常见的数据类型包括：

- 数字类型：`Int`, `Double`, `Float`, `Long`, `Short`, `Byte`
- 布尔类型：`Boolean`
- 字符类型：`Char`
- 字符串类型：`String`
- 数组类型：`Array`

```kotlin
val age: Int = 25
val temperature: Double = 36.5
val isStudent: Boolean = true
val initial: Char = 'K'
val greeting: String = "Hello, Kotlin!"
val numbers: Array<Int> = arrayOf(1, 2, 3, 4, 5)
```

---

## 函数

Kotlin 使用 `fun` 关键字定义函数。函数可以有参数和返回值。

```kotlin
fun greet(name: String): String {
    return "Hello, $name!"
}

println(greet("World")) // 输出: Hello, World!
```

:::tip
如果函数体只有一行表达式，可以使用单表达式函数简化代码：

```kotlin
fun greet(name: String) = "Hello, $name!"
```
:::

---

## 控制流

Kotlin 提供了多种控制流结构，包括 `if`、`when`、`for` 和 `while`。

### if 表达式

Kotlin 中的 `if` 可以作为表达式使用，返回一个值。

```kotlin
val max = if (a > b) a else b
```

### when 表达式

`when` 是 Kotlin 中的多分支条件语句，类似于其他语言中的 `switch`。

```kotlin
val grade = when (score) {
    in 90..100 -> "A"
    in 80..89  -> "B"
    in 70..79  -> "C"
    else       -> "F"
}
```

### for 循环

`for` 循环用于遍历集合或范围。

```kotlin
for (i in 1..5) {
    println(i) // 输出: 1 2 3 4 5
}
```

### while 循环

`while` 和 `do-while` 循环用于重复执行代码块。

```kotlin
var i = 0
while (i < 5) {
    println(i) // 输出: 0 1 2 3 4
    i++
}
```

---

## 类与对象

Kotlin 是一种面向对象的语言，支持类和对象。使用 `class` 关键字定义类。

```kotlin
class Person(val name: String, var age: Int) {
    fun greet() {
        println("Hello, my name is $name and I am $age years old.")
    }
}

val person = Person("Alice", 30)
person.greet() // 输出: Hello, my name is Alice and I am 30 years old.
```

:::caution
Kotlin 中的类默认是 `final` 的，不能被继承。如果需要继承，请使用 `open` 关键字。
:::

---

## 实际案例：计算器

以下是一个简单的 Kotlin 计算器示例，展示了如何结合函数和控制流实现基本功能。

```kotlin
fun calculate(operation: String, a: Int, b: Int): Int {
    return when (operation) {
        "add" -> a + b
        "subtract" -> a - b
        "multiply" -> a * b
        "divide" -> a / b
        else -> throw IllegalArgumentException("Unknown operation")
    }
}

println(calculate("add", 10, 5)) // 输出: 15
println(calculate("multiply", 3, 4)) // 输出: 12
```

---

## 总结

本文介绍了 Kotlin 的基础语法，包括变量、数据类型、函数、控制流以及类和对象。通过这些基础知识，你可以开始编写简单的 Kotlin 程序，并逐步深入学习更高级的特性。

---

## 附加资源与练习

1. **官方文档**: [Kotlin 官方文档](https://kotlinlang.org/docs/home.html) 是学习 Kotlin 的最佳资源。
2. **练习**: 尝试编写一个 Kotlin 程序，实现以下功能：
   - 输入两个数字，输出它们的和、差、积和商。
   - 创建一个 `Student` 类，包含姓名、年龄和成绩属性，并实现一个方法用于打印学生信息。

:::warning
在编写代码时，务必注意 Kotlin 的空安全特性，避免空指针异常。
:::