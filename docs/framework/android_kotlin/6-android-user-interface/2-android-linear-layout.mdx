---
title: Android线性布局
description: 了解Android中的线性布局（LinearLayout），掌握如何使用它创建简单而灵活的用户界面。
---

# Android线性布局

在Android应用开发中，布局是构建用户界面的基础。线性布局（`LinearLayout`）是最常用的布局之一，它允许你将子视图（如按钮、文本框等）按水平或垂直方向排列。本文将详细介绍线性布局的使用方法，并通过代码示例和实际案例帮助你快速掌握这一概念。

## 什么是线性布局？

线性布局是一种视图组（`ViewGroup`），它将其子视图按单一方向（水平或垂直）排列。你可以通过设置 `android:orientation` 属性来指定排列方向：

- `horizontal`：子视图从左到右排列。
- `vertical`：子视图从上到下排列。

线性布局非常适合用于创建简单的界面，例如表单、工具栏或列表项。

## 线性布局的基本属性

以下是线性布局中常用的属性：

- `android:orientation`：指定子视图的排列方向（`horizontal` 或 `vertical`）。
- `android:layout_weight`：用于分配子视图的剩余空间。
- `android:gravity`：控制子视图在布局中的对齐方式。
- `android:layout_gravity`：控制子视图在其父布局中的对齐方式。

## 代码示例

以下是一个简单的线性布局示例，展示了如何垂直排列三个按钮：

```xml
<LinearLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical"
    android:padding="16dp">

    <Button
        android:id="@+id/button1"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:text="Button 1" />

    <Button
        android:id="@+id/button2"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:text="Button 2" />

    <Button
        android:id="@+id/button3"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:text="Button 3" />
</LinearLayout>
```

### 输出效果

上述代码将生成一个垂直排列的按钮列表，每个按钮的宽度与父布局相同，高度根据内容自动调整。

## 使用 `layout_weight` 分配空间

`android:layout_weight` 属性允许你按比例分配子视图的剩余空间。以下示例展示了如何使用 `layout_weight` 创建两个宽度相等的按钮：

```xml
<LinearLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="horizontal"
    android:padding="16dp">

    <Button
        android:id="@+id/button1"
        android:layout_width="0dp"
        android:layout_height="wrap_content"
        android:layout_weight="1"
        android:text="Button 1" />

    <Button
        android:id="@+id/button2"
        android:layout_width="0dp"
        android:layout_height="wrap_content"
        android:layout_weight="1"
        android:text="Button 2" />
</LinearLayout>
```

### 输出效果

两个按钮将平分父布局的宽度，因为它们具有相同的 `layout_weight` 值。

:::tip
如果你希望某个子视图占据更多空间，可以为其分配更大的 `layout_weight` 值。
:::

## 实际案例：登录表单

以下是一个使用线性布局创建的简单登录表单示例：

```xml
<LinearLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical"
    android:padding="16dp">

    <EditText
        android:id="@+id/username"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:hint="用户名" />

    <EditText
        android:id="@+id/password"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:hint="密码"
        android:inputType="textPassword" />

    <Button
        android:id="@+id/loginButton"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:text="登录" />
</LinearLayout>
```

### 输出效果

该表单包含一个用户名输入框、一个密码输入框和一个登录按钮，所有元素垂直排列。

## 总结

线性布局是Android开发中最常用的布局之一，适合用于创建简单的用户界面。通过设置 `android:orientation` 和 `android:layout_weight` 等属性，你可以轻松控制子视图的排列方式和空间分配。

:::note
线性布局虽然简单易用，但在处理复杂界面时可能会显得不够灵活。对于更复杂的布局需求，可以考虑使用 `ConstraintLayout` 或 `RelativeLayout`。
:::

## 附加资源与练习

1. **官方文档**：阅读 [Android官方文档](https://developer.android.com/reference/android/widget/LinearLayout) 以了解更多关于线性布局的详细信息。
2. **练习**：尝试创建一个包含多个文本框和按钮的线性布局，并使用 `layout_weight` 属性调整它们的宽度或高度比例。
3. **扩展阅读**：学习如何使用 `ConstraintLayout` 创建更复杂的界面布局。

希望本文能帮助你掌握Android线性布局的基本用法！如果你有任何问题，欢迎在评论区留言。