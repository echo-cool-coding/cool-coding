---
title: Android清单文件
description: 了解Android清单文件（AndroidManifest.xml）的作用、结构及其在Android应用开发中的重要性。
---

## 介绍

在Android开发中，**Android清单文件**（`AndroidManifest.xml`）是一个至关重要的配置文件。它位于应用的根目录下，用于定义应用的基本信息、组件、权限以及其他关键配置。清单文件是Android系统了解应用结构和行为的入口，因此理解其作用和使用方法是开发Android应用的基础。

## 清单文件的作用

Android清单文件的主要作用包括：

1. **声明应用的组件**：如Activity、Service、BroadcastReceiver和ContentProvider。
2. **定义应用权限**：声明应用需要的权限，以及应用向其他应用提供的权限。
3. **指定应用的最低和目标API级别**：确保应用在特定版本的Android系统上运行。
4. **配置应用特性**：如硬件需求、屏幕方向、主题等。

## 清单文件的结构

一个典型的`AndroidManifest.xml`文件结构如下：

```xml
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="com.example.myapp">

    <application
        android:allowBackup="true"
        android:icon="@mipmap/ic_launcher"
        android:label="@string/app_name"
        android:roundIcon="@mipmap/ic_launcher_round"
        android:supportsRtl="true"
        android:theme="@style/AppTheme">
        
        <activity android:name=".MainActivity">
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>
    </application>
</manifest>
```

### 1. `<manifest>` 标签

`<manifest>` 是清单文件的根元素，包含以下重要属性：

- `xmlns:android`：定义Android命名空间。
- `package`：指定应用的唯一包名。

### 2. `<application>` 标签

`<application>` 标签用于声明应用的全局属性，如应用图标、标签、主题等。它还包含所有应用组件的声明。

### 3. `<activity>` 标签

`<activity>` 标签用于声明一个Activity组件。每个Activity都必须在此声明，否则系统无法识别和启动它。

### 4. `<intent-filter>` 标签

`<intent-filter>` 用于定义Activity如何响应系统或其他应用的请求。例如，`android.intent.action.MAIN` 和 `android.intent.category.LAUNCHER` 表示该Activity是应用的入口点。

## 实际案例

假设我们正在开发一个简单的记事本应用，以下是其清单文件的示例：

```xml
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="com.example.notepad">

    <application
        android:allowBackup="true"
        android:icon="@mipmap/ic_launcher"
        android:label="@string/app_name"
        android:theme="@style/AppTheme">
        
        <activity android:name=".MainActivity">
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>

        <activity android:name=".NoteDetailActivity" />
        
        <service android:name=".NoteSyncService" />
        
        <receiver android:name=".NoteAlarmReceiver" />
    </application>
</manifest>
```

在这个例子中，我们声明了两个Activity（`MainActivity` 和 `NoteDetailActivity`）、一个Service（`NoteSyncService`）和一个BroadcastReceiver（`NoteAlarmReceiver`）。

## 权限声明

Android应用需要访问某些系统功能时，必须在清单文件中声明相应的权限。例如，如果应用需要访问网络，可以添加以下权限声明：

```xml
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="com.example.notepad">

    <uses-permission android:name="android.permission.INTERNET" />

    <application ...>
        ...
    </application>
</manifest>
```

:::caution
注意：从Android 6.0（API级别23）开始，某些权限需要在运行时动态请求，而不仅仅是在清单文件中声明。
:::

## 总结

Android清单文件是Android应用开发中不可或缺的一部分。它定义了应用的基本信息、组件、权限等，是Android系统了解应用行为的入口。通过合理配置清单文件，开发者可以确保应用在Android设备上正常运行，并满足用户需求。

## 附加资源

- [Android官方文档：应用清单](https://developer.android.com/guide/topics/manifest/manifest-intro)
- [Android权限指南](https://developer.android.com/guide/topics/permissions/overview)

## 练习

1. 创建一个新的Android项目，并修改其清单文件，添加一个新的Activity。
2. 在清单文件中声明一个权限，例如访问网络或读取存储。
3. 尝试为你的应用添加一个Service，并在清单文件中声明它。

通过以上练习，你将更深入地理解Android清单文件的作用和配置方法。