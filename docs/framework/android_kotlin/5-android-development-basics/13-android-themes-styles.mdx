---
title: Android主题与样式
description: 了解如何在Android应用中使用主题和样式来统一UI设计，提升用户体验。本文适合初学者，包含基础概念、代码示例和实际应用场景。
---

## 介绍

在Android开发中，**主题（Theme）**和**样式（Style）**是用于定义应用外观和感觉的重要工具。它们可以帮助开发者统一应用的设计风格，减少重复代码，并提升用户体验。通过使用主题和样式，你可以轻松地管理颜色、字体、边距等UI属性，并在整个应用中保持一致。

### 主题与样式的区别

- **样式（Style）**：样式是一组属性的集合，用于定义单个视图（View）的外观。例如，你可以为按钮定义一个样式，指定其背景颜色、文本颜色和字体大小。
- **主题（Theme）**：主题是应用于整个应用或Activity的样式集合。它定义了应用的整体外观，包括颜色、字体、窗口背景等。

## 创建和使用样式

### 定义样式

在Android中，样式通常在`res/values/styles.xml`文件中定义。以下是一个简单的样式定义示例：

```xml
<resources>
    <style name="MyButtonStyle">
        <item name="android:background">@color/primaryColor</item>
        <item name="android:textColor">@color/white</item>
        <item name="android:textSize">16sp</item>
    </style>
</resources>
```

在这个例子中，我们定义了一个名为`MyButtonStyle`的样式，它设置了按钮的背景颜色、文本颜色和字体大小。

### 应用样式

定义好样式后，你可以在布局文件中将其应用到视图上：

```xml
<Button
    android:id="@+id/myButton"
    style="@style/MyButtonStyle"
    android:text="Click Me" />
```

通过这种方式，你可以轻松地将相同的样式应用到多个按钮上，而不需要重复设置属性。

## 创建和使用主题

### 定义主题

主题的定义方式与样式类似，但通常包含更多的全局属性。以下是一个简单的主题定义示例：

```xml
<resources>
    <style name="MyAppTheme" parent="Theme.MaterialComponents.DayNight">
        <item name="colorPrimary">@color/primaryColor</item>
        <item name="colorPrimaryVariant">@color/primaryDarkColor</item>
        <item name="colorOnPrimary">@color/white</item>
        <item name="android:windowBackground">@color/windowBackground</item>
    </style>
</resources>
```

在这个例子中，我们定义了一个名为`MyAppTheme`的主题，它继承了`Theme.MaterialComponents.DayNight`，并设置了应用的主要颜色、窗口背景等属性。

### 应用主题

你可以在`AndroidManifest.xml`文件中将主题应用到整个应用或某个Activity：

```xml
<application
    android:theme="@style/MyAppTheme">
    <activity
        android:name=".MainActivity"
        android:theme="@style/MyAppTheme">
    </activity>
</application>
```

通过这种方式，你可以确保整个应用或某个Activity的UI风格一致。

## 实际应用场景

### 夜间模式

Android的主题系统支持夜间模式，你可以通过定义不同的主题来切换应用的外观。以下是一个简单的夜间模式主题定义：

```xml
<resources>
    <style name="MyAppTheme.Night" parent="Theme.MaterialComponents.DayNight">
        <item name="colorPrimary">@color/nightPrimaryColor</item>
        <item name="colorPrimaryVariant">@color/nightPrimaryDarkColor</item>
        <item name="colorOnPrimary">@color/nightWhite</item>
        <item name="android:windowBackground">@color/nightWindowBackground</item>
    </style>
</resources>
```

在代码中，你可以通过以下方式切换主题：

```java
AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_YES);
```

### 自定义对话框样式

你可以通过定义主题来定制对话框的外观。以下是一个自定义对话框主题的示例：

```xml
<resources>
    <style name="MyDialogTheme" parent="Theme.AppCompat.Dialog">
        <item name="android:windowBackground">@drawable/dialog_background</item>
        <item name="android:textColor">@color/dialogTextColor</item>
    </style>
</resources>
```

在代码中，你可以通过以下方式应用自定义对话框主题：

```java
AlertDialog.Builder builder = new AlertDialog.Builder(this, R.style.MyDialogTheme);
builder.setTitle("Custom Dialog")
       .setMessage("This is a custom dialog.")
       .setPositiveButton("OK", null)
       .show();
```

## 总结

通过使用Android的主题和样式，你可以轻松地统一应用的外观和感觉，减少重复代码，并提升用户体验。本文介绍了如何定义和应用样式与主题，并通过实际应用场景展示了它们的强大功能。

### 附加资源

- [Android官方文档：样式和主题](https://developer.android.com/guide/topics/ui/themes)
- [Material Design主题指南](https://material.io/develop/android/theming)

### 练习

1. 创建一个新的样式，并将其应用到多个按钮上。
2. 定义一个夜间模式主题，并在应用中实现主题切换功能。
3. 自定义一个对话框样式，并在应用中使用它。

通过完成这些练习，你将更好地掌握Android主题与样式的使用。