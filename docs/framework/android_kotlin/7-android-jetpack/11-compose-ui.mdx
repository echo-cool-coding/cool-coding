---
title: Compose UI
description: 了解 Android Jetpack 中的 Compose UI，掌握如何使用声明式 UI 构建现代 Android 应用。
---

# Compose UI

## 介绍

Compose UI 是 Android Jetpack 中的一个现代 UI 工具包，它采用声明式编程模型来构建用户界面。与传统的 XML 布局方式不同，Compose 允许开发者使用 Kotlin 代码来定义 UI，从而简化了 UI 开发流程，并提高了代码的可读性和可维护性。

Compose 的核心思想是**声明式 UI**，即通过描述 UI 应该是什么样子，而不是如何一步步构建它。这种方式使得 UI 开发更加直观和高效。

## 为什么选择 Compose？

- **声明式编程**：通过描述 UI 的状态，而不是手动管理 UI 的变化。
- **简化代码**：减少样板代码，提高开发效率。
- **实时预览**：支持实时预览 UI 变化，加快开发速度。
- **强大的工具支持**：与 Android Studio 深度集成，提供丰富的开发工具。

## 基本概念

### 1. Composable 函数

在 Compose 中，UI 组件是通过 `@Composable` 注解的函数来定义的。这些函数被称为 **Composable 函数**。每个 Composable 函数都描述了一个 UI 组件或一组 UI 组件。

```kotlin
@Composable
fun Greeting(name: String) {
    Text(text = "Hello, $name!")
}
```

在这个例子中，`Greeting` 是一个 Composable 函数，它显示了一个简单的文本组件。

### 2. 状态管理

Compose 使用 **状态** 来驱动 UI 的更新。当状态发生变化时，Compose 会自动重新绘制相关的 UI 组件。

```kotlin
@Composable
fun Counter() {
    var count by remember { mutableStateOf(0) }

    Button(onClick = { count++ }) {
        Text("Clicked $count times")
    }
}
```

在这个例子中，`count` 是一个状态变量。每次点击按钮时，`count` 的值会增加，并且 UI 会自动更新以显示新的点击次数。

### 3. 布局

Compose 提供了多种布局组件，如 `Column`、`Row` 和 `Box`，用于组织 UI 元素。

```kotlin
@Composable
fun UserProfile(name: String, age: Int) {
    Column {
        Text(text = "Name: $name")
        Text(text = "Age: $age")
    }
}
```

在这个例子中，`Column` 用于垂直排列两个文本组件。

## 实际案例

### 构建一个简单的待办事项列表

让我们通过一个实际的例子来展示如何使用 Compose 构建一个简单的待办事项列表。

```kotlin
@Composable
fun TodoList(tasks: List<String>) {
    Column {
        tasks.forEach { task ->
            Text(text = task)
        }
    }
}

@Composable
fun TodoApp() {
    val tasks = listOf("Buy groceries", "Walk the dog", "Write code")
    TodoList(tasks = tasks)
}
```

在这个例子中，`TodoList` 是一个 Composable 函数，它接收一个任务列表并显示每个任务。`TodoApp` 则是一个包含所有任务的 Composable 函数。

## 总结

Compose UI 是 Android 开发中的一项革命性技术，它通过声明式编程模型简化了 UI 开发流程。通过 Composable 函数、状态管理和布局组件，开发者可以更高效地构建现代 Android 应用。

## 附加资源

- [官方 Compose 文档](https://developer.android.com/jetpack/compose)
- [Compose 示例代码](https://github.com/android/compose-samples)
- [Kotlin 编程语言](https://kotlinlang.org/)

## 练习

1. 创建一个 Composable 函数，显示一个包含用户姓名和头像的用户卡片。
2. 使用状态管理实现一个简单的计数器应用，点击按钮时增加计数。
3. 使用 `Row` 和 `Column` 布局组件构建一个简单的表单界面。

通过完成这些练习，你将更好地理解 Compose UI 的核心概念，并能够将其应用到实际项目中。