---
title: CSS 选择器优先级
description: 了解CSS选择器优先级的工作原理，掌握如何计算和应用优先级，确保样式按预期生效。
---

# CSS 选择器优先级

在编写CSS时，我们经常会遇到多个样式规则同时作用于同一个元素的情况。这时，浏览器需要决定哪个样式规则最终生效。CSS选择器优先级就是用来解决这个问题的机制。本文将详细介绍CSS选择器优先级的概念、计算方法以及实际应用。

## 什么是CSS选择器优先级？

CSS选择器优先级是浏览器用来确定哪个样式规则应该应用于特定元素的一种规则。当多个选择器匹配同一个元素时，优先级高的选择器将覆盖优先级低的选择器。

## 优先级计算规则

CSS选择器的优先级是通过一个权重系统来计算的。每个选择器都有一个特定的权重值，权重值越高，优先级越高。以下是优先级权重的计算规则：

1. **内联样式**：直接在HTML元素上使用`style`属性定义的样式，优先级最高，权重值为`1000`。
2. **ID选择器**：使用`#id`选择器定义的样式，权重值为`100`。
3. **类选择器、属性选择器和伪类**：使用`.class`、`[attribute]`、`:hover`等选择器定义的样式，权重值为`10`。
4. **元素选择器和伪元素**：使用`div`、`p`、`::before`等选择器定义的样式，权重值为`1`。
5. **通配符选择器、子选择器、相邻选择器**：使用`*`、`>`、`+`等选择器定义的样式，权重值为`0`。

:::note
**注意**：优先级权重值并不是简单的相加，而是按照`(a, b, c, d)`的形式进行计算，其中`a`代表内联样式，`b`代表ID选择器，`c`代表类选择器、属性选择器和伪类，`d`代表元素选择器和伪元素。
:::

### 示例

```css
/* 权重值为 (0, 1, 0, 1) */
div#header {
  color: blue;
}

/* 权重值为 (0, 0, 2, 1) */
div.content .title {
  color: red;
}

/* 权重值为 (0, 0, 1, 0) */
.title {
  color: green;
}
```

在上面的例子中，`div#header`的权重值为`(0, 1, 0, 1)`，`div.content .title`的权重值为`(0, 0, 2, 1)`，而`.title`的权重值为`(0, 0, 1, 0)`。因此，`div#header`的样式将优先于其他两个选择器。

## 实际应用场景

### 场景1：覆盖默认样式

假设我们有一个按钮，默认样式为灰色背景，但我们希望在特定情况下将其背景色改为蓝色。

```html
<button class="btn primary">Submit</button>
```

```css
/* 默认样式 */
.btn {
  background-color: gray;
}

/* 特定情况下的样式 */
.btn.primary {
  background-color: blue;
}
```

在这个例子中，`.btn.primary`的权重值为`(0, 0, 2, 0)`，高于`.btn`的权重值`(0, 0, 1, 0)`，因此按钮的背景色将变为蓝色。

### 场景2：使用ID选择器

在某些情况下，我们可能需要使用ID选择器来确保样式的高优先级。

```html
<div id="header" class="header">Welcome</div>
```

```css
/* 类选择器 */
.header {
  color: red;
}

/* ID选择器 */
#header {
  color: blue;
}
```

在这个例子中，`#header`的权重值为`(0, 1, 0, 0)`，高于`.header`的权重值`(0, 0, 1, 0)`，因此`div`的文本颜色将变为蓝色。

## 总结

CSS选择器优先级是CSS中一个非常重要的概念，它决定了当多个样式规则冲突时，哪个规则将最终生效。通过理解优先级权重的计算规则，我们可以更好地控制样式的应用，避免不必要的样式冲突。

:::tip
**提示**：在实际开发中，尽量避免过度使用高优先级的选择器（如ID选择器和内联样式），以保持代码的可维护性和灵活性。
:::

## 附加资源与练习

- **练习1**：尝试编写一个包含多个选择器的CSS文件，并计算每个选择器的优先级权重。
- **练习2**：在实际项目中，尝试使用类选择器和伪类选择器来替代ID选择器，观察样式的变化。

通过不断练习和实践，你将能够更加熟练地掌握CSS选择器优先级的应用。