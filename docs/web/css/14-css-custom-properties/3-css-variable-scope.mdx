---
title: CSS 变量作用域
description: 了解CSS自定义属性（变量）的作用域，掌握如何在局部和全局范围内定义和使用CSS变量。
---

# CSS 变量作用域

CSS自定义属性（也称为CSS变量）是CSS中非常强大的功能，它允许你在样式表中定义可重用的值。理解CSS变量的作用域是掌握其用法的关键。本文将详细介绍CSS变量的作用域，并通过示例帮助你更好地理解。

## 什么是CSS变量作用域？

CSS变量的作用域决定了变量在何处可以被访问和使用。作用域可以是**全局**的，也可以是**局部**的。全局变量可以在整个文档中使用，而局部变量只能在定义它的选择器及其子元素中使用。

### 全局作用域

全局变量通常在 `:root` 伪类中定义。`:root` 表示文档的根元素，通常是 `<html>` 元素。在 `:root` 中定义的变量可以在整个文档中使用。

```css
:root {
  --primary-color: #3498db;
}

body {
  background-color: var(--primary-color);
}
```

在这个例子中，`--primary-color` 是一个全局变量，因此可以在 `body` 选择器中使用。

### 局部作用域

局部变量在特定的选择器中定义，并且只能在该选择器及其子元素中使用。

```css
.container {
  --padding: 20px;
  padding: var(--padding);
}

.container .box {
  padding: var(--padding);
}
```

在这个例子中，`--padding` 是一个局部变量，只能在 `.container` 及其子元素 `.box` 中使用。

## 作用域的优先级

当全局变量和局部变量同名时，局部变量会覆盖全局变量。这意味着在局部作用域中，局部变量的值会被优先使用。

```css
:root {
  --color: red;
}

.container {
  --color: blue;
  color: var(--color);
}
```

在这个例子中，`.container` 中的 `--color` 变量会覆盖 `:root` 中的 `--color` 变量，因此 `.container` 中的文本颜色将是蓝色。

## 实际应用场景

### 主题切换

CSS变量的作用域在主题切换中非常有用。你可以通过更改根元素中的变量值来切换整个页面的主题。

```css
:root {
  --background-color: white;
  --text-color: black;
}

.dark-theme {
  --background-color: black;
  --text-color: white;
}

body {
  background-color: var(--background-color);
  color: var(--text-color);
}
```

通过切换 `body` 元素的类名，可以轻松地在亮色和暗色主题之间切换。

### 响应式设计

CSS变量还可以用于响应式设计。你可以根据屏幕宽度更改变量的值，从而调整布局。

```css
:root {
  --gutter: 10px;
}

@media (min-width: 768px) {
  :root {
    --gutter: 20px;
  }
}

.container {
  padding: var(--gutter);
}
```

在这个例子中，当屏幕宽度大于768px时，`--gutter` 的值会从10px变为20px，从而调整 `.container` 的内边距。

## 总结

CSS变量的作用域是CSS自定义属性的一个重要概念。通过理解全局和局部作用域，你可以更灵活地管理和使用CSS变量。全局变量适用于整个文档，而局部变量则适用于特定的选择器及其子元素。在实际开发中，CSS变量的作用域可以帮助你实现主题切换、响应式设计等功能。

## 附加资源与练习

- **练习1**：尝试在一个HTML文档中定义多个全局和局部变量，并在不同的选择器中使用它们。
- **练习2**：创建一个简单的主题切换功能，使用CSS变量来切换页面的背景颜色和文本颜色。
- **附加资源**：阅读MDN文档中关于[CSS自定义属性](https://developer.mozilla.org/en-US/docs/Web/CSS/Using_CSS_custom_properties)的更多内容，深入了解其高级用法。

通过不断练习和探索，你将能够熟练掌握CSS变量的作用域，并在实际项目中灵活运用。