---
title: CSS 变量使用
description: 学习如何使用CSS自定义属性（CSS变量）来简化样式管理并提高代码的可维护性。
---

# CSS 变量使用

CSS自定义属性，通常称为CSS变量，是一种强大的工具，可以帮助你更高效地管理和重用样式。通过使用CSS变量，你可以在一个地方定义值，并在整个样式表中重复使用它们。这不仅减少了代码的重复性，还使得样式的更新变得更加容易。

## 什么是CSS变量？

CSS变量是CSS中的一种自定义属性，允许你在样式表中定义可重用的值。这些值可以在整个文档中使用，并且可以通过JavaScript动态修改。CSS变量的语法非常简单，使用`--`作为前缀来定义变量，并通过`var()`函数来引用它们。

### 定义CSS变量

要定义一个CSS变量，你需要在选择器中使用`--`前缀，后跟变量名和值。例如：

```css
:root {
  --primary-color: #3498db;
  --secondary-color: #2ecc71;
}
```

在这个例子中，我们在`:root`选择器中定义了两个变量：`--primary-color`和`--secondary-color`。`:root`选择器表示文档的根元素，通常是`<html>`元素，因此这些变量在整个文档中都是可用的。

### 使用CSS变量

要使用CSS变量，你可以使用`var()`函数。例如：

```css
body {
  background-color: var(--primary-color);
}

button {
  background-color: var(--secondary-color);
}
```

在这个例子中，`body`的背景颜色被设置为`--primary-color`的值，而`button`的背景颜色被设置为`--secondary-color`的值。

## CSS 变量的优势

使用CSS变量有以下几个主要优势：

1. **减少重复代码**：通过将常用的值存储在变量中，你可以避免在多个地方重复相同的值。
2. **提高可维护性**：如果需要更改某个值，只需修改变量的定义，而不必在整个样式表中查找和替换。
3. **动态更新**：CSS变量可以通过JavaScript动态修改，这使得它们非常适合用于主题切换或响应式设计。

## 实际案例

假设你正在开发一个网站，并且希望在不同的组件中使用相同的颜色方案。通过使用CSS变量，你可以轻松地管理这些颜色。

```css
:root {
  --primary-color: #3498db;
  --secondary-color: #2ecc71;
  --text-color: #333;
}

.header {
  background-color: var(--primary-color);
  color: var(--text-color);
}

.button {
  background-color: var(--secondary-color);
  color: var(--text-color);
}
```

在这个例子中，`header`和`button`组件都使用了相同的颜色方案。如果你需要更改颜色，只需修改变量的定义即可。

## 动态修改CSS变量

CSS变量可以通过JavaScript动态修改。这使得它们非常适合用于实现主题切换功能。例如：

```javascript
document.documentElement.style.setProperty('--primary-color', '#e74c3c');
```

这行代码将`--primary-color`的值更改为`#e74c3c`，从而动态更新了页面的样式。

## 总结

CSS变量是一种强大的工具，可以帮助你更高效地管理和重用样式。通过减少代码重复、提高可维护性以及支持动态更新，CSS变量在现代Web开发中扮演着越来越重要的角色。

## 附加资源

- [MDN Web Docs: CSS Custom Properties](https://developer.mozilla.org/en-US/docs/Web/CSS/Using_CSS_custom_properties)
- [CSS Variables: A Complete Guide](https://css-tricks.com/a-complete-guide-to-custom-properties/)

## 练习

1. 在你的项目中定义一个CSS变量，并在多个地方使用它。
2. 尝试通过JavaScript动态修改CSS变量的值，观察页面的变化。
3. 创建一个简单的主题切换功能，使用CSS变量来管理不同主题的颜色方案。

通过实践这些练习，你将更好地理解CSS变量的使用方法和优势。