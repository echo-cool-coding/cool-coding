---
title: CSS 循环
description: 了解如何在CSS预处理器中使用循环功能，简化重复样式代码的编写，提升开发效率。
---

# CSS 循环

在编写CSS时，我们经常会遇到需要重复编写类似样式的情况。例如，为多个元素设置相同的样式，或者生成一系列有规律的样式。手动编写这些代码不仅耗时，还容易出错。幸运的是，CSS预处理器（如Sass、Less等）提供了**循环**功能，可以帮助我们自动化这些重复任务。

## 什么是CSS循环？

CSS循环是一种编程结构，允许你重复执行一段代码，直到满足特定条件。通过循环，你可以动态生成CSS规则，减少代码冗余，并提高代码的可维护性。

在CSS预处理器中，循环通常用于以下场景：
- 生成一系列有规律的类名或样式。
- 遍历列表或映射，为每个项生成样式。
- 动态生成网格布局或动画关键帧。

## 基本语法

以Sass为例，Sass提供了`@for`、`@each`和`@while`三种循环结构。下面我们将逐一介绍它们的用法。

### 1. `@for` 循环

`@for`循环用于重复执行一段代码，通常用于生成一系列有规律的样式。

```scss
@for $i from 1 through 5 {
  .item-#{$i} {
    width: 20px * $i;
  }
}
```

**输出：**
```css
.item-1 {
  width: 20px;
}
.item-2 {
  width: 40px;
}
.item-3 {
  width: 60px;
}
.item-4 {
  width: 80px;
}
.item-5 {
  width: 100px;
}
```

在这个例子中，`@for`循环从1到5迭代，每次生成一个类名`.item-#{$i}`，并根据`$i`的值动态设置宽度。

### 2. `@each` 循环

`@each`循环用于遍历列表或映射中的每个项，并为每个项生成样式。

```scss
$colors: red, green, blue;

@each $color in $colors {
  .#{$color}-text {
    color: $color;
  }
}
```

**输出：**
```css
.red-text {
  color: red;
}
.green-text {
  color: green;
}
.blue-text {
  color: blue;
}
```

在这个例子中，`@each`循环遍历`$colors`列表中的每个颜色，并生成对应的类名和样式。

### 3. `@while` 循环

`@while`循环在满足特定条件时重复执行一段代码。

```scss
$i: 1;
@while $i <= 3 {
  .box-#{$i} {
    width: 50px * $i;
  }
  $i: $i + 1;
}
```

**输出：**
```css
.box-1 {
  width: 50px;
}
.box-2 {
  width: 100px;
}
.box-3 {
  width: 150px;
}
```

在这个例子中，`@while`循环在`$i`小于等于3时重复执行，每次生成一个类名`.box-#{$i}`，并根据`$i`的值动态设置宽度。

## 实际应用场景

### 1. 生成网格布局

假设你需要生成一个12列的网格布局，可以使用`@for`循环动态生成类名和样式。

```scss
@for $i from 1 through 12 {
  .col-#{$i} {
    width: (100% / 12) * $i;
  }
}
```

**输出：**
```css
.col-1 {
  width: 8.33333%;
}
.col-2 {
  width: 16.66667%;
}
...
.col-12 {
  width: 100%;
}
```

### 2. 生成动画关键帧

你可以使用循环生成一系列动画关键帧。

```scss
@for $i from 0 through 10 {
  @keyframes fade-#{$i} {
    #{($i * 10%)} {
      opacity: $i * 0.1;
    }
  }
}
```

**输出：**
```css
@keyframes fade-0 {
  0% {
    opacity: 0;
  }
}
@keyframes fade-1 {
  10% {
    opacity: 0.1;
  }
}
...
@keyframes fade-10 {
  100% {
    opacity: 1;
  }
}
```

## 总结

CSS循环是CSS预处理器中非常强大的功能，可以帮助你简化重复样式代码的编写，提升开发效率。通过`@for`、`@each`和`@while`循环，你可以动态生成样式规则，减少代码冗余，并提高代码的可维护性。

:::tip 提示
在实际项目中，合理使用循环可以显著减少代码量，但也要注意避免过度使用，以免生成过多不必要的样式。
:::

## 附加资源与练习

- **练习1**：使用`@for`循环生成一个包含10个类名的列表，每个类名设置不同的背景颜色。
- **练习2**：使用`@each`循环遍历一个包含5种字体的列表，并为每种字体生成对应的类名和样式。
- **进一步学习**：阅读Sass官方文档，了解更多关于循环的高级用法和技巧。

通过不断练习和实践，你将能够熟练掌握CSS循环，并在实际项目中灵活运用。