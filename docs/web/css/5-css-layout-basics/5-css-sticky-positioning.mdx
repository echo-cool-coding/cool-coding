---
title: CSS 粘性定位
description: 学习如何使用CSS的粘性定位（sticky positioning）来创建在滚动时固定在页面特定位置的元素。
---

# CSS 粘性定位

CSS粘性定位（sticky positioning）是一种结合了相对定位（relative positioning）和固定定位（fixed positioning）的布局技术。它允许元素在滚动到特定位置时“粘”在页面的某个位置，直到滚动到另一个特定位置为止。这种技术非常适合用于创建导航栏、侧边栏或其他需要在滚动时保持可见的元素。

## 什么是粘性定位？

粘性定位是CSS中的一种定位方式，通过设置 `position: sticky` 来实现。它使元素在滚动到某个阈值之前表现为相对定位，而在滚动到阈值之后表现为固定定位。这个阈值通常由 `top`、`bottom`、`left` 或 `right` 属性定义。

### 语法

```css
.element {
  position: sticky;
  top: 10px;
}
```

在上面的代码中，`.element` 会在滚动到距离视口顶部10px时“粘”在那里，直到滚动到另一个特定位置为止。

## 如何使用粘性定位？

### 基本用法

假设我们有一个导航栏，希望在页面滚动时始终保持在页面顶部。我们可以使用粘性定位来实现这一效果。

```html
<nav class="navbar">
  <ul>
    <li><a href="#home">Home</a></li>
    <li><a href="#about">About</a></li>
    <li><a href="#services">Services</a></li>
    <li><a href="#contact">Contact</a></li>
  </ul>
</nav>
```

```css
.navbar {
  position: sticky;
  top: 0;
  background-color: #333;
  color: white;
  padding: 10px;
}
```

在这个例子中，`.navbar` 会在滚动到页面顶部时“粘”在那里，直到页面继续滚动。

### 粘性定位的限制

粘性定位的效果只在父元素内有效。如果父元素的高度不足以让元素滚动到阈值位置，粘性定位将不会生效。

```html
<div class="container">
  <div class="sticky-element">I am sticky!</div>
  <div class="content">Lots of content here...</div>
</div>
```

```css
.container {
  height: 200px;
  overflow-y: scroll;
}

.sticky-element {
  position: sticky;
  top: 0;
  background-color: yellow;
}
```

在这个例子中，`.sticky-element` 会在 `.container` 内滚动到顶部时“粘”在那里。如果 `.container` 的高度不足以让 `.sticky-element` 滚动到顶部，粘性定位将不会生效。

## 实际应用场景

### 1. 导航栏

粘性定位最常见的应用场景之一是导航栏。通过将导航栏设置为粘性定位，用户可以随时访问导航栏，而不必滚动回页面顶部。

```css
.navbar {
  position: sticky;
  top: 0;
  background-color: #333;
  color: white;
  padding: 10px;
}
```

### 2. 表格标题

在长表格中，表格标题可以使用粘性定位，以便在滚动表格时始终可见。

```css
th {
  position: sticky;
  top: 0;
  background-color: white;
}
```

### 3. 侧边栏

侧边栏也可以使用粘性定位，以便在滚动页面时保持可见。

```css
.sidebar {
  position: sticky;
  top: 20px;
  background-color: #f4f4f4;
  padding: 10px;
}
```

## 总结

CSS粘性定位是一种强大的布局工具，特别适合用于需要在滚动时保持可见的元素。通过设置 `position: sticky` 和适当的 `top`、`bottom`、`left` 或 `right` 值，你可以轻松实现这一效果。

:::tip
粘性定位的效果只在父元素内有效，因此在使用时要注意父元素的高度和滚动行为。
:::

## 附加资源

- [MDN Web Docs: position](https://developer.mozilla.org/en-US/docs/Web/CSS/position)
- [CSS-Tricks: position sticky](https://css-tricks.com/almanac/properties/p/position/)

## 练习

1. 创建一个包含粘性导航栏的网页，并确保导航栏在滚动时始终保持在页面顶部。
2. 尝试在一个长表格中使用粘性定位，使表格标题在滚动时始终可见。
3. 创建一个带有粘性侧边栏的页面，并确保侧边栏在滚动时保持在页面的一侧。

通过练习这些例子，你将更好地理解CSS粘性定位的工作原理和应用场景。