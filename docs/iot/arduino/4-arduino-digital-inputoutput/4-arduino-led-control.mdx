---
title: Arduino LED控制
description: "学习如何使用Arduino控制LED灯，掌握数字输入输出的基本原理和实际应用。"
---

## 介绍

Arduino是一个开源的电子原型平台，广泛应用于各种电子项目中。LED（发光二极管）是最常见的电子元件之一，常用于指示状态或显示信息。通过Arduino控制LED，你可以学习数字输入输出的基本原理，并为更复杂的项目打下基础。

在本教程中，我们将学习如何使用Arduino控制LED的开关和亮度，并探讨一些实际应用场景。

## 所需材料

- Arduino开发板（如Arduino Uno）
- LED灯
- 220欧姆电阻
- 面包板
- 连接线

## 基础电路连接

在开始编程之前，我们需要将LED连接到Arduino开发板上。以下是连接步骤：

1. 将LED的长脚（正极）连接到Arduino的数字引脚（例如D13）。
2. 将LED的短脚（负极）通过220欧姆电阻连接到Arduino的GND（地）引脚。

:::note
电阻的作用是限制电流，防止LED烧毁。220欧姆是一个常用的阻值，适用于大多数LED。
:::

## 基本LED控制

### 点亮LED

首先，我们编写一个简单的程序来点亮LED。以下是代码示例：

```cpp
void setup() {
  pinMode(13, OUTPUT);  // 将D13引脚设置为输出模式
}

void loop() {
  digitalWrite(13, HIGH);  // 将D13引脚设置为高电平，点亮LED
}
```

### 熄灭LED

接下来，我们编写一个程序来熄灭LED。以下是代码示例：

```cpp
void setup() {
  pinMode(13, OUTPUT);  // 将D13引脚设置为输出模式
}

void loop() {
  digitalWrite(13, LOW);  // 将D13引脚设置为低电平，熄灭LED
}
```

### LED闪烁

现在，我们让LED闪烁。以下是代码示例：

```cpp
void setup() {
  pinMode(13, OUTPUT);  // 将D13引脚设置为输出模式
}

void loop() {
  digitalWrite(13, HIGH);  // 点亮LED
  delay(1000);             // 等待1秒
  digitalWrite(13, LOW);   // 熄灭LED
  delay(1000);             // 等待1秒
}
```

:::tip
`delay()`函数用于暂停程序的执行，单位为毫秒。例如，`delay(1000)`表示暂停1秒。
:::

## 进阶控制：PWM调光

Arduino的某些数字引脚支持PWM（脉宽调制），可以通过改变占空比来调节LED的亮度。以下是使用PWM调光的代码示例：

```cpp
void setup() {
  pinMode(9, OUTPUT);  // 将D9引脚设置为输出模式（PWM引脚）
}

void loop() {
  for (int brightness = 0; brightness <= 255; brightness++) {
    analogWrite(9, brightness);  // 设置PWM占空比，调节亮度
    delay(10);                   // 等待10毫秒
  }
  for (int brightness = 255; brightness >= 0; brightness--) {
    analogWrite(9, brightness);  // 设置PWM占空比，调节亮度
    delay(10);                   // 等待10毫秒
  }
}
```

:::caution
只有标有“~”符号的引脚支持PWM输出。例如，Arduino Uno的D3、D5、D6、D9、D10和D11引脚支持PWM。
:::

## 实际应用场景

### 交通信号灯模拟

我们可以使用多个LED来模拟交通信号灯。以下是代码示例：

```cpp
void setup() {
  pinMode(13, OUTPUT);  // 红灯
  pinMode(12, OUTPUT);  // 黄灯
  pinMode(11, OUTPUT);  // 绿灯
}

void loop() {
  digitalWrite(13, HIGH);  // 红灯亮
  delay(5000);             // 等待5秒
  digitalWrite(13, LOW);   // 红灯灭
  digitalWrite(12, HIGH);  // 黄灯亮
  delay(2000);             // 等待2秒
  digitalWrite(12, LOW);   // 黄灯灭
  digitalWrite(11, HIGH);  // 绿灯亮
  delay(5000);             // 等待5秒
  digitalWrite(11, LOW);   // 绿灯灭
}
```

### 呼吸灯效果

通过PWM调光，我们可以实现呼吸灯效果。以下是代码示例：

```cpp
void setup() {
  pinMode(9, OUTPUT);  // 将D9引脚设置为输出模式（PWM引脚）
}

void loop() {
  for (int brightness = 0; brightness <= 255; brightness++) {
    analogWrite(9, brightness);  // 逐渐增加亮度
    delay(10);                   // 等待10毫秒
  }
  for (int brightness = 255; brightness >= 0; brightness--) {
    analogWrite(9, brightness);  // 逐渐降低亮度
    delay(10);                   // 等待10毫秒
  }
}
```

## 总结

通过本教程，你学习了如何使用Arduino控制LED的开关、闪烁和亮度调节。我们还探讨了一些实际应用场景，如交通信号灯模拟和呼吸灯效果。这些基础知识为你进一步学习Arduino和电子项目打下了坚实的基础。

## 附加资源与练习

- **练习1**：尝试使用多个LED创建一个跑马灯效果。
- **练习2**：结合按钮输入，实现按下按钮时点亮LED，松开按钮时熄灭LED。
- **附加资源**：阅读Arduino官方文档，了解更多关于数字输入输出和PWM的内容。

:::warning
在进行电子实验时，请务必注意安全，避免短路或过载，以免损坏设备或造成危险。
:::