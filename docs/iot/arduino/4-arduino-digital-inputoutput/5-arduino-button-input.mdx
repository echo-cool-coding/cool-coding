---
title: Arduino 按钮输入
description: "学习如何在Arduino中使用按钮作为数字输入，控制LED或其他设备。本教程适合初学者，包含代码示例和实际应用场景。"
---

# Arduino 按钮输入

在Arduino项目中，按钮是一种常见的输入设备，用于检测用户的物理操作。通过按钮，我们可以控制LED、电机或其他设备的开关状态。本文将详细介绍如何在Arduino中使用按钮作为数字输入，并展示如何通过代码实现按钮控制LED的示例。

## 1. 按钮的基本原理

按钮是一种简单的开关设备，通常有两个状态：按下（闭合）和松开（断开）。当按钮按下时，电路闭合，电流可以通过；当按钮松开时，电路断开，电流无法通过。在Arduino中，我们可以通过数字引脚来检测按钮的状态。

### 1.1 按钮的连接方式

按钮通常与一个上拉或下拉电阻一起使用，以确保在按钮未按下时，输入引脚处于已知状态（高电平或低电平）。以下是两种常见的连接方式：

- **上拉电阻连接**：按钮的一端连接到GND，另一端连接到Arduino的数字引脚。引脚通过上拉电阻连接到VCC。
- **下拉电阻连接**：按钮的一端连接到VCC，另一端连接到Arduino的数字引脚。引脚通过下拉电阻连接到GND。

:::tip
在Arduino中，数字引脚内部已经集成了上拉电阻，可以通过代码启用。因此，通常不需要外部上拉电阻。
:::

## 2. 按钮输入的代码实现

以下是一个简单的Arduino代码示例，展示了如何使用按钮控制LED的开关状态。

### 2.1 硬件连接

- 将按钮的一端连接到Arduino的GND，另一端连接到数字引脚2。
- 将LED的正极（长脚）连接到数字引脚13，负极（短脚）连接到GND。

### 2.2 代码示例

```cpp
const int buttonPin = 2;  // 按钮连接到数字引脚2
const int ledPin = 13;    // LED连接到数字引脚13

int buttonState = 0;      // 用于存储按钮状态的变量

void setup() {
  pinMode(ledPin, OUTPUT);  // 将LED引脚设置为输出模式
  pinMode(buttonPin, INPUT_PULLUP);  // 将按钮引脚设置为输入模式，并启用内部上拉电阻
}

void loop() {
  buttonState = digitalRead(buttonPin);  // 读取按钮状态

  if (buttonState == LOW) {  // 如果按钮按下（LOW状态）
    digitalWrite(ledPin, HIGH);  // 点亮LED
  } else {
    digitalWrite(ledPin, LOW);  // 熄灭LED
  }
}
```

### 2.3 代码解释

- `pinMode(buttonPin, INPUT_PULLUP);`：将按钮引脚设置为输入模式，并启用内部上拉电阻。这意味着当按钮未按下时，引脚将读取高电平（HIGH）。
- `digitalRead(buttonPin);`：读取按钮引脚的状态。如果按钮按下，引脚将读取低电平（LOW）。
- `digitalWrite(ledPin, HIGH);`：如果按钮按下，点亮LED。
- `digitalWrite(ledPin, LOW);`：如果按钮未按下，熄灭LED。

## 3. 实际应用场景

按钮输入在Arduino项目中有广泛的应用，以下是一些常见的应用场景：

### 3.1 控制LED灯

如上例所示，按钮可以用于控制LED的开关状态。这种应用在简单的灯光控制系统中非常常见。

### 3.2 启动/停止设备

按钮可以用于启动或停止电机、风扇等设备。例如，在机器人项目中，按钮可以用于启动或停止机器人的运动。

### 3.3 用户输入

按钮还可以用于用户输入，例如在游戏控制器中，按钮用于控制角色的移动或攻击。

## 4. 总结

通过本文，我们学习了如何在Arduino中使用按钮作为数字输入，并实现了一个简单的按钮控制LED的示例。按钮是Arduino项目中常用的输入设备，掌握其使用方法对于初学者来说非常重要。

:::note
在实际项目中，按钮的状态可能会因为抖动而产生误判。为了消除抖动，可以使用软件或硬件去抖动技术。
:::

## 5. 附加资源与练习

- **练习1**：修改代码，使按钮按下时LED闪烁，松开时LED熄灭。
- **练习2**：使用两个按钮控制两个LED，一个按钮控制一个LED的开关，另一个按钮控制另一个LED的闪烁频率。
- **附加资源**：阅读Arduino官方文档，了解更多关于数字输入输出的内容。

希望本文对你理解Arduino按钮输入有所帮助！继续探索Arduino的世界，你会发现更多有趣的应用。