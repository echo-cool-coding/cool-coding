---
title: Arduino 数字输入
description: "了解如何使用Arduino读取数字输入信号，掌握数字输入的基本原理和实际应用。"
---

# Arduino 数字输入

在Arduino编程中，**数字输入**是指从外部设备（如按钮、开关或传感器）读取数字信号的过程。数字信号只有两种状态：**高电平（HIGH）**和**低电平（LOW）**，分别对应逻辑上的1和0。通过数字输入，Arduino可以感知外部环境的变化，并根据这些变化做出相应的反应。

## 数字输入的基本原理

Arduino的数字引脚可以配置为输入或输出模式。当配置为输入模式时，引脚会读取外部设备的电压信号。如果电压接近5V（或3.3V，取决于Arduino型号），Arduino会将其识别为高电平（HIGH）；如果电压接近0V，则识别为低电平（LOW）。

:::note
Arduino的数字引脚通常有一个内部上拉电阻，可以通过编程启用。上拉电阻的作用是在没有外部信号输入时，将引脚的电平稳定在高电平状态。
:::

## 配置数字引脚为输入模式

要将Arduino的数字引脚配置为输入模式，可以使用 `pinMode()` 函数。以下是一个简单的示例：

```cpp
void setup() {
  // 将引脚2配置为输入模式
  pinMode(2, INPUT);
}

void loop() {
  // 读取引脚2的状态
  int buttonState = digitalRead(2);

  // 根据按钮状态执行操作
  if (buttonState == HIGH) {
    // 按钮被按下
  } else {
    // 按钮未被按下
  }
}
```

在这个示例中，`pinMode(2, INPUT)` 将引脚2配置为输入模式。然后，`digitalRead(2)` 读取引脚2的状态，并将其存储在变量 `buttonState` 中。

## 使用内部上拉电阻

在某些情况下，外部设备可能无法提供稳定的高电平信号。这时，可以使用Arduino的内部上拉电阻来稳定引脚的电平。启用内部上拉电阻的方法如下：

```cpp
void setup() {
  // 将引脚2配置为输入模式，并启用内部上拉电阻
  pinMode(2, INPUT_PULLUP);
}

void loop() {
  // 读取引脚2的状态
  int buttonState = digitalRead(2);

  // 根据按钮状态执行操作
  if (buttonState == LOW) {
    // 按钮被按下（由于上拉电阻，未按下时为高电平）
  } else {
    // 按钮未被按下
  }
}
```

:::caution
启用内部上拉电阻后，未按下按钮时引脚的电平为高电平（HIGH），按下按钮时为低电平（LOW）。这与未启用上拉电阻时的行为相反。
:::

## 实际应用案例：按钮控制LED

让我们通过一个实际案例来展示数字输入的应用。假设我们有一个按钮和一个LED，按钮用于控制LED的开关状态。当按钮被按下时，LED点亮；当按钮未被按下时，LED熄灭。

```cpp
void setup() {
  // 将引脚2配置为输入模式，并启用内部上拉电阻
  pinMode(2, INPUT_PULLUP);
  // 将引脚13配置为输出模式（Arduino板载LED）
  pinMode(13, OUTPUT);
}

void loop() {
  // 读取引脚2的状态
  int buttonState = digitalRead(2);

  // 根据按钮状态控制LED
  if (buttonState == LOW) {
    // 按钮被按下，点亮LED
    digitalWrite(13, HIGH);
  } else {
    // 按钮未被按下，熄灭LED
    digitalWrite(13, LOW);
  }
}
```

在这个案例中，按钮连接到引脚2，LED连接到引脚13。当按钮被按下时，引脚2的电平变为低电平（LOW），LED点亮；当按钮未被按下时，引脚2的电平为高电平（HIGH），LED熄灭。

## 总结

通过本文，我们学习了如何使用Arduino读取数字输入信号。我们了解了数字输入的基本原理，如何配置数字引脚为输入模式，以及如何使用内部上拉电阻。最后，我们通过一个实际案例展示了数字输入的应用。

:::tip
为了进一步巩固你的知识，可以尝试以下练习：
1. 使用多个按钮控制多个LED。
2. 修改代码，使按钮按下时LED闪烁，而不是常亮。
3. 使用外部上拉或下拉电阻，观察与内部上拉电阻的区别。
:::

希望本文能帮助你更好地理解Arduino的数字输入功能，并为你的项目提供灵感！