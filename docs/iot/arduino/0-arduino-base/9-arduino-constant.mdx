---
title: Arduino 常量
description: "了解Arduino中的常量，包括其定义、用途以及如何在代码中使用它们。本文适合初学者，包含代码示例和实际应用场景。"
---

# Arduino 常量

在Arduino编程中，常量是一种在程序运行期间不会改变的值。它们通常用于存储固定数据，例如引脚编号、数学常数或其他不会改变的值。使用常量可以提高代码的可读性和可维护性，因为它们为固定值提供了有意义的名称。

## 什么是常量？

常量是程序中固定不变的值。与变量不同，常量的值在程序运行期间不能被修改。在Arduino中，常量通常用于存储不会改变的数据，例如LED连接的引脚编号或数学常数（如π）。

### 常量的类型

在Arduino中，常见的常量类型包括：

- **整数常量**：例如 `5`、`10`、`100`。
- **浮点数常量**：例如 `3.14`、`2.718`。
- **字符常量**：例如 `'A'`、`'1'`。
- **字符串常量**：例如 `"Hello, World!"`。

## 如何定义常量

在Arduino中，可以使用 `#define` 或 `const` 关键字来定义常量。

### 使用 `#define`

`#define` 是一个预处理器指令，用于在编译前替换代码中的常量值。它的语法如下：

```cpp
#define CONSTANT_NAME value
```

例如：

```cpp
#define LED_PIN 13
```

在这个例子中，`LED_PIN` 被定义为 `13`。在代码中，所有出现 `LED_PIN` 的地方都会被替换为 `13`。

:::note
`#define` 定义的常量没有类型，它们只是简单的文本替换。
:::

### 使用 `const`

`const` 关键字用于定义具有特定类型的常量。它的语法如下：

```cpp
const dataType CONSTANT_NAME = value;
```

例如：

```cpp
const int ledPin = 13;
```

在这个例子中，`ledPin` 被定义为一个整数常量，其值为 `13`。与 `#define` 不同，`const` 定义的常量具有类型信息，这有助于编译器进行类型检查。

:::tip
使用 `const` 定义的常量具有类型信息，因此在需要类型安全的情况下，推荐使用 `const`。
:::

## 常量的实际应用

### 示例1：控制LED

假设我们有一个连接到引脚13的LED，我们可以使用常量来存储引脚编号：

```cpp
const int ledPin = 13;

void setup() {
  pinMode(ledPin, OUTPUT);
}

void loop() {
  digitalWrite(ledPin, HIGH);  // 打开LED
  delay(1000);                 // 等待1秒
  digitalWrite(ledPin, LOW);   // 关闭LED
  delay(1000);                 // 等待1秒
}
```

在这个例子中，`ledPin` 常量用于存储LED连接的引脚编号。通过使用常量，我们可以轻松地更改引脚编号，而无需在代码中多次修改。

### 示例2：数学计算

假设我们需要计算圆的面积，可以使用常量来存储π的值：

```cpp
const float PI = 3.14159;
float radius = 5.0;
float area = PI * radius * radius;

void setup() {
  Serial.begin(9600);
  Serial.print("Area of the circle: ");
  Serial.println(area);
}

void loop() {
  // 无操作
}
```

在这个例子中，`PI` 常量用于存储π的值。通过使用常量，我们可以确保π的值在整个程序中保持一致。

## 总结

常量是Arduino编程中的重要概念，它们用于存储不会改变的值。通过使用常量，我们可以提高代码的可读性和可维护性。在Arduino中，可以使用 `#define` 或 `const` 关键字来定义常量。`#define` 适用于简单的文本替换，而 `const` 提供了类型安全。

## 附加资源

- [Arduino官方文档](https://www.arduino.cc/reference/en/)
- [Arduino编程入门指南](https://www.arduino.cc/en/Guide/Introduction)

## 练习

1. 修改示例1中的代码，将LED连接到不同的引脚（例如引脚9），并观察结果。
2. 编写一个程序，使用常量计算矩形的面积。矩形的长和宽可以由用户输入。

通过完成这些练习，你将更好地理解常量的使用及其在Arduino编程中的重要性。