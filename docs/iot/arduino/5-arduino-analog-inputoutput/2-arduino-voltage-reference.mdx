---
title: Arduino 电压参考
description: 了解Arduino的电压参考功能，掌握如何设置和使用电压参考以提高模拟输入的精度。
---

# Arduino 电压参考

在Arduino中，模拟输入引脚可以读取0到5V之间的电压值（默认情况下）。然而，有时我们需要更高的精度或不同的电压范围来满足特定需求。这时，**电压参考**（Voltage Reference）就派上了用场。本文将详细介绍Arduino的电压参考功能，并通过实际案例帮助你理解其应用。

## 什么是电压参考？

电压参考是Arduino用于测量模拟输入电压的基准电压。默认情况下，Arduino使用其供电电压（通常是5V或3.3V）作为参考电压。这意味着，当你读取模拟输入时，Arduino会将输入电压与参考电压进行比较，并将其转换为0到1023之间的数字值。

然而，在某些情况下，你可能希望使用不同的参考电压来提高测量精度或适应特定的传感器需求。Arduino允许你通过编程设置不同的电压参考值。

## 设置电压参考

Arduino提供了几种常见的电压参考选项：

1. **默认参考电压**：通常是5V（对于5V供电的Arduino）或3.3V（对于3.3V供电的Arduino）。
2. **内部参考电压**：大多数Arduino板都有一个内置的1.1V参考电压。
3. **外部参考电压**：你可以通过`AREF`引脚提供一个外部参考电压。

要设置电压参考，可以使用`analogReference()`函数。以下是该函数的几种模式：

- `DEFAULT`：使用默认的参考电压（5V或3.3V）。
- `INTERNAL`：使用内置的1.1V参考电压（适用于大多数Arduino板）。
- `EXTERNAL`：使用通过`AREF`引脚提供的外部参考电压。

### 代码示例

以下是一个简单的代码示例，展示如何使用内置的1.1V参考电压：

```cpp
void setup() {
  // 设置使用内置的1.1V参考电压
  analogReference(INTERNAL);
  
  // 初始化串口通信
  Serial.begin(9600);
}

void loop() {
  // 读取A0引脚的模拟输入值
  int sensorValue = analogRead(A0);
  
  // 将读取的值转换为电压
  float voltage = sensorValue * (1.1 / 1023.0);
  
  // 打印电压值到串口监视器
  Serial.print("Voltage: ");
  Serial.println(voltage);
  
  // 延迟1秒
  delay(1000);
}
```

### 代码解释

1. **`analogReference(INTERNAL)`**：将参考电压设置为内置的1.1V。
2. **`analogRead(A0)`**：读取A0引脚的模拟输入值。
3. **`sensorValue * (1.1 / 1023.0)`**：将读取的数字值转换为实际的电压值。

:::note
在使用`INTERNAL`参考电压时，模拟输入的范围变为0到1.1V。如果你需要测量更高的电压，可以使用分压电路将电压降低到1.1V以下。
:::

## 实际应用案例

### 案例1：提高低电压测量的精度

假设你有一个传感器输出0到1V的电压信号。如果你使用默认的5V参考电压，Arduino的模拟输入分辨率会较低，因为1024个数字值分布在0到5V之间。通过将参考电压设置为1.1V，你可以将分辨率提高到0到1.1V之间，从而获得更高的测量精度。

### 案例2：使用外部参考电压

在某些情况下，你可能需要使用一个精确的外部参考电压源。例如，如果你有一个2.5V的精密参考电压源，你可以将其连接到`AREF`引脚，并将参考电压设置为`EXTERNAL`。这样，Arduino将使用2.5V作为参考电压，从而提高测量的准确性。

```cpp
void setup() {
  // 设置使用外部参考电压
  analogReference(EXTERNAL);
  
  // 初始化串口通信
  Serial.begin(9600);
}

void loop() {
  // 读取A0引脚的模拟输入值
  int sensorValue = analogRead(A0);
  
  // 将读取的值转换为电压
  float voltage = sensorValue * (2.5 / 1023.0);
  
  // 打印电压值到串口监视器
  Serial.print("Voltage: ");
  Serial.println(voltage);
  
  // 延迟1秒
  delay(1000);
}
```

:::caution
在使用外部参考电压时，请确保提供的电压不超过Arduino板的`VCC`电压（通常是5V或3.3V），否则可能会损坏Arduino。
:::

## 总结

电压参考是Arduino模拟输入的一个重要功能，它允许你根据需要调整参考电压，从而提高测量的精度或适应特定的传感器需求。通过本文的介绍和代码示例，你应该已经掌握了如何设置和使用Arduino的电压参考功能。

### 附加资源与练习

1. **练习1**：尝试使用内置的1.1V参考电压测量一个0到1V的电压信号，并观察测量精度的变化。
2. **练习2**：使用外部参考电压源（如2.5V或3.3V）测量一个0到3V的电压信号，并比较与默认参考电压的测量结果。
3. **进一步阅读**：查阅Arduino官方文档，了解更多关于`analogReference()`函数和其他模拟输入相关功能的信息。

希望本文对你理解和使用Arduino的电压参考功能有所帮助！如果你有任何问题或需要进一步的帮助，请随时访问我们的论坛或社区。