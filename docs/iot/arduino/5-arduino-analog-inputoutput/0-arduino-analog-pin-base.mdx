---
title: Arduino 模拟引脚基础
description: "了解Arduino模拟引脚的基本概念、工作原理及其在输入输出中的应用。本文适合初学者，包含代码示例和实际案例。"
---

# Arduino 模拟引脚基础

Arduino是一款功能强大的开源电子平台，广泛应用于各种电子项目中。Arduino板上的引脚分为**数字引脚**和**模拟引脚**。本文将重点介绍**模拟引脚**的基础知识，帮助初学者理解其工作原理和应用场景。

---

## 什么是模拟引脚？

模拟引脚是Arduino板上用于读取或生成**模拟信号**的引脚。与数字引脚只能处理高（HIGH）和低（LOW）两种状态不同，模拟引脚可以处理**连续变化**的信号。这种信号通常用于测量传感器数据（如温度、光线强度）或控制模拟设备（如LED亮度、电机速度）。

在Arduino Uno等常见开发板上，模拟引脚通常标记为 **A0** 到 **A5**，共6个引脚。

---

## 模拟输入

### 模拟输入的工作原理

模拟输入引脚可以读取外部设备（如电位器、光敏电阻）提供的电压值。Arduino的模拟引脚内置了一个**10位模数转换器（ADC）**，可以将输入的模拟电压（0V到5V）转换为数字值（0到1023）。例如：

- 0V 对应数字值 **0**
- 2.5V 对应数字值 **512**
- 5V 对应数字值 **1023**

### 代码示例：读取电位器值

以下代码展示了如何使用模拟引脚读取电位器的值，并通过串口监视器显示：

```cpp
void setup() {
  Serial.begin(9600); // 初始化串口通信
}

void loop() {
  int sensorValue = analogRead(A0); // 读取A0引脚的值
  Serial.println(sensorValue);      // 打印到串口监视器
  delay(100);                       // 延迟100毫秒
}
```

:::tip
- `analogRead(pin)`：读取指定模拟引脚的值，返回范围为0到1023。
- `Serial.begin(baudRate)`：初始化串口通信，`baudRate`为波特率。
- `Serial.println(value)`：将值打印到串口监视器。
:::

---

## 模拟输出

### 模拟输出的工作原理

虽然Arduino的模拟引脚主要用于输入，但我们可以通过**脉宽调制（PWM）**技术实现模拟输出。PWM通过快速切换数字信号的高低电平来模拟模拟信号的效果。Arduino的数字引脚中标记有 **~** 的引脚支持PWM输出。

PWM的输出范围为 **0** 到 **255**，其中：

- 0 表示完全关闭（0V）
- 255 表示完全打开（5V）

### 代码示例：控制LED亮度

以下代码展示了如何使用PWM控制LED的亮度：

```cpp
void setup() {
  pinMode(9, OUTPUT); // 设置9号引脚为输出模式
}

void loop() {
  for (int brightness = 0; brightness <= 255; brightness++) {
    analogWrite(9, brightness); // 设置9号引脚的PWM值
    delay(10);                   // 延迟10毫秒
  }
  for (int brightness = 255; brightness >= 0; brightness--) {
    analogWrite(9, brightness); // 设置9号引脚的PWM值
    delay(10);                   // 延迟10毫秒
  }
}
```

:::note
- `analogWrite(pin, value)`：设置指定引脚的PWM值，`value`范围为0到255。
- `pinMode(pin, mode)`：设置引脚模式，`mode`可以是`INPUT`或`OUTPUT`。
:::

---

## 实际应用案例

### 案例1：光控LED

通过光敏电阻读取环境光强度，并根据光线强弱自动调节LED亮度：

```cpp
int ledPin = 9;       // LED连接到9号引脚
int sensorPin = A0;   // 光敏电阻连接到A0引脚

void setup() {
  pinMode(ledPin, OUTPUT);
}

void loop() {
  int lightLevel = analogRead(sensorPin); // 读取光敏电阻的值
  int brightness = map(lightLevel, 0, 1023, 0, 255); // 映射到PWM范围
  analogWrite(ledPin, brightness);        // 设置LED亮度
  delay(100);                             // 延迟100毫秒
}
```

:::caution
- `map(value, fromLow, fromHigh, toLow, toHigh)`：将值从一个范围映射到另一个范围。
:::

### 案例2：温度监测

通过温度传感器（如LM35）读取环境温度，并在串口监视器中显示：

```cpp
void setup() {
  Serial.begin(9600);
}

void loop() {
  int sensorValue = analogRead(A0); // 读取温度传感器的值
  float voltage = sensorValue * (5.0 / 1023.0); // 转换为电压值
  float temperature = voltage * 100;            // 转换为温度值（LM35）
  Serial.print("Temperature: ");
  Serial.print(temperature);
  Serial.println(" °C");
  delay(1000);                                  // 延迟1秒
}
```

---

## 总结

Arduino的模拟引脚为处理连续变化的信号提供了强大的支持。通过模拟输入，我们可以读取传感器数据；通过PWM模拟输出，我们可以控制设备的亮度或速度。掌握这些基础知识是进一步学习Arduino编程的关键。

---

## 附加资源与练习

1. **练习1**：尝试使用电位器控制舵机的角度。
2. **练习2**：设计一个简单的光控风扇，根据光线强度调节风扇转速。
3. **资源推荐**：
   - [Arduino官方文档](https://www.arduino.cc/reference/en/)
   - 《Arduino编程从入门到精通》

:::warning
在实际项目中，请务必注意电压范围，避免损坏Arduino板或外部设备。
:::