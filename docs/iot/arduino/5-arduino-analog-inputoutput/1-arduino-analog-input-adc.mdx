---
title: Arduino 模拟输入(ADC)
description: "了解如何使用Arduino的模拟输入功能读取模拟信号，并将其转换为数字值。本文适合初学者，包含代码示例和实际应用案例。"
---

# Arduino 模拟输入(ADC)

## 介绍

Arduino的模拟输入功能允许我们从传感器或其他模拟设备读取连续变化的信号。与数字信号（只有高或低两种状态）不同，模拟信号可以在一定范围内连续变化。Arduino通过**模数转换器（ADC）**将这些模拟信号转换为数字值，以便微控制器能够处理。

Arduino Uno等开发板通常有6个模拟输入引脚（A0到A5），每个引脚可以读取0到5V之间的电压，并将其转换为0到1023之间的数字值。本文将详细介绍如何使用Arduino的模拟输入功能。

---

## 模拟输入的工作原理

Arduino的模拟输入引脚连接到内部的10位ADC（模数转换器）。这意味着它可以将0到5V的电压分为1024个离散的级别（0到1023）。例如：

- 0V 对应数字值 `0`
- 2.5V 对应数字值 `512`
- 5V 对应数字值 `1023`

:::note
**注意**：某些Arduino开发板（如Arduino Due）的ADC分辨率更高，可能支持12位或更高的分辨率。
:::

---

## 读取模拟输入

要读取模拟输入，可以使用Arduino的 `analogRead()` 函数。该函数接受一个模拟引脚编号（如 `A0`）作为参数，并返回一个0到1023之间的整数值。

### 示例代码

以下代码展示了如何读取A0引脚的模拟输入值，并通过串口监视器显示结果：

```cpp
void setup() {
  // 初始化串口通信
  Serial.begin(9600);
}

void loop() {
  // 读取A0引脚的模拟输入值
  int sensorValue = analogRead(A0);

  // 将读取的值打印到串口监视器
  Serial.println(sensorValue);

  // 延迟100毫秒
  delay(100);
}
```

### 代码解释

1. **`Serial.begin(9600)`**：初始化串口通信，波特率设置为9600。
2. **`analogRead(A0)`**：读取A0引脚的模拟输入值。
3. **`Serial.println(sensorValue)`**：将读取的值打印到串口监视器。
4. **`delay(100)`**：延迟100毫秒，以便观察数据变化。

---

## 实际应用案例

### 案例1：读取电位器值

电位器是一种常见的模拟输入设备，可以通过旋转旋钮改变电阻值。将电位器连接到Arduino的A0引脚，可以读取其电压值并控制LED的亮度。

#### 电路连接

- 电位器的两端分别连接到5V和GND。
- 电位器的中间引脚连接到A0。

#### 代码示例

```cpp
void setup() {
  // 初始化串口通信
  Serial.begin(9600);
}

void loop() {
  // 读取A0引脚的模拟输入值
  int potValue = analogRead(A0);

  // 将读取的值打印到串口监视器
  Serial.print("Potentiometer Value: ");
  Serial.println(potValue);

  // 延迟100毫秒
  delay(100);
}
```

### 案例2：光敏电阻控制LED

光敏电阻的电阻值会随着光照强度的变化而变化。通过读取光敏电阻的模拟输入值，可以控制LED的亮度。

#### 电路连接

- 光敏电阻的一端连接到5V，另一端连接到A0和一个10kΩ电阻。
- 10kΩ电阻的另一端连接到GND。
- LED的正极连接到数字引脚9，负极通过220Ω电阻连接到GND。

#### 代码示例

```cpp
void setup() {
  // 初始化串口通信
  Serial.begin(9600);
  // 设置数字引脚9为输出模式
  pinMode(9, OUTPUT);
}

void loop() {
  // 读取A0引脚的模拟输入值
  int lightValue = analogRead(A0);

  // 将模拟输入值映射到PWM范围（0-255）
  int brightness = map(lightValue, 0, 1023, 0, 255);

  // 设置LED的亮度
  analogWrite(9, brightness);

  // 延迟100毫秒
  delay(100);
}
```

---

## 总结

Arduino的模拟输入功能为我们提供了读取连续变化信号的能力，适用于各种传感器和输入设备。通过 `analogRead()` 函数，我们可以轻松地将模拟信号转换为数字值，并在项目中使用这些数据。

:::tip
**小提示**：如果需要更高的精度或更复杂的信号处理，可以考虑使用外部ADC模块或更高分辨率的Arduino开发板。
:::

---

## 附加资源与练习

### 练习1
尝试将电位器的模拟输入值映射到LED的亮度，并观察LED的亮度变化。

### 练习2
使用光敏电阻和蜂鸣器，设计一个简单的光控报警器。当光照强度低于某个阈值时，蜂鸣器发出声音。

### 进一步学习
- 了解Arduino的PWM输出功能，探索如何将模拟输入与PWM输出结合使用。
- 研究如何使用外部ADC模块提高模拟输入的精度。

希望本文能帮助你更好地理解Arduino的模拟输入功能！如果有任何问题，欢迎在评论区留言讨论。