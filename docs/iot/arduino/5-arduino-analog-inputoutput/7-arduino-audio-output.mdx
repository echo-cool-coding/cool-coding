---
title: Arduino 音频输出
description: "学习如何使用Arduino生成音频输出，从基础概念到实际应用，适合初学者。"
---

# Arduino 音频输出

Arduino是一款功能强大的微控制器，除了控制LED、电机等设备外，它还可以生成音频输出。通过简单的电路和代码，你可以让Arduino播放音调、旋律，甚至模拟简单的音乐。本文将带你从基础概念开始，逐步学习如何在Arduino上实现音频输出。

## 什么是音频输出？

音频输出是指通过电子设备生成声音信号的过程。在Arduino中，音频输出通常通过数字引脚生成PWM（脉宽调制）信号，或者通过DAC（数模转换器）生成模拟信号。这些信号经过放大后，可以驱动扬声器或耳机，从而产生声音。

## 基础概念

### PWM与音频

PWM是一种通过快速切换数字信号的高低电平来模拟模拟信号的技术。在Arduino中，PWM信号的频率和占空比决定了生成的声音的音调和音量。

### 音调与频率

音调是由声音的频率决定的。频率越高，音调越高；频率越低，音调越低。例如，中央C的频率为261.63 Hz，而高音C的频率为523.25 Hz。

## 硬件准备

要生成音频输出，你需要以下硬件：

- Arduino开发板（如Arduino Uno）
- 一个扬声器或蜂鸣器
- 一个电阻（用于限流）
- 连接线

## 电路连接

将扬声器或蜂鸣器的一端连接到Arduino的数字引脚（如引脚8），另一端通过一个电阻连接到GND。电阻的作用是限制电流，保护扬声器。

```mermaid
graph LR
    A[Arduino Pin 8] --> B[Resistor]
    B --> C[Speaker]
    C --> D[GND]
```

## 代码示例

以下是一个简单的Arduino代码示例，用于生成一个音调：

```cpp
void setup() {
  pinMode(8, OUTPUT); // 设置引脚8为输出模式
}

void loop() {
  tone(8, 440); // 在引脚8上生成440Hz的音调（A4音）
  delay(1000);  // 持续1秒
  noTone(8);    // 停止音调
  delay(1000);  // 等待1秒
}
```

### 代码解释

- `tone(pin, frequency)`：在指定的引脚上生成指定频率的音调。
- `noTone(pin)`：停止生成音调。
- `delay(ms)`：延迟指定的毫秒数。

## 实际应用

### 1. 播放简单旋律

你可以通过改变`tone()`函数的频率参数来播放简单的旋律。例如，以下代码播放“生日快乐”歌的前几个音符：

```cpp
void setup() {
  pinMode(8, OUTPUT);
}

void loop() {
  tone(8, 262); delay(500); noTone(8); // C4
  tone(8, 262); delay(500); noTone(8); // C4
  tone(8, 294); delay(1000); noTone(8); // D4
  tone(8, 262); delay(1000); noTone(8); // C4
  tone(8, 349); delay(1000); noTone(8); // F4
  tone(8, 330); delay(2000); noTone(8); // E4
}
```

### 2. 模拟警报声

你可以通过交替生成高低音调来模拟警报声：

```cpp
void setup() {
  pinMode(8, OUTPUT);
}

void loop() {
  tone(8, 1000); delay(500); noTone(8); // 高音
  tone(8, 500); delay(500); noTone(8);  // 低音
}
```

## 总结

通过本文，你学习了如何在Arduino上生成音频输出。从基础概念到实际应用，你已经掌握了使用`tone()`函数生成音调的方法，并能够播放简单的旋律和模拟警报声。

## 附加资源与练习

- **练习1**：尝试编写代码播放你喜欢的歌曲的旋律。
- **练习2**：使用多个扬声器，尝试生成立体声效果。
- **资源**：查阅Arduino官方文档，了解更多关于`tone()`函数和PWM的详细信息。

希望你能通过这些练习进一步巩固所学知识，并在未来的项目中灵活运用Arduino的音频输出功能！