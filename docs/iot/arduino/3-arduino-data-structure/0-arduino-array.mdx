---
title: Arduino 数组
description: "了解Arduino中的数组，掌握如何声明、初始化和操作数组，并通过实际案例加深理解。"
---

# Arduino 数组

数组是编程中一种非常重要的数据结构，它允许我们存储多个相同类型的值。在Arduino中，数组的使用非常广泛，尤其是在处理传感器数据、控制多个LED灯或存储一系列数值时。本文将详细介绍Arduino数组的基本概念、使用方法以及实际应用场景。

## 什么是数组？

数组是一种数据结构，用于存储一组相同类型的值。数组中的每个值称为元素，每个元素都有一个索引，索引从0开始。通过索引，我们可以访问或修改数组中的特定元素。

### 数组的声明

在Arduino中，声明数组的语法如下：

```cpp
数据类型 数组名[数组大小];
```

例如，声明一个包含5个整数的数组：

```cpp
int myArray[5];
```

### 数组的初始化

数组可以在声明时初始化，也可以在声明后逐个赋值。以下是两种初始化方式：

1. **声明时初始化**：

```cpp
int myArray[5] = {10, 20, 30, 40, 50};
```

2. **声明后逐个赋值**：

```cpp
int myArray[5];
myArray[0] = 10;
myArray[1] = 20;
myArray[2] = 30;
myArray[3] = 40;
myArray[4] = 50;
```

### 访问数组元素

通过索引可以访问数组中的元素。例如，访问`myArray`中的第三个元素：

```cpp
int thirdElement = myArray[2]; // 索引从0开始，所以第三个元素的索引是2
```

### 修改数组元素

通过索引也可以修改数组中的元素。例如，将`myArray`中的第一个元素修改为100：

```cpp
myArray[0] = 100;
```

## 数组的实际应用

### 案例1：控制多个LED灯

假设我们有5个LED灯连接到Arduino的数字引脚2到6。我们可以使用数组来存储这些引脚号，并通过循环控制LED灯的亮灭。

```cpp
int ledPins[5] = {2, 3, 4, 5, 6};

void setup() {
  for (int i = 0; i < 5; i++) {
    pinMode(ledPins[i], OUTPUT);
  }
}

void loop() {
  for (int i = 0; i < 5; i++) {
    digitalWrite(ledPins[i], HIGH);
    delay(500);
    digitalWrite(ledPins[i], LOW);
    delay(500);
  }
}
```

在这个例子中，我们使用数组`ledPins`存储LED灯的引脚号，并通过循环依次点亮和熄灭每个LED灯。

### 案例2：存储传感器数据

假设我们有一个温度传感器，每隔一段时间读取一次温度值，并将最近5次的温度值存储在数组中。

```cpp
float temperatures[5];
int index = 0;

void setup() {
  Serial.begin(9600);
}

void loop() {
  float temperature = readTemperature(); // 假设这是一个读取温度的函数
  temperatures[index] = temperature;
  index = (index + 1) % 5; // 循环更新索引

  // 打印最近5次的温度值
  for (int i = 0; i < 5; i++) {
    Serial.print(temperatures[i]);
    Serial.print(" ");
  }
  Serial.println();

  delay(1000); // 每隔1秒读取一次温度
}
```

在这个例子中，我们使用数组`temperatures`存储最近5次的温度值，并通过循环更新数组中的值。

## 总结

数组是Arduino编程中非常实用的数据结构，它可以帮助我们高效地存储和操作多个相同类型的值。通过本文的学习，你应该已经掌握了如何声明、初始化和操作数组，并通过实际案例了解了数组的应用场景。

:::tip
**练习**：尝试编写一个程序，使用数组存储10个随机数，并找出其中的最大值和最小值。
:::

:::note
**附加资源**：如果你想进一步学习数组的高级用法，可以查阅Arduino官方文档或相关教程，了解更多关于多维数组、数组排序和数组操作的内容。
:::