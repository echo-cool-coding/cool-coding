---
title: Arduino 函数参数
description: 了解Arduino函数参数的基本概念、使用方法以及实际应用场景，帮助初学者掌握函数参数的核心知识。
---

# Arduino 函数参数

在Arduino编程中，函数是代码的基本构建块之一。函数允许我们将代码组织成可重用的模块，从而提高代码的可读性和可维护性。而**函数参数**则是函数的重要组成部分，它允许我们向函数传递数据，从而使函数更加灵活和通用。

## 什么是函数参数？

函数参数是传递给函数的值或变量，用于在函数内部执行特定的操作。通过参数，我们可以将外部数据传递给函数，并在函数内部使用这些数据。参数可以是任何数据类型，例如整数、浮点数、字符串等。

### 函数参数的基本语法

在Arduino中，函数参数的定义通常出现在函数声明或函数定义中。以下是一个简单的示例：

```cpp
void printMessage(String message) {
  Serial.println(message);
}
```

在这个例子中，`message` 是函数 `printMessage` 的参数，类型为 `String`。当我们调用这个函数时，可以传递一个字符串作为参数：

```cpp
printMessage("Hello, Arduino!");
```

输出结果将是：

```
Hello, Arduino!
```

## 函数参数的类型

Arduino支持多种数据类型的参数，以下是一些常见的类型：

1. **整数类型**：如 `int`、`long`、`byte` 等。
2. **浮点数类型**：如 `float`、`double`。
3. **字符和字符串类型**：如 `char`、`String`。
4. **布尔类型**：如 `bool`。

### 示例：使用不同类型的参数

以下是一个使用多种参数类型的函数示例：

```cpp
void displayInfo(int age, float height, String name) {
  Serial.print("Name: ");
  Serial.println(name);
  Serial.print("Age: ");
  Serial.println(age);
  Serial.print("Height: ");
  Serial.println(height);
}
```

调用这个函数时，可以传递不同类型的参数：

```cpp
displayInfo(25, 1.75, "Alice");
```

输出结果将是：

```
Name: Alice
Age: 25
Height: 1.75
```

## 默认参数

在某些情况下，我们希望函数的参数具有默认值。这样，当调用函数时，如果没有传递该参数，函数将使用默认值。Arduino支持默认参数的使用。

### 示例：默认参数

以下是一个使用默认参数的函数示例：

```cpp
void setLED(int brightness = 255) {
  analogWrite(LED_BUILTIN, brightness);
}
```

在这个例子中，`brightness` 参数的默认值是 `255`。如果我们调用 `setLED()` 而不传递任何参数，函数将使用默认值：

```cpp
setLED(); // 使用默认亮度 255
```

如果我们传递一个值，函数将使用该值：

```cpp
setLED(128); // 使用亮度 128
```

## 实际应用场景

### 案例1：控制LED亮度

假设我们有一个LED灯，并且希望通过函数控制它的亮度。我们可以编写一个函数，接受亮度值作为参数：

```cpp
void setLEDBrightness(int brightness) {
  analogWrite(LED_BUILTIN, brightness);
}
```

调用这个函数时，可以传递不同的亮度值：

```cpp
setLEDBrightness(64);  // 设置LED亮度为64
setLEDBrightness(128); // 设置LED亮度为128
setLEDBrightness(255); // 设置LED亮度为255
```

### 案例2：计算两个数的和

我们可以编写一个函数，接受两个整数作为参数，并返回它们的和：

```cpp
int addNumbers(int a, int b) {
  return a + b;
}
```

调用这个函数时，可以传递两个整数：

```cpp
int result = addNumbers(10, 20);
Serial.println(result); // 输出 30
```

## 总结

函数参数是Arduino编程中非常重要的概念，它允许我们向函数传递数据，从而使函数更加灵活和通用。通过掌握函数参数的使用方法，你可以编写出更加模块化和可重用的代码。

:::tip 提示
- 尽量使用有意义的参数名称，以提高代码的可读性。
- 如果需要传递多个参数，可以考虑使用结构体或数组来组织数据。
:::

## 附加资源与练习

### 练习1
编写一个函数 `calculateArea`，接受两个参数 `length` 和 `width`，并返回矩形的面积。

### 练习2
编写一个函数 `blinkLED`，接受一个参数 `delayTime`，控制LED以指定的时间间隔闪烁。

### 附加资源
- [Arduino官方文档](https://www.arduino.cc/reference/en/)
- [Arduino编程入门指南](https://www.arduino.cc/en/Guide/Introduction)

通过不断练习和探索，你将能够更好地理解和应用Arduino函数参数的概念。祝你编程愉快！