---
title: Arduino 内置函数
description: 了解Arduino内置函数的基本概念、使用方法以及实际应用场景，帮助初学者快速上手Arduino编程。
---

# Arduino 内置函数

Arduino内置函数是Arduino编程语言中预先定义好的函数，它们为开发者提供了丰富的功能，使得编写代码变得更加简单和高效。无论是控制数字引脚、读取模拟信号，还是处理时间延迟，Arduino内置函数都能帮助你轻松实现这些功能。

## 什么是Arduino内置函数？

Arduino内置函数是Arduino IDE中已经封装好的函数，开发者可以直接调用这些函数来完成特定的任务。这些函数涵盖了从输入输出控制到数学运算、时间控制等多个方面。通过使用这些函数，你可以避免重复编写复杂的代码，从而专注于项目的核心逻辑。

## 常用的Arduino内置函数

以下是一些常用的Arduino内置函数及其功能：

### 1. `pinMode()`
`pinMode()` 函数用于设置Arduino引脚的工作模式。你可以将引脚设置为输入模式（`INPUT`）或输出模式（`OUTPUT`）。

```cpp
void setup() {
  pinMode(13, OUTPUT); // 将13号引脚设置为输出模式
}
```

### 2. `digitalWrite()`
`digitalWrite()` 函数用于向指定的数字引脚写入高电平（`HIGH`）或低电平（`LOW`）。

```cpp
void loop() {
  digitalWrite(13, HIGH); // 将13号引脚设置为高电平
  delay(1000);            // 延迟1秒
  digitalWrite(13, LOW);  // 将13号引脚设置为低电平
  delay(1000);            // 延迟1秒
}
```

### 3. `digitalRead()`
`digitalRead()` 函数用于读取指定数字引脚的电平状态，返回值为 `HIGH` 或 `LOW`。

```cpp
void loop() {
  int buttonState = digitalRead(2); // 读取2号引脚的电平状态
  if (buttonState == HIGH) {
    digitalWrite(13, HIGH); // 如果2号引脚为高电平，点亮13号引脚的LED
  } else {
    digitalWrite(13, LOW);  // 否则熄灭LED
  }
}
```

### 4. `analogRead()`
`analogRead()` 函数用于读取指定模拟引脚的值，返回值为0到1023之间的整数。

```cpp
void loop() {
  int sensorValue = analogRead(A0); // 读取A0引脚的模拟值
  Serial.println(sensorValue);      // 将读取的值打印到串口监视器
}
```

### 5. `analogWrite()`
`analogWrite()` 函数用于向支持PWM（脉宽调制）的引脚写入模拟值，范围为0到255。

```cpp
void loop() {
  analogWrite(9, 128); // 向9号引脚写入128的PWM值
}
```

### 6. `delay()`
`delay()` 函数用于暂停程序的执行，单位为毫秒。

```cpp
void loop() {
  digitalWrite(13, HIGH);
  delay(1000); // 延迟1秒
  digitalWrite(13, LOW);
  delay(1000); // 延迟1秒
}
```

### 7. `millis()`
`millis()` 函数返回自Arduino板启动以来的毫秒数，通常用于非阻塞延迟。

```cpp
unsigned long startTime = millis(); // 记录当前时间

void loop() {
  if (millis() - startTime >= 1000) {
    // 如果已经过去1秒
    digitalWrite(13, !digitalRead(13)); // 切换13号引脚的状态
    startTime = millis(); // 重置计时器
  }
}
```

## 实际应用案例

### 案例1：控制LED灯的亮度

通过使用 `analogWrite()` 函数，我们可以控制LED灯的亮度。以下代码展示了如何通过PWM信号逐渐改变LED的亮度：

```cpp
void setup() {
  pinMode(9, OUTPUT); // 将9号引脚设置为输出模式
}

void loop() {
  for (int brightness = 0; brightness <= 255; brightness++) {
    analogWrite(9, brightness); // 逐渐增加亮度
    delay(10); // 延迟10毫秒
  }
  for (int brightness = 255; brightness >= 0; brightness--) {
    analogWrite(9, brightness); // 逐渐降低亮度
    delay(10); // 延迟10毫秒
  }
}
```

### 案例2：读取光敏电阻的值

光敏电阻是一种能够根据光照强度改变电阻值的传感器。通过 `analogRead()` 函数，我们可以读取光敏电阻的值，并根据光照强度控制LED灯的亮度：

```cpp
void setup() {
  pinMode(9, OUTPUT); // 将9号引脚设置为输出模式
}

void loop() {
  int lightLevel = analogRead(A0); // 读取A0引脚的光敏电阻值
  int brightness = map(lightLevel, 0, 1023, 0, 255); // 将光敏电阻值映射到0-255范围
  analogWrite(9, brightness); // 根据光照强度控制LED亮度
}
```

## 总结

Arduino内置函数是Arduino编程的核心工具，它们简化了代码的编写过程，使得开发者能够快速实现各种功能。通过掌握这些函数的使用方法，你可以轻松应对各种Arduino项目。

:::tip 提示
如果你想进一步深入学习Arduino编程，建议尝试以下练习：
1. 使用 `millis()` 函数实现一个非阻塞的LED闪烁程序。
2. 结合 `analogRead()` 和 `analogWrite()` 函数，制作一个根据温度传感器值控制风扇转速的系统。
:::

## 附加资源

- [Arduino官方文档](https://www.arduino.cc/reference/en/)
- [Arduino编程入门教程](https://www.arduino.cc/en/Guide/HomePage)

通过不断实践和探索，你将能够熟练掌握Arduino内置函数，并应用于各种有趣的项目中。祝你编程愉快！