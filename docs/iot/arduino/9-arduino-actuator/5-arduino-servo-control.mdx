---
title: Arduino 舵机控制
description: "学习如何使用Arduino控制舵机，掌握舵机的基本原理、接线方法以及编程实现。"
---

## 介绍

舵机（Servo Motor）是一种常见的执行器，广泛应用于机器人、遥控模型、自动化设备等领域。它能够精确控制旋转角度，通常范围在0°到180°之间。Arduino通过PWM（脉宽调制）信号控制舵机的位置，使其能够按照指令旋转到指定角度。

在本教程中，我们将学习如何将舵机连接到Arduino，并编写代码来控制舵机的旋转角度。

## 舵机的基本原理

舵机内部包含一个小型电机、控制电路和反馈系统。它通过接收PWM信号来确定目标角度，并通过反馈系统调整电机的位置，直到达到目标角度。PWM信号的脉宽决定了舵机的旋转角度，通常脉宽在500µs到2500µs之间，对应0°到180°的角度。

## 所需材料

- Arduino开发板（如Arduino Uno）
- 舵机（如SG90）
- 跳线若干
- 面包板（可选）

## 接线方法

将舵机连接到Arduino非常简单。舵机通常有三根线：
- **红色线**：连接到Arduino的5V引脚。
- **棕色或黑色线**：连接到Arduino的GND引脚。
- **橙色或黄色线**：连接到Arduino的数字引脚（如D9）。

:::caution
确保Arduino的电源能够提供足够的电流给舵机。如果舵机需要较大电流，建议使用外部电源。
:::

## 编写代码

Arduino IDE提供了一个内置的`Servo`库，可以轻松控制舵机。以下是一个简单的示例代码，使舵机在0°到180°之间来回旋转。

```cpp
#include <Servo.h>

Servo myServo;  // 创建一个Servo对象

void setup() {
  myServo.attach(9);  // 将舵机连接到数字引脚9
}

void loop() {
  myServo.write(0);    // 将舵机旋转到0°
  delay(1000);         // 等待1秒
  myServo.write(90);   // 将舵机旋转到90°
  delay(1000);         // 等待1秒
  myServo.write(180);  // 将舵机旋转到180°
  delay(1000);         // 等待1秒
}
```

### 代码解释

1. **`#include <Servo.h>`**：引入Servo库。
2. **`Servo myServo;`**：创建一个Servo对象。
3. **`myServo.attach(9);`**：将舵机连接到数字引脚9。
4. **`myServo.write(angle);`**：将舵机旋转到指定角度（0°到180°）。
5. **`delay(1000);`**：等待1秒，以便观察舵机的运动。

## 实际应用案例

### 案例1：遥控机械臂

舵机常用于遥控机械臂中，通过控制多个舵机的角度，可以实现复杂的动作。例如，一个简单的机械臂可能包含三个舵机，分别控制底座、手臂和夹爪的旋转。

```cpp
#include <Servo.h>

Servo baseServo;
Servo armServo;
Servo gripperServo;

void setup() {
  baseServo.attach(9);     // 底座舵机
  armServo.attach(10);     // 手臂舵机
  gripperServo.attach(11); // 夹爪舵机
}

void loop() {
  // 控制底座旋转
  baseServo.write(0);
  delay(1000);
  baseServo.write(180);
  delay(1000);

  // 控制手臂旋转
  armServo.write(0);
  delay(1000);
  armServo.write(180);
  delay(1000);

  // 控制夹爪开合
  gripperServo.write(0);
  delay(1000);
  gripperServo.write(90);
  delay(1000);
}
```

### 案例2：自动窗帘

舵机还可以用于家庭自动化项目，如自动窗帘。通过控制舵机的角度，可以实现窗帘的自动开合。

```cpp
#include <Servo.h>

Servo curtainServo;

void setup() {
  curtainServo.attach(9);  // 将舵机连接到数字引脚9
}

void loop() {
  // 打开窗帘
  curtainServo.write(0);
  delay(5000);  // 等待5秒

  // 关闭窗帘
  curtainServo.write(180);
  delay(5000);  // 等待5秒
}
```

## 总结

通过本教程，我们学习了如何将舵机连接到Arduino，并使用`Servo`库控制舵机的旋转角度。我们还探讨了舵机在实际项目中的应用，如遥控机械臂和自动窗帘。

:::tip
尝试修改代码，使舵机按照不同的速度和角度旋转，或者结合传感器（如超声波传感器）实现更复杂的控制。
:::

## 附加资源与练习

1. **练习1**：尝试使用电位器控制舵机的角度。将电位器连接到Arduino的模拟输入引脚，读取电位器的值并映射到舵机的角度。
2. **练习2**：结合多个舵机，创建一个简单的机械臂，并编写代码使其能够执行特定的动作序列。
3. **资源**：访问Arduino官方文档，了解更多关于`Servo`库的详细信息：[Arduino Servo Library](https://www.arduino.cc/reference/en/libraries/servo/)

通过不断实践和探索，你将能够掌握更多关于Arduino和舵机的知识，并将其应用到实际项目中。