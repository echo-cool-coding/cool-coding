---
title: Arduino Break Continue
description: "了解如何在 Arduino 编程中使用 `break` 和 `continue` 语句来控制循环的执行流程。"
---

# Arduino Break Continue

在 Arduino 编程中，控制流语句是编写高效代码的关键。`break` 和 `continue` 是两个常用的控制流语句，它们可以帮助你在循环中更灵活地控制程序的执行流程。本文将详细介绍这两个语句的用法，并通过实际案例帮助你理解它们的应用场景。

## 介绍

`break` 和 `continue` 是用于控制循环执行流程的语句。它们通常用于 `for`、`while` 和 `do...while` 循环中。

- **`break`**：立即终止当前循环，并跳出循环体，继续执行循环之后的代码。
- **`continue`**：跳过当前循环的剩余部分，直接进入下一次循环的迭代。

这两个语句可以帮助你在特定条件下提前结束循环或跳过某些不必要的操作，从而提高代码的效率。

## `break` 语句

`break` 语句用于在满足特定条件时立即退出循环。它通常用于在循环中检测到某种条件时，提前终止循环。

### 示例代码

```cpp
void setup() {
  Serial.begin(9600);

  for (int i = 0; i < 10; i++) {
    if (i == 5) {
      break;  // 当 i 等于 5 时，退出循环
    }
    Serial.println(i);
  }

  Serial.println("Loop ended.");
}

void loop() {
  // 空循环
}
```

### 输出

```
0
1
2
3
4
Loop ended.
```

在这个例子中，当 `i` 的值等于 5 时，`break` 语句会立即终止 `for` 循环，程序会继续执行 `Serial.println("Loop ended.");` 这行代码。

:::note
`break` 语句只能用于循环（如 `for`、`while`、`do...while`）和 `switch` 语句中。
:::

## `continue` 语句

`continue` 语句用于跳过当前循环的剩余部分，直接进入下一次循环的迭代。它通常用于在循环中检测到某种条件时，跳过某些不必要的操作。

### 示例代码

```cpp
void setup() {
  Serial.begin(9600);

  for (int i = 0; i < 10; i++) {
    if (i % 2 == 0) {
      continue;  // 当 i 是偶数时，跳过本次循环
    }
    Serial.println(i);
  }

  Serial.println("Loop ended.");
}

void loop() {
  // 空循环
}
```

### 输出

```
1
3
5
7
9
Loop ended.
```

在这个例子中，当 `i` 是偶数时，`continue` 语句会跳过 `Serial.println(i);` 这行代码，直接进入下一次循环的迭代。

:::tip
`continue` 语句只能用于循环（如 `for`、`while`、`do...while`）中。
:::

## 实际应用场景

### 1. 使用 `break` 提前退出循环

假设你正在编写一个程序，用于检测传感器数据。当传感器数据达到某个阈值时，你希望立即停止检测并执行其他操作。

```cpp
int sensorValue;

void setup() {
  Serial.begin(9600);

  while (true) {
    sensorValue = analogRead(A0);
    if (sensorValue > 500) {
      Serial.println("Threshold reached!");
      break;  // 当传感器值超过阈值时，退出循环
    }
    delay(100);
  }

  Serial.println("Exiting loop.");
}

void loop() {
  // 空循环
}
```

在这个例子中，当传感器值超过 500 时，`break` 语句会立即退出 `while` 循环，程序会继续执行 `Serial.println("Exiting loop.");` 这行代码。

### 2. 使用 `continue` 跳过无效数据

假设你正在处理一组数据，但某些数据是无效的（例如，值为 0）。你希望在处理数据时跳过这些无效值。

```cpp
int data[] = {1, 0, 3, 0, 5};

void setup() {
  Serial.begin(9600);

  for (int i = 0; i < 5; i++) {
    if (data[i] == 0) {
      continue;  // 当数据为 0 时，跳过本次循环
    }
    Serial.println(data[i]);
  }

  Serial.println("Data processing complete.");
}

void loop() {
  // 空循环
}
```

在这个例子中，当数据为 0 时，`continue` 语句会跳过 `Serial.println(data[i]);` 这行代码，直接进入下一次循环的迭代。

## 总结

`break` 和 `continue` 是 Arduino 编程中非常有用的控制流语句。它们可以帮助你在循环中更灵活地控制程序的执行流程。`break` 用于立即退出循环，而 `continue` 用于跳过当前循环的剩余部分。

通过本文的示例和实际应用场景，你应该已经掌握了如何在 Arduino 编程中使用 `break` 和 `continue` 语句。现在，你可以尝试在自己的项目中应用这些概念，以提高代码的效率和可读性。

## 附加资源与练习

- **练习 1**：编写一个程序，使用 `break` 语句在检测到某个条件时退出循环。
- **练习 2**：编写一个程序，使用 `continue` 语句跳过某些无效数据。
- **附加资源**：阅读 Arduino 官方文档，了解更多关于控制流语句的内容。

:::caution
在使用 `break` 和 `continue` 时，请确保逻辑清晰，避免造成代码难以理解或维护。
:::