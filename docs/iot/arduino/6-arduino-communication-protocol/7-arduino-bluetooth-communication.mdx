---
title: Arduino 蓝牙通信
description: "学习如何使用Arduino通过蓝牙与其他设备进行通信。本教程将逐步讲解蓝牙通信的基础知识，并提供代码示例和实际应用案例。"
---

## 介绍

蓝牙通信是一种无线通信技术，允许设备在短距离内进行数据传输。Arduino可以通过蓝牙模块（如HC-05或HC-06）与其他设备（如智能手机、电脑或其他Arduino）进行通信。这种通信方式非常适合需要无线控制的项目，例如远程控制机器人、智能家居设备等。

在本教程中，我们将学习如何设置Arduino与蓝牙模块的连接，并通过蓝牙发送和接收数据。

## 所需材料

- Arduino开发板（如Arduino Uno）
- 蓝牙模块（如HC-05或HC-06）
- 杜邦线
- 电脑或智能手机

## 连接蓝牙模块

首先，我们需要将蓝牙模块连接到Arduino。以下是HC-05蓝牙模块的典型连接方式：

- **VCC** -> Arduino的5V引脚
- **GND** -> Arduino的GND引脚
- **TXD** -> Arduino的RX引脚（数字引脚0）
- **RXD** -> Arduino的TX引脚（数字引脚1）

:::caution
请注意，Arduino的RX和TX引脚是用于串行通信的，因此在连接蓝牙模块时，确保Arduino没有通过USB连接到电脑，以避免冲突。
:::

## 配置蓝牙模块

在开始编写代码之前，我们需要配置蓝牙模块。通常，蓝牙模块已经预先配置好了，但如果你需要更改设置（如波特率或设备名称），可以通过AT命令进行配置。

以下是一个简单的AT命令示例，用于设置蓝牙模块的名称：

```cpp
void setup() {
  Serial.begin(38400); // 设置波特率
  delay(1000);
  Serial.println("AT+NAME=MyBluetooth"); // 设置蓝牙模块名称为"MyBluetooth"
}

void loop() {
  // 无操作
}
```

## 编写Arduino代码

接下来，我们将编写Arduino代码，通过蓝牙模块发送和接收数据。以下是一个简单的示例代码，Arduino将通过蓝牙接收数据，并将其发送回连接的设备。

```cpp
void setup() {
  Serial.begin(9600); // 设置串口波特率为9600
}

void loop() {
  if (Serial.available() > 0) { // 检查是否有数据可读
    char receivedChar = Serial.read(); // 读取接收到的字符
    Serial.print("Received: "); // 打印接收到的字符
    Serial.println(receivedChar);
  }
}
```

## 实际应用案例

### 远程控制LED

假设我们希望通过智能手机远程控制Arduino上的LED灯。我们可以通过蓝牙发送命令来控制LED的开关。

以下是实现该功能的Arduino代码：

```cpp
int ledPin = 13; // LED连接到数字引脚13

void setup() {
  pinMode(ledPin, OUTPUT); // 设置LED引脚为输出模式
  Serial.begin(9600); // 设置串口波特率为9600
}

void loop() {
  if (Serial.available() > 0) { // 检查是否有数据可读
    char receivedChar = Serial.read(); // 读取接收到的字符
    if (receivedChar == '1') { // 如果接收到字符'1'
      digitalWrite(ledPin, HIGH); // 打开LED
      Serial.println("LED ON");
    } else if (receivedChar == '0') { // 如果接收到字符'0'
      digitalWrite(ledPin, LOW); // 关闭LED
      Serial.println("LED OFF");
    }
  }
}
```

在智能手机上，你可以使用任何支持蓝牙串行通信的应用程序（如Arduino Bluetooth Controller）发送字符`1`或`0`来控制LED的开关。

## 总结

通过本教程，我们学习了如何使用Arduino与蓝牙模块进行通信。我们探讨了蓝牙模块的连接方式、配置方法，并编写了简单的代码示例来演示如何通过蓝牙发送和接收数据。此外，我们还通过一个实际应用案例展示了如何通过蓝牙远程控制LED灯。

## 附加资源与练习

- **练习1**：尝试修改代码，使Arduino能够通过蓝牙接收字符串命令，并根据命令执行不同的操作。
- **练习2**：使用蓝牙模块连接两个Arduino，并实现双向通信。
- **资源**：了解更多关于蓝牙模块的AT命令，尝试配置不同的参数，如波特率、配对码等。

:::tip
如果你在配置或编程过程中遇到问题，可以参考Arduino官方文档或社区论坛，那里有许多有用的资源和讨论。
:::