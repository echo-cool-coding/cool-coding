---
title: STM32 第一个程序
description: 本教程将引导您完成STM32微控制器的第一个程序，从环境搭建到代码编写，帮助您快速入门STM32开发。
---

# STM32 第一个程序

## 介绍

STM32是STMicroelectronics公司推出的一系列基于ARM Cortex-M内核的32位微控制器。它们广泛应用于嵌入式系统中，具有高性能、低功耗和丰富的外设资源。对于初学者来说，编写第一个STM32程序是进入嵌入式开发世界的第一步。

在本教程中，我们将从零开始，逐步引导您完成STM32的第一个程序。我们将使用STM32CubeIDE作为开发环境，并编写一个简单的LED闪烁程序。

## 环境搭建

在开始编写代码之前，您需要准备好开发环境。以下是所需的工具和步骤：

1. **安装STM32CubeIDE**：STM32CubeIDE是STMicroelectronics官方提供的集成开发环境（IDE），支持STM32系列微控制器的开发。您可以从[ST官网](https://www.st.com/en/development-tools/stm32cubeide.html)下载并安装。

2. **连接开发板**：将您的STM32开发板通过USB线连接到电脑。确保开发板的电源和调试接口正常工作。

3. **创建新项目**：打开STM32CubeIDE，创建一个新的STM32项目。选择适合您开发板的型号，并配置时钟和外设。

## 编写第一个程序

### 1. 配置GPIO引脚

在STM32CubeIDE中，您可以通过图形化界面配置GPIO引脚。我们将配置一个GPIO引脚来控制LED。

1. 打开`Pinout & Configuration`视图。
2. 找到一个可用的GPIO引脚（例如`PA5`），并将其配置为`Output`模式。
3. 保存配置并生成代码。

### 2. 编写主程序

在生成的代码中，找到`main.c`文件。我们将在`main`函数中编写LED闪烁的逻辑。

```c
#include "main.h"

int main(void)
{
  HAL_Init();
  SystemClock_Config();
  MX_GPIO_Init();

  while (1)
  {
    HAL_GPIO_TogglePin(GPIOA, GPIO_PIN_5);  // 切换PA5引脚状态
    HAL_Delay(500);  // 延时500毫秒
  }
}
```

### 3. 编译和下载

1. 点击`Build`按钮编译项目。
2. 点击`Debug`按钮将程序下载到开发板。

### 4. 运行程序

程序下载完成后，您应该会看到开发板上的LED开始闪烁，间隔为500毫秒。

## 实际应用场景

LED闪烁程序虽然简单，但它是嵌入式开发的基础。通过这个程序，您可以学习如何配置GPIO引脚、使用HAL库以及控制硬件外设。在实际应用中，您可以将LED替换为其他设备，例如继电器、电机或传感器，从而实现更复杂的功能。

## 总结

通过本教程，您已经成功编写并运行了STM32的第一个程序。您学会了如何配置GPIO引脚、使用HAL库以及控制LED。接下来，您可以尝试修改代码，改变LED闪烁的频率，或者添加更多的功能。

## 附加资源与练习

- **练习1**：修改代码，使LED闪烁的频率为1秒。
- **练习2**：添加另一个LED，并使其以不同的频率闪烁。
- **资源**：阅读STM32CubeIDE的官方文档，了解更多关于HAL库和外设配置的内容。

希望本教程对您的STM32学习之旅有所帮助！继续探索，您将发现嵌入式开发的无限可能。