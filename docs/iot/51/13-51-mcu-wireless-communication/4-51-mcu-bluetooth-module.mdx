---
title: 51单片机蓝牙模块
description: 本文详细介绍51单片机与蓝牙模块的通信原理、硬件连接、代码实现以及实际应用场景，适合初学者学习。
---

## 介绍

蓝牙模块是一种无线通信模块，广泛应用于各种嵌入式系统中。通过蓝牙模块，51单片机可以实现与其他设备（如手机、电脑或其他单片机）的无线通信。本文将介绍如何使用51单片机与蓝牙模块进行通信，并提供详细的代码示例和实际应用案例。

## 硬件连接

首先，我们需要将蓝牙模块与51单片机连接。常见的蓝牙模块如HC-05或HC-06，它们通常通过串口与单片机通信。以下是连接方式：

- **VCC**：连接5V电源
- **GND**：连接地
- **TXD**：连接单片机的RXD引脚
- **RXD**：连接单片机的TXD引脚

:::note
注意：蓝牙模块的RXD引脚需要连接一个1kΩ的电阻，以降低电压，避免损坏模块。
:::

## 串口通信配置

51单片机通过串口与蓝牙模块通信。我们需要配置单片机的串口参数，使其与蓝牙模块的通信参数一致。常见的参数为：

- 波特率：9600
- 数据位：8
- 停止位：1
- 无校验位

以下是51单片机的串口初始化代码：

```c
#include <reg52.h>

void UART_Init() {
    SCON = 0x50;  // 8位数据，1位停止位
    TMOD = 0x20;  // 定时器1模式2
    TH1 = 0xFD;   // 波特率9600
    TL1 = 0xFD;
    TR1 = 1;      // 启动定时器1
    ES = 1;       // 使能串口中断
    EA = 1;       // 使能总中断
}

void UART_SendByte(unsigned char byte) {
    SBUF = byte;
    while (!TI);
    TI = 0;
}

void UART_SendString(char *str) {
    while (*str) {
        UART_SendByte(*str++);
    }
}

void main() {
    UART_Init();
    UART_SendString("Hello, Bluetooth!\n");
    while (1);
}
```

## 蓝牙模块的AT指令

蓝牙模块通常支持AT指令，用于配置模块的参数。例如，我们可以通过AT指令修改蓝牙模块的名称、波特率等。以下是一些常用的AT指令：

- **AT**：测试模块是否正常工作
- **AT+NAME**：设置蓝牙名称
- **AT+BAUD**：设置波特率

:::caution
注意：发送AT指令时，蓝牙模块需要处于AT模式。通常可以通过按住模块上的按钮或拉低某个引脚进入AT模式。
:::

## 实际应用案例

### 案例1：通过手机控制LED灯

我们可以通过手机蓝牙串口助手发送指令，控制51单片机上的LED灯。以下是实现代码：

```c
#include <reg52.h>

sbit LED = P1^0;

void UART_Init() {
    SCON = 0x50;
    TMOD = 0x20;
    TH1 = 0xFD;
    TL1 = 0xFD;
    TR1 = 1;
    ES = 1;
    EA = 1;
}

void UART_Interrupt() interrupt 4 {
    if (RI) {
        RI = 0;
        if (SBUF == '1') {
            LED = 0;  // 点亮LED
        } else if (SBUF == '0') {
            LED = 1;  // 熄灭LED
        }
    }
}

void main() {
    UART_Init();
    while (1);
}
```

### 案例2：无线数据传输

我们可以通过蓝牙模块实现51单片机与手机之间的无线数据传输。例如，单片机可以采集温度传感器的数据，并通过蓝牙发送到手机显示。

```c
#include <reg52.h>

void UART_Init() {
    SCON = 0x50;
    TMOD = 0x20;
    TH1 = 0xFD;
    TL1 = 0xFD;
    TR1 = 1;
    ES = 1;
    EA = 1;
}

void UART_SendByte(unsigned char byte) {
    SBUF = byte;
    while (!TI);
    TI = 0;
}

void UART_SendString(char *str) {
    while (*str) {
        UART_SendByte(*str++);
    }
}

void main() {
    unsigned int temperature = 25;  // 假设采集到的温度
    char buffer[10];
    UART_Init();
    while (1) {
        sprintf(buffer, "Temp: %dC\n", temperature);
        UART_SendString(buffer);
        // 模拟温度变化
        temperature++;
        if (temperature > 30) temperature = 25;
        // 延时
        for (int i = 0; i < 10000; i++);
    }
}
```

## 总结

通过本文的学习，你应该已经掌握了51单片机与蓝牙模块的基本通信原理和实现方法。蓝牙模块为单片机提供了便捷的无线通信能力，可以广泛应用于各种嵌入式系统中。

## 附加资源与练习

- **练习1**：尝试修改蓝牙模块的名称和波特率，并通过手机蓝牙串口助手进行验证。
- **练习2**：设计一个简单的项目，通过手机蓝牙控制51单片机的多个LED灯。
- **资源**：参考HC-05/HC-06蓝牙模块的数据手册，了解更多AT指令和配置方法。

希望本文对你学习51单片机蓝牙模块有所帮助！如果有任何问题，欢迎在评论区留言讨论。