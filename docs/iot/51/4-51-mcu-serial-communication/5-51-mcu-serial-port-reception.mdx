---
title: 51单片机串口接收
description: 学习如何在51单片机中实现串口接收功能，掌握串口通信的基本原理和实际应用。
---

# 51单片机串口接收

## 介绍

串口通信是单片机与外部设备进行数据交换的一种常见方式。51单片机内置了UART（通用异步收发传输器）模块，能够方便地实现串口通信。本文将详细介绍如何在51单片机中实现串口接收功能，并通过代码示例和实际案例帮助你理解这一概念。

## 串口通信基础

串口通信是一种异步通信方式，数据通过一根数据线逐位传输。通信双方需要约定相同的波特率（Baud Rate）、数据位、停止位和校验位等参数。

### 波特率

波特率是指每秒传输的位数（bps）。常见的波特率有9600、19200、38400、57600、115200等。

### 数据帧格式

一个典型的数据帧包括：
- 起始位（1位）
- 数据位（5-9位）
- 校验位（可选）
- 停止位（1-2位）

## 51单片机串口接收配置

在51单片机中，串口接收功能主要通过配置寄存器来实现。以下是配置步骤：

1. **设置波特率**：通过设置定时器1的初值来生成所需的波特率。
2. **配置串口模式**：选择串口工作模式（模式1为8位UART）。
3. **启用串口接收**：设置SCON寄存器中的REN位为1，启用接收功能。
4. **启用中断**：如果需要使用中断方式接收数据，设置ES位为1。

### 代码示例

以下是一个简单的51单片机串口接收代码示例：

```c
#include <reg51.h>

void UART_Init() {
    // 设置波特率为9600
    TMOD = 0x20;  // 定时器1模式2
    TH1 = 0xFD;   // 波特率9600
    TL1 = 0xFD;
    TR1 = 1;      // 启动定时器1

    SCON = 0x50;  // 8位UART，启用接收
    ES = 1;       // 启用串口中断
    EA = 1;       // 启用全局中断
}

void UART_ISR() interrupt 4 {
    if (RI) {
        RI = 0;  // 清除接收标志
        SBUF = SBUF;  // 将接收到的数据发送回去
    }
}

void main() {
    UART_Init();
    while (1);
}
```

### 输入和输出

- **输入**：通过串口发送数据到单片机。
- **输出**：单片机接收到数据后，将数据原样发送回去。

## 实际案例

### 案例：温度传感器数据接收

假设我们有一个温度传感器通过串口发送温度数据到51单片机。单片机接收到数据后，将温度值显示在LCD屏幕上。

```c
#include <reg51.h>

void UART_Init() {
    TMOD = 0x20;
    TH1 = 0xFD;
    TL1 = 0xFD;
    TR1 = 1;

    SCON = 0x50;
    ES = 1;
    EA = 1;
}

void UART_ISR() interrupt 4 {
    if (RI) {
        RI = 0;
        unsigned char temp = SBUF;
        // 将温度值显示在LCD上
        // LCD_Display(temp);
    }
}

void main() {
    UART_Init();
    while (1);
}
```

## 总结

通过本文的学习，你应该已经掌握了51单片机串口接收的基本原理和实现方法。串口通信在嵌入式系统中应用广泛，掌握这一技能对于开发实际项目非常重要。

## 附加资源

- [51单片机串口通信手册](https://example.com)
- [串口通信协议详解](https://example.com)

## 练习

1. 修改代码，使其能够接收并处理多个字节的数据。
2. 尝试使用不同的波特率进行通信，观察通信效果。
3. 设计一个简单的通信协议，实现单片机与PC机的双向通信。

:::tip
在实际项目中，串口通信可能会受到噪声干扰，建议在硬件设计时加入适当的滤波电路。
:::