---
title: Git 忽略文件
description: 学习如何使用 `.gitignore` 文件来忽略不需要跟踪的文件和目录，保持代码库的整洁。
---

在 Git 中，`.gitignore` 文件是一个非常有用的工具，它允许你指定哪些文件或目录不应该被 Git 跟踪。这对于避免将不必要的文件（如编译生成的文件、日志文件、临时文件等）提交到代码库中非常有用。

## 什么是 `.gitignore` 文件？

`.gitignore` 文件是一个纯文本文件，其中包含了你希望 Git 忽略的文件和目录的模式。这些模式可以是文件名、目录名，或者是通配符模式。Git 会根据这些模式来决定哪些文件不应该被跟踪。

## 如何创建 `.gitignore` 文件

在你的项目根目录下创建一个名为 `.gitignore` 的文件。你可以使用任何文本编辑器来创建和编辑这个文件。

```bash
touch .gitignore
```

## `.gitignore` 文件的基本语法

`.gitignore` 文件中的每一行都是一个模式，Git 会根据这些模式来忽略文件。以下是一些常见的模式示例：

- **忽略特定文件**：直接写文件名。
  ```
  temp.txt
  ```

- **忽略特定目录**：在目录名后加上 `/`。
  ```
  logs/
  ```

- **忽略特定扩展名的文件**：使用通配符 `*`。
  ```
  *.log
  ```

- **忽略特定目录下的所有文件**：使用 `**` 来匹配任意层级的目录。
  ```
  build/**/*
  ```

- **忽略特定文件，但不忽略子目录中的同名文件**：在模式前加上 `/`。
  ```
  /config.ini
  ```

- **忽略特定文件，但排除某些文件**：使用 `!` 来排除。
  ```
  *.log
  !important.log
  ```

## 实际案例

假设你有一个项目，其中包含以下文件和目录：

```
project/
├── src/
│   ├── main.py
│   └── utils.py
├── logs/
│   ├── debug.log
│   └── error.log
├── build/
│   ├── main.o
│   └── utils.o
├── temp.txt
└── .gitignore
```

你希望忽略 `logs/` 目录、`build/` 目录以及 `temp.txt` 文件。你可以在 `.gitignore` 文件中添加以下内容：

```
logs/
build/
temp.txt
```

这样，Git 就会忽略这些文件和目录，不会将它们添加到版本控制中。

## 注意事项

- `.gitignore` 文件本身是需要被 Git 跟踪的，因此你应该将它添加到 Git 中。
  ```bash
  git add .gitignore
  git commit -m "Add .gitignore file"
  ```

- 如果你已经将某些文件添加到 Git 中，然后再将它们添加到 `.gitignore` 文件中，Git 仍然会继续跟踪这些文件。你需要手动从 Git 中移除这些文件：
  ```bash
  git rm --cached <file>
  ```

## 总结

`.gitignore` 文件是 Git 中一个非常有用的工具，它可以帮助你保持代码库的整洁，避免将不必要的文件提交到版本控制中。通过合理使用 `.gitignore` 文件，你可以更高效地管理你的项目。

## 附加资源

- [Git 官方文档 - Ignoring Files](https://git-scm.com/docs/gitignore)
- [GitHub 的 `.gitignore` 模板](https://github.com/github/gitignore)

## 练习

1. 在你的项目中创建一个 `.gitignore` 文件，并添加一些模式来忽略不必要的文件和目录。
2. 尝试使用 `git rm --cached` 命令来移除已经被 Git 跟踪的文件。

通过实践这些步骤，你将更好地理解如何使用 `.gitignore` 文件来管理你的 Git 项目。