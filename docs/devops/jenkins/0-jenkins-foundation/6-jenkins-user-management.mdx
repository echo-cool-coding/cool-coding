---
title: Jenkins 用户管理
description: 了解如何在 Jenkins 中管理用户，包括创建用户、分配权限以及配置安全设置。适合初学者学习 Jenkins 用户管理的基础知识。
---

## 介绍

Jenkins 是一个强大的持续集成和持续交付（CI/CD）工具，广泛应用于软件开发中。为了确保 Jenkins 环境的安全性和可管理性，用户管理是一个至关重要的部分。通过 Jenkins 用户管理，您可以控制谁可以访问 Jenkins，以及他们可以执行哪些操作。

在本教程中，我们将逐步介绍如何在 Jenkins 中管理用户，包括创建用户、分配权限以及配置安全设置。我们还将通过实际案例展示这些概念的应用。

## 1. 启用 Jenkins 安全设置

在开始管理用户之前，首先需要确保 Jenkins 的安全设置已启用。默认情况下，Jenkins 可能允许匿名用户访问，这在实际生产环境中是不安全的。

### 步骤 1: 进入 Jenkins 管理页面

1. 打开 Jenkins 仪表板。
2. 点击左侧菜单中的 **Manage Jenkins**（管理 Jenkins）。
3. 选择 **Configure Global Security**（配置全局安全）。

### 步骤 2: 启用安全设置

在 **Security Realm**（安全领域）部分，选择 **Jenkins’ own user database**（Jenkins 自己的用户数据库）。这将允许 Jenkins 管理自己的用户。

在 **Authorization**（授权）部分，选择 **Matrix-based security**（基于矩阵的安全）或 **Role-Based Strategy**（基于角色的策略）。这将允许您为不同的用户分配不同的权限。

:::tip
**Matrix-based security** 允许您为每个用户或用户组分配特定的权限，而 **Role-Based Strategy** 则允许您创建角色并将角色分配给用户。
:::

### 步骤 3: 保存设置

点击 **Save**（保存）以应用更改。

## 2. 创建用户

现在，您已经启用了 Jenkins 的安全设置，接下来可以创建用户。

### 步骤 1: 进入用户管理页面

1. 在 Jenkins 仪表板中，点击 **Manage Jenkins**（管理 Jenkins）。
2. 选择 **Manage Users**（管理用户）。

### 步骤 2: 创建新用户

1. 点击 **Create User**（创建用户）。
2. 输入用户名、密码和全名。
3. 点击 **Create User**（创建用户）。

### 示例

假设我们要创建一个名为 `dev_user` 的用户，密码为 `password123`。

```plaintext
Username: dev_user
Password: password123
Full name: Developer User
```

## 3. 分配权限

创建用户后，您需要为该用户分配适当的权限。权限决定了用户可以在 Jenkins 中执行哪些操作。

### 步骤 1: 进入全局安全配置

1. 在 Jenkins 仪表板中，点击 **Manage Jenkins**（管理 Jenkins）。
2. 选择 **Configure Global Security**（配置全局安全）。

### 步骤 2: 分配权限

在 **Authorization**（授权）部分，找到您刚刚创建的用户 `dev_user`，并为其分配权限。例如，您可以允许 `dev_user` 查看 Jenkins 仪表板、创建任务和运行构建。

:::caution
确保不要为普通用户分配过多的权限，尤其是管理员权限，以防止潜在的安全风险。
:::

### 示例

假设我们要为 `dev_user` 分配以下权限：

- **Overall**（全局）: Read（读取）
- **Job**（任务）: Build（构建）, Cancel（取消）
- **View**（视图）: Read（读取）

```plaintext
User: dev_user
Permissions:
  - Overall: Read
  - Job: Build, Cancel
  - View: Read
```

## 4. 实际案例

假设您正在管理一个开发团队，团队中有开发人员、测试人员和项目经理。您希望为每个角色分配不同的权限：

- **开发人员**: 可以构建和取消任务，但不能删除任务。
- **测试人员**: 可以查看任务和构建结果，但不能修改任务。
- **项目经理**: 可以创建、修改和删除任务。

### 步骤 1: 创建用户

1. 创建三个用户：`dev_user`、`test_user` 和 `pm_user`。
2. 分别为他们设置密码。

### 步骤 2: 分配权限

1. 为 `dev_user` 分配 **Build** 和 **Cancel** 权限。
2. 为 `test_user` 分配 **Read** 权限。
3. 为 `pm_user` 分配 **Create**, **Delete**, 和 **Configure** 权限。

### 步骤 3: 验证权限

1. 使用 `dev_user` 登录，尝试构建任务。
2. 使用 `test_user` 登录，尝试查看任务。
3. 使用 `pm_user` 登录，尝试创建和删除任务。

## 5. 总结

通过本教程，您已经学会了如何在 Jenkins 中管理用户，包括创建用户、分配权限以及配置安全设置。这些技能对于确保 Jenkins 环境的安全性和可管理性至关重要。

:::note
在实际生产环境中，建议定期审查用户权限，以确保没有不必要的权限分配。
:::

## 6. 附加资源与练习

### 附加资源

- [Jenkins 官方文档 - 用户管理](https://www.jenkins.io/doc/book/security/managing-users/)
- [Jenkins 角色策略插件](https://plugins.jenkins.io/role-strategy/)

### 练习

1. 创建一个新的 Jenkins 用户，并为其分配适当的权限。
2. 尝试使用不同的用户登录 Jenkins，验证他们的权限是否按预期工作。
3. 使用 **Role-Based Strategy** 插件，创建一个角色并将其分配给多个用户。

通过完成这些练习，您将更深入地理解 Jenkins 用户管理的实际应用。