---
title: Jenkins SVN 集成
description: 了解如何在 Jenkins 中集成 SVN（Subversion）版本控制系统，实现自动化构建和部署。
---

## 介绍

Jenkins 是一个开源的持续集成和持续交付（CI/CD）工具，广泛用于自动化构建、测试和部署软件项目。SVN（Subversion）是一个流行的集中式版本控制系统，用于管理代码库。通过将 Jenkins 与 SVN 集成，您可以自动化从代码提交到构建和部署的整个流程。

在本教程中，我们将逐步介绍如何在 Jenkins 中配置 SVN 集成，并通过实际案例展示其应用场景。

## 前提条件

在开始之前，请确保您已经具备以下条件：

- 已安装并配置好 Jenkins。
- 已安装 SVN 客户端，并且您拥有访问 SVN 仓库的权限。
- 了解基本的 Jenkins 和 SVN 操作。

## 步骤 1：安装 SVN 插件

首先，您需要在 Jenkins 中安装 SVN 插件。以下是安装步骤：

1. 登录 Jenkins 控制台。
2. 导航到 **Manage Jenkins** > **Manage Plugins**。
3. 在 **Available** 选项卡中，搜索 `Subversion` 插件。
4. 勾选插件并点击 **Install without restart**。

:::tip
如果您已经安装了 SVN 插件，可以跳过此步骤。
:::

## 步骤 2：配置 SVN 仓库

接下来，您需要在 Jenkins 中配置 SVN 仓库。以下是配置步骤：

1. 在 Jenkins 控制台中，点击 **New Item** 创建一个新的任务。
2. 输入任务名称，选择 **Freestyle project**，然后点击 **OK**。
3. 在 **Source Code Management** 部分，选择 **Subversion**。
4. 在 **Repository URL** 字段中，输入您的 SVN 仓库 URL。
5. 如果需要认证，点击 **Add** 按钮添加您的 SVN 凭据。

:::caution
确保 SVN 仓库 URL 正确无误，并且 Jenkins 服务器可以访问该仓库。
:::

## 步骤 3：配置构建触发器

为了在 SVN 仓库中有新提交时自动触发构建，您需要配置构建触发器。以下是配置步骤：

1. 在任务配置页面，找到 **Build Triggers** 部分。
2. 勾选 **Poll SCM** 选项。
3. 在 **Schedule** 字段中，输入轮询时间表。例如，`H/5 * * * *` 表示每 5 分钟检查一次 SVN 仓库。

:::note
`H/5 * * * *` 是一个 Cron 表达式，表示每 5 分钟轮询一次 SVN 仓库。
:::

## 步骤 4：配置构建步骤

在 Jenkins 任务中，您可以配置构建步骤来执行构建、测试和部署操作。以下是一个简单的构建步骤示例：

1. 在任务配置页面，找到 **Build** 部分。
2. 点击 **Add build step**，选择 **Execute shell**（如果是 Linux 环境）或 **Execute Windows batch command**（如果是 Windows 环境）。
3. 在命令输入框中，输入您的构建命令。例如：

```bash
echo "Building the project..."
mvn clean install
```

:::tip
您可以根据项目需求添加更多的构建步骤，例如运行测试、打包应用程序等。
:::

## 实际案例

假设您有一个 Java 项目托管在 SVN 仓库中，并且您希望在每次提交代码时自动构建和测试该项目。以下是实现此目标的步骤：

1. 在 Jenkins 中创建一个新的 Freestyle 项目。
2. 配置 SVN 仓库 URL 和认证信息。
3. 配置构建触发器为 `H/5 * * * *`，以便每 5 分钟检查一次 SVN 仓库。
4. 在构建步骤中添加以下命令：

```bash
echo "Building the Java project..."
mvn clean install
```

5. 保存配置并提交一些代码到 SVN 仓库。Jenkins 将自动检测到更改并触发构建。

:::warning
如果构建失败，请检查 Jenkins 控制台输出以获取更多信息。
:::

## 总结

通过本教程，您已经学会了如何在 Jenkins 中集成 SVN 版本控制系统，并配置自动化构建和部署流程。Jenkins 的 SVN 集成使得代码提交后的构建和测试过程更加高效和可靠。

## 附加资源

- [Jenkins 官方文档](https://www.jenkins.io/doc/)
- [SVN 官方文档](https://subversion.apache.org/docs/)
- [Cron 表达式指南](https://crontab.guru/)

## 练习

1. 尝试在 Jenkins 中配置一个 SVN 仓库，并设置每 10 分钟轮询一次。
2. 在构建步骤中添加一个测试命令，例如 `mvn test`，并观察构建结果。
3. 探索 Jenkins 的其他插件，例如 Git 插件，并比较其与 SVN 集成的异同。

通过完成这些练习，您将更深入地理解 Jenkins 与 SVN 集成的实际应用。