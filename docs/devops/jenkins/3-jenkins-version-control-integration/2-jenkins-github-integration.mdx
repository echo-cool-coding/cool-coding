---
title: Jenkins GitHub 集成
description: 了解如何将 Jenkins 与 GitHub 集成，以实现自动化构建和持续集成流程。
---

# Jenkins GitHub 集成

在现代软件开发中，持续集成（CI）是一个至关重要的实践。Jenkins 是一个广泛使用的开源自动化服务器，而 GitHub 是最受欢迎的代码托管平台之一。通过将 Jenkins 与 GitHub 集成，开发团队可以自动化构建、测试和部署流程，从而提高开发效率和代码质量。

本文将逐步介绍如何将 Jenkins 与 GitHub 集成，并通过实际案例展示其应用场景。

## 什么是 Jenkins GitHub 集成？

Jenkins GitHub 集成是指将 Jenkins 与 GitHub 连接起来，使得每当有代码推送到 GitHub 仓库时，Jenkins 可以自动触发构建和测试流程。这种集成可以帮助开发团队快速发现并修复代码中的问题，确保代码库始终处于可部署状态。

## 准备工作

在开始之前，请确保你已经完成以下准备工作：

1. **安装 Jenkins**：确保你已经安装并配置好 Jenkins。如果尚未安装，可以参考 [Jenkins 官方文档](https://www.jenkins.io/doc/book/installing/) 进行安装。
2. **创建 GitHub 仓库**：你需要一个 GitHub 仓库来存储代码。如果还没有，可以在 GitHub 上创建一个新的仓库。
3. **生成 GitHub 访问令牌**：为了允许 Jenkins 访问 GitHub 仓库，你需要生成一个 GitHub 访问令牌。可以在 GitHub 的 [开发者设置](https://github.com/settings/tokens) 中生成一个新的令牌，并确保它具有 `repo` 和 `admin:repo_hook` 权限。

## 配置 Jenkins 与 GitHub 集成

### 1. 安装 GitHub 插件

首先，你需要在 Jenkins 中安装 GitHub 插件。该插件允许 Jenkins 与 GitHub 进行交互。

1. 登录 Jenkins 控制台。
2. 导航到 **Manage Jenkins** > **Manage Plugins**。
3. 在 **Available** 选项卡中搜索 `GitHub` 插件。
4. 选择 `GitHub` 插件并点击 **Install without restart**。

### 2. 配置 GitHub 访问令牌

接下来，你需要在 Jenkins 中配置 GitHub 访问令牌。

1. 导航到 **Manage Jenkins** > **Manage Credentials**。
2. 在 **Stores scoped to Jenkins** 下，点击 **Global credentials (unrestricted)**。
3. 点击 **Add Credentials**。
4. 在 **Kind** 下拉菜单中选择 **Secret text**。
5. 在 **Secret** 字段中粘贴你之前生成的 GitHub 访问令牌。
6. 在 **ID** 字段中输入一个唯一的标识符，例如 `github-token`。
7. 点击 **OK** 保存。

### 3. 配置 Jenkins 项目

现在，你可以配置一个 Jenkins 项目来与 GitHub 集成。

1. 在 Jenkins 控制台中，点击 **New Item** 创建一个新的项目。
2. 输入项目名称并选择 **Freestyle project**，然后点击 **OK**。
3. 在 **Source Code Management** 部分，选择 **Git**。
4. 在 **Repository URL** 字段中输入你的 GitHub 仓库的 URL，例如 `https://github.com/your-username/your-repo.git`。
5. 在 **Credentials** 下拉菜单中选择你之前配置的 GitHub 访问令牌。
6. 在 **Build Triggers** 部分，勾选 **GitHub hook trigger for GITScm polling**。
7. 在 **Build** 部分，点击 **Add build step** 并选择 **Execute shell**（如果你使用的是 Linux 或 macOS）或 **Execute Windows batch command**（如果你使用的是 Windows）。
8. 在命令框中输入你的构建命令，例如 `mvn clean install`。
9. 点击 **Save** 保存配置。

### 4. 配置 GitHub Webhook

最后，你需要在 GitHub 仓库中配置 Webhook，以便在代码推送时触发 Jenkins 构建。

1. 打开你的 GitHub 仓库，导航到 **Settings** > **Webhooks**。
2. 点击 **Add webhook**。
3. 在 **Payload URL** 字段中输入你的 Jenkins 服务器的 URL，例如 `http://your-jenkins-server/github-webhook/`。
4. 在 **Content type** 下拉菜单中选择 `application/json`。
5. 在 **Which events would you like to trigger this webhook?** 部分，选择 **Just the push event**。
6. 点击 **Add webhook** 保存。

## 实际案例

假设你有一个简单的 Java 项目，使用 Maven 进行构建。你希望每当有代码推送到 GitHub 仓库时，Jenkins 能够自动构建项目并运行单元测试。

1. 在 Jenkins 中创建一个新的 Freestyle 项目，并按照上述步骤配置 GitHub 集成。
2. 在 **Build** 部分，添加一个 **Execute shell** 步骤，并输入以下命令：

   ```bash
   mvn clean install
   ```

3. 保存配置并推送到 GitHub 仓库。
4. 每当有代码推送到 GitHub 仓库时，Jenkins 将自动触发构建并运行单元测试。

## 总结

通过将 Jenkins 与 GitHub 集成，你可以实现自动化构建和持续集成流程，从而提高开发效率和代码质量。本文介绍了如何配置 Jenkins 与 GitHub 集成，并通过实际案例展示了其应用场景。

## 附加资源

- [Jenkins 官方文档](https://www.jenkins.io/doc/)
- [GitHub 开发者文档](https://docs.github.com/en/developers)
- [Maven 官方文档](https://maven.apache.org/guides/)

## 练习

1. 创建一个新的 GitHub 仓库，并尝试将 Jenkins 与 GitHub 集成。
2. 配置 Jenkins 项目，使其在每次代码推送时自动运行单元测试。
3. 尝试使用不同的构建工具（如 Gradle 或 Ant）来配置 Jenkins 项目。

通过完成这些练习，你将更深入地理解 Jenkins GitHub 集成的概念，并能够在实际项目中应用这些知识。