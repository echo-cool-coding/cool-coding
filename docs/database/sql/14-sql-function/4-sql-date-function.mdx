---
title: SQL 日期函数
description: 了解SQL日期函数的基本概念、常见用法以及实际应用场景，帮助初学者掌握如何处理和操作日期数据。
---

# SQL 日期函数

在SQL中，日期函数是用于处理和操作日期和时间数据的工具。无论是提取日期的某一部分、计算日期之间的差异，还是格式化日期输出，日期函数都能帮助我们轻松完成这些任务。本文将详细介绍SQL中常用的日期函数，并通过实际案例展示它们的应用。

## 1. 常见的SQL日期函数

### 1.1 `CURRENT_DATE`
`CURRENT_DATE` 函数用于返回当前日期。它不需要任何参数，直接返回系统当前的日期。

```sql
SELECT CURRENT_DATE;
```

**输出：**
```
2023-10-05
```

### 1.2 `CURRENT_TIME`
`CURRENT_TIME` 函数用于返回当前时间。与 `CURRENT_DATE` 类似，它也不需要任何参数。

```sql
SELECT CURRENT_TIME;
```

**输出：**
```
14:30:45
```

### 1.3 `NOW()`
`NOW()` 函数返回当前的日期和时间。它通常用于记录时间戳。

```sql
SELECT NOW();
```

**输出：**
```
2023-10-05 14:30:45
```

### 1.4 `DATE()`
`DATE()` 函数用于从日期时间值中提取日期部分。

```sql
SELECT DATE('2023-10-05 14:30:45');
```

**输出：**
```
2023-10-05
```

### 1.5 `DATE_ADD()` 和 `DATE_SUB()`
`DATE_ADD()` 和 `DATE_SUB()` 函数分别用于在日期上添加或减去指定的时间间隔。

```sql
SELECT DATE_ADD('2023-10-05', INTERVAL 7 DAY);
```

**输出：**
```
2023-10-12
```

```sql
SELECT DATE_SUB('2023-10-05', INTERVAL 1 MONTH);
```

**输出：**
```
2023-09-05
```

### 1.6 `DATEDIFF()`
`DATEDIFF()` 函数用于计算两个日期之间的天数差。

```sql
SELECT DATEDIFF('2023-10-12', '2023-10-05');
```

**输出：**
```
7
```

### 1.7 `DATE_FORMAT()`
`DATE_FORMAT()` 函数用于格式化日期输出。它允许你自定义日期的显示格式。

```sql
SELECT DATE_FORMAT('2023-10-05', '%Y/%m/%d');
```

**输出：**
```
2023/10/05
```

## 2. 实际应用案例

### 2.1 计算会员注册天数
假设你有一个会员表 `members`，其中包含会员的注册日期 `registration_date`。你可以使用 `DATEDIFF()` 函数计算每个会员的注册天数。

```sql
SELECT member_id, DATEDIFF(CURRENT_DATE, registration_date) AS days_since_registration
FROM members;
```

**输出：**
```
member_id | days_since_registration
----------|------------------------
1         | 120
2         | 45
3         | 365
```

### 2.2 计算订单的预计送达日期
假设你有一个订单表 `orders`，其中包含订单的创建日期 `order_date`。你可以使用 `DATE_ADD()` 函数计算每个订单的预计送达日期（假设配送时间为3天）。

```sql
SELECT order_id, DATE_ADD(order_date, INTERVAL 3 DAY) AS estimated_delivery_date
FROM orders;
```

**输出：**
```
order_id | estimated_delivery_date
---------|------------------------
1        | 2023-10-08
2        | 2023-10-09
3        | 2023-10-10
```

## 3. 总结

SQL日期函数是处理日期和时间数据的强大工具。通过掌握这些函数，你可以轻松地提取、计算和格式化日期数据，从而满足各种业务需求。无论是计算日期差、添加时间间隔，还是格式化日期输出，SQL日期函数都能帮助你高效完成任务。

## 4. 附加资源与练习

- **练习1**：编写一个SQL查询，计算每个员工的工龄（以年为单位）。
- **练习2**：编写一个SQL查询，找出所有在2023年10月1日之后创建的订单。
- **练习3**：使用 `DATE_FORMAT()` 函数，将日期格式化为 `YYYY年MM月DD日` 的形式。

通过不断练习，你将更加熟练地使用SQL日期函数，并能够灵活应对各种日期处理需求。