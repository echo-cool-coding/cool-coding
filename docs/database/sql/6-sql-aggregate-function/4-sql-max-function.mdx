---
title: SQL MAX 函数
description: 了解 SQL 中的 MAX 函数，掌握如何使用它来查找数据集中的最大值。本文包含详细的解释、代码示例和实际应用场景。
---

# SQL MAX 函数

在 SQL 中，聚合函数用于对一组值执行计算并返回单个值。`MAX` 函数是 SQL 中最常用的聚合函数之一，用于查找指定列中的最大值。无论你是处理数值、日期还是字符串数据，`MAX` 函数都能帮助你快速找到所需的最大值。

## 什么是 MAX 函数？

`MAX` 函数用于从一组值中返回最大值。它可以应用于数值、日期或字符串类型的数据。`MAX` 函数通常与 `SELECT` 语句一起使用，并且可以与 `GROUP BY` 子句结合使用，以便按组查找最大值。

### 语法

```sql
SELECT MAX(column_name)
FROM table_name
WHERE condition;
```

- `column_name`：要查找最大值的列。
- `table_name`：包含目标列的表。
- `condition`：可选，用于过滤数据。

## 使用 MAX 函数的示例

### 示例 1：查找数值列的最大值

假设我们有一个名为 `sales` 的表，其中包含以下数据：

```sql
+----+------------+-------+
| id | product    | price |
+----+------------+-------+
| 1  | Laptop     | 1200  |
| 2  | Smartphone | 800   |
| 3  | Tablet     | 600   |
| 4  | Monitor    | 300   |
+----+------------+-------+
```

要查找 `price` 列中的最大值，可以使用以下 SQL 查询：

```sql
SELECT MAX(price) AS max_price
FROM sales;
```

**输出：**

```sql
+-----------+
| max_price |
+-----------+
| 1200      |
+-----------+
```

### 示例 2：查找日期列的最大值

假设我们有一个名为 `orders` 的表，其中包含以下数据：

```sql
+----+------------+------------+
| id | order_date | customer_id |
+----+------------+------------+
| 1  | 2023-01-15 | 101        |
| 2  | 2023-02-10 | 102        |
| 3  | 2023-03-05 | 103        |
| 4  | 2023-04-20 | 104        |
+----+------------+------------+
```

要查找 `order_date` 列中的最新日期，可以使用以下 SQL 查询：

```sql
SELECT MAX(order_date) AS latest_order
FROM orders;
```

**输出：**

```sql
+--------------+
| latest_order |
+--------------+
| 2023-04-20   |
+--------------+
```

### 示例 3：结合 GROUP BY 使用 MAX 函数

假设我们有一个名为 `employees` 的表，其中包含以下数据：

```sql
+----+------------+--------+--------+
| id | name       | salary | department |
+----+------------+--------+--------+
| 1  | Alice      | 5000   | HR     |
| 2  | Bob        | 6000   | IT     |
| 3  | Charlie    | 5500   | HR     |
| 4  | David      | 7000   | IT     |
+----+------------+--------+--------+
```

要查找每个部门的最高工资，可以使用以下 SQL 查询：

```sql
SELECT department, MAX(salary) AS max_salary
FROM employees
GROUP BY department;
```

**输出：**

```sql
+------------+------------+
| department | max_salary |
+------------+------------+
| HR         | 5500       |
| IT         | 7000       |
+------------+------------+
```

## 实际应用场景

### 场景 1：查找销售记录中的最高销售额

假设你是一家零售公司的数据分析师，需要查找每个产品类别的最高销售额。通过使用 `MAX` 函数和 `GROUP BY` 子句，你可以轻松完成这项任务。

### 场景 2：查找最近一次订单的日期

如果你需要查找某个客户最近一次下单的日期，`MAX` 函数可以帮助你快速找到该日期，从而为后续的客户分析提供支持。

## 总结

`MAX` 函数是 SQL 中一个非常实用的聚合函数，用于查找数据集中的最大值。无论是数值、日期还是字符串数据，`MAX` 函数都能帮助你快速找到所需的最大值。通过结合 `GROUP BY` 子句，你还可以按组查找最大值，从而满足更复杂的查询需求。

## 附加资源与练习

- **练习 1**：在一个包含学生成绩的表中，使用 `MAX` 函数查找每个科目的最高分。
- **练习 2**：在一个包含员工信息的表中，使用 `MAX` 函数查找每个部门中工资最高的员工。

:::tip
如果你对 SQL 聚合函数还不熟悉，建议先学习 `SUM`、`AVG` 和 `MIN` 函数，以便更好地理解 `MAX` 函数的使用场景。
:::

:::caution
在使用 `MAX` 函数时，请确保目标列的数据类型一致，否则可能会导致意外的结果。
:::