---
title: MySQL 运算符优先级
description: 了解MySQL中运算符的优先级，掌握如何正确编写查询以避免逻辑错误。
---

# MySQL 运算符优先级

在编写MySQL查询时，理解运算符的优先级至关重要。运算符优先级决定了表达式中各个运算符的执行顺序。如果忽略优先级，可能会导致查询结果与预期不符。本文将详细介绍MySQL中的运算符优先级，并通过示例帮助你掌握这一概念。

## 什么是运算符优先级？

运算符优先级是指在一个表达式中，多个运算符同时出现时，MySQL执行这些运算符的顺序。例如，在表达式 `1 + 2 * 3` 中，乘法运算符 `*` 的优先级高于加法运算符 `+`，因此MySQL会先计算 `2 * 3`，然后再将结果与 `1` 相加。

## MySQL 运算符优先级表

以下是MySQL中常见运算符的优先级表，从高到低排列：

| 优先级 | 运算符 |
|--------|--------|
| 1      | `!`（逻辑非） |
| 2      | `-`（负号）、`~`（按位取反） |
| 3      | `*`（乘法）、`/`（除法）、`%`（取模） |
| 4      | `+`（加法）、`-`（减法） |
| 5      | `<<`（左移）、`>>`（右移） |
| 6      | `&`（按位与） |
| 7      | `^`（按位异或） |
| 8      | `|`（按位或） |
| 9      | `=`（等于）、`<=>`（NULL安全的等于）、`!=`（不等于）、`<>`（不等于）、`<`（小于）、`<=`（小于等于）、`>`（大于）、`>=`（大于等于） |
| 10     | `BETWEEN`、`CASE`、`WHEN`、`THEN`、`ELSE` |
| 11     | `NOT` |
| 12     | `AND` |
| 13     | `OR` |

:::tip
如果你不确定运算符的优先级，可以使用括号 `()` 来明确指定运算顺序。括号内的表达式会优先计算。
:::

## 示例：运算符优先级的影响

让我们通过一个简单的例子来理解运算符优先级的影响。

```sql
SELECT 1 + 2 * 3;
```

在这个查询中，MySQL会先计算 `2 * 3`，然后再将结果与 `1` 相加。因此，输出结果为：

```
7
```

如果你希望先计算 `1 + 2`，然后再乘以 `3`，可以使用括号来改变运算顺序：

```sql
SELECT (1 + 2) * 3;
```

这次，MySQL会先计算 `1 + 2`，然后再将结果乘以 `3`。输出结果为：

```
9
```

## 实际应用场景

假设你正在编写一个查询，计算员工的奖金。奖金计算规则如下：

- 如果员工的销售额超过10000，奖金为销售额的10%。
- 否则，奖金为销售额的5%。

你可以使用以下查询：

```sql
SELECT 
    employee_id, 
    sales, 
    CASE 
        WHEN sales > 10000 THEN sales * 0.10 
        ELSE sales * 0.05 
    END AS bonus
FROM employees;
```

在这个查询中，`CASE` 语句的优先级高于乘法运算符 `*`，因此MySQL会先判断 `sales > 10000`，然后再根据条件计算奖金。

## 总结

理解MySQL运算符优先级是编写正确查询的关键。通过掌握运算符的优先级表，并合理使用括号，你可以避免逻辑错误，确保查询结果符合预期。

:::note
如果你对某个运算符的优先级不确定，建议查阅MySQL官方文档或使用括号来明确运算顺序。
:::

## 附加资源

- [MySQL官方文档：运算符优先级](https://dev.mysql.com/doc/refman/8.0/en/operator-precedence.html)
- 练习：编写一个查询，计算 `(5 + 3) * 2 - 4 / 2` 的结果，并验证你的理解。

通过不断练习和应用，你将能够熟练地掌握MySQL运算符优先级，并在实际项目中灵活运用。