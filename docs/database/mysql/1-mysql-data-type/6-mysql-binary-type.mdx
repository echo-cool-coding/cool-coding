---
title: MySQL 二进制类型
description: 了解MySQL中的二进制数据类型，包括BINARY、VARBINARY、BLOB等的使用场景和实际应用。
---

# MySQL 二进制类型

在MySQL中，二进制类型用于存储二进制数据，例如图像、音频、视频或其他非文本数据。与字符类型不同，二进制类型直接存储字节数据，而不是字符编码。这使得它们非常适合存储原始二进制数据。

## 二进制类型概述

MySQL提供了多种二进制数据类型，主要包括以下几种：

1. **BINARY**：固定长度的二进制字符串。
2. **VARBINARY**：可变长度的二进制字符串。
3. **BLOB**：二进制大对象，用于存储大量二进制数据。

接下来，我们将逐一介绍这些类型，并通过示例展示它们的用法。

---

## 1. BINARY 类型

`BINARY` 类型用于存储固定长度的二进制字符串。它的长度在创建表时指定，并且存储的数据会被填充到指定长度。如果数据长度小于指定长度，MySQL会用零字节（`\0`）填充。

### 语法
```sql
BINARY(n)
```
其中，`n` 表示字节长度，范围是 1 到 255。

### 示例
假设我们需要存储固定长度为 5 的二进制数据：

```sql
CREATE TABLE binary_example (
    id INT PRIMARY KEY,
    data BINARY(5)
);
```

插入数据时，如果数据长度小于 5，MySQL会自动填充零字节：

```sql
INSERT INTO binary_example (id, data) VALUES (1, 'abc');
```

查询数据时，可以使用 `HEX()` 函数查看二进制数据的十六进制表示：

```sql
SELECT id, HEX(data) FROM binary_example;
```

**输出：**
```
+----+-----------+
| id | HEX(data) |
+----+-----------+
|  1 | 6162630000 |
+----+-----------+
```

:::note
`BINARY` 类型适合存储长度固定的二进制数据，例如哈希值或加密密钥。
:::

---

## 2. VARBINARY 类型

`VARBINARY` 类型用于存储可变长度的二进制字符串。与 `BINARY` 不同，`VARBINARY` 不会填充数据，因此它更适合存储长度不固定的二进制数据。

### 语法
```sql
VARBINARY(n)
```
其中，`n` 表示最大字节长度，范围是 1 到 65,535。

### 示例
创建一个表来存储可变长度的二进制数据：

```sql
CREATE TABLE varbinary_example (
    id INT PRIMARY KEY,
    data VARBINARY(100)
);
```

插入数据时，MySQL不会填充零字节：

```sql
INSERT INTO varbinary_example (id, data) VALUES (1, 'Hello');
```

查询数据时，同样可以使用 `HEX()` 函数查看二进制数据：

```sql
SELECT id, HEX(data) FROM varbinary_example;
```

**输出：**
```
+----+-----------+
| id | HEX(data) |
+----+-----------+
|  1 | 48656C6C6F |
+----+-----------+
```

:::tip
`VARBINARY` 类型适合存储长度不固定的二进制数据，例如用户上传的文件片段。
:::

---

## 3. BLOB 类型

`BLOB`（Binary Large Object）类型用于存储大量二进制数据，例如图像、音频或视频文件。MySQL提供了四种 `BLOB` 类型，分别支持不同大小的数据：

- `TINYBLOB`：最大 255 字节。
- `BLOB`：最大 65,535 字节。
- `MEDIUMBLOB`：最大 16,777,215 字节。
- `LONGBLOB`：最大 4,294,967,295 字节。

### 语法
```sql
BLOB
```

### 示例
创建一个表来存储图像数据：

```sql
CREATE TABLE blob_example (
    id INT PRIMARY KEY,
    image BLOB
);
```

插入二进制数据（例如图像文件）：

```sql
INSERT INTO blob_example (id, image) VALUES (1, LOAD_FILE('/path/to/image.jpg'));
```

查询数据时，可以使用 `LENGTH()` 函数查看二进制数据的长度：

```sql
SELECT id, LENGTH(image) FROM blob_example;
```

**输出：**
```
+----+--------------+
| id | LENGTH(image) |
+----+--------------+
|  1 |        123456 |
+----+--------------+
```

:::caution
`BLOB` 类型适合存储大文件，但需要注意服务器的存储空间和性能。
:::

---

## 实际应用场景

1. **存储加密数据**：使用 `BINARY` 或 `VARBINARY` 存储加密后的密码或密钥。
2. **存储文件**：使用 `BLOB` 存储用户上传的图像、音频或视频文件。
3. **存储哈希值**：使用 `BINARY` 存储固定长度的哈希值，例如 MD5 或 SHA-256。

---

## 总结

MySQL的二进制类型为存储非文本数据提供了强大的支持。通过 `BINARY`、`VARBINARY` 和 `BLOB`，我们可以高效地存储和处理二进制数据。选择合适的数据类型取决于数据的长度和用途：

- 使用 `BINARY` 存储固定长度的二进制数据。
- 使用 `VARBINARY` 存储可变长度的二进制数据。
- 使用 `BLOB` 存储大文件或大量二进制数据。

---

## 附加资源与练习

1. **练习**：创建一个表，使用 `VARBINARY` 存储用户的加密密码，并尝试插入和查询数据。
2. **阅读**：MySQL官方文档中关于[二进制类型](https://dev.mysql.com/doc/refman/8.0/en/binary-varbinary.html)的详细说明。
3. **挑战**：尝试使用 `BLOB` 存储一个较大的文件，并测试查询性能。

通过实践和深入学习，你将更好地掌握MySQL二进制类型的用法！